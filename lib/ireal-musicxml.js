/*! For license information please see ireal-musicxml.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.iReal2MusicXML=e():t.iReal2MusicXML=e()}(this,(()=>(()=>{var t={236:(t,e,r)=>{"use strict";var n=r(795),o=[],i=[],a=n.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function u(t){var e;(e=o.length?o.pop():new c).task=t,n(e)}function c(){this.task=null}t.exports=u,c.prototype.call=function(){try{this.task.call()}catch(t){u.onerror?u.onerror(t):(i.push(t),a())}finally{this.task=null,o[o.length]=this}}},795:(t,e,r)=>{"use strict";function n(t){i.length||o(),i[i.length]=t}t.exports=n;var o,i=[],a=0;function u(){for(;a<i.length;){var t=a;if(a+=1,i[t].call(),a>1024){for(var e=0,r=i.length-a;e<r;e++)i[e]=i[e+a];i.length-=a,a=0}}i.length=0,a=0}var c,s,l,f=void 0!==r.g?r.g:self,p=f.MutationObserver||f.WebKitMutationObserver;function h(t){return function(){var e=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(e),clearInterval(r),t()}}}"function"==typeof p?(c=1,s=new p(u),l=document.createTextNode(""),s.observe(l,{characterData:!0}),o=function(){c=-c,l.data=c}):o=h(u),n.requestFlush=o,n.makeRequestCallFromTimer=h},59:function(t){var e;"undefined"!=typeof self&&self,e=function(){return(()=>{var t={8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),u=r(1866);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8407:(t,e,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),u=r(4705);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),u=r(5265);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6384:(t,e,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),u=r(4758),c=r(4309);function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},6874:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7412:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},7443:(t,e,r)=>{var n=r(2118);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},4636:(t,e,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),u=r(5776),c=r(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),p=!r&&!l&&!f&&c(t),h=r||l||f||p,d=h?n(t.length,String):[],v=d.length;for(var b in t)!e&&!s.call(t,b)||h&&("length"==b||f&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||u(b,v))||d.push(b);return d}},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},2908:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},4865:(t,e,r)=>{var n=r(9465),o=r(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4037:(t,e,r)=>{var n=r(8363),o=r(3674);t.exports=function(t,e){return t&&n(e,o(e),t)}},3886:(t,e,r)=>{var n=r(8363),o=r(1704);t.exports=function(t,e){return t&&n(e,o(e),t)}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},5990:(t,e,r)=>{var n=r(6384),o=r(7412),i=r(4865),a=r(4037),u=r(3886),c=r(4626),s=r(278),l=r(8805),f=r(1911),p=r(8234),h=r(6904),d=r(4160),v=r(3824),b=r(9148),m=r(8517),y=r(1469),g=r(4144),_=r(6688),j=r(3218),w=r(2928),x=r(3674),O=r(1704),S="[object Arguments]",A="[object Function]",E="[object Object]",k={};k[S]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[E]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[A]=k["[object WeakMap]"]=!1,t.exports=function t(e,r,P,D,C,z){var F,T=1&r,M=2&r,L=4&r;if(P&&(F=C?P(e,D,C,z):P(e)),void 0!==F)return F;if(!j(e))return e;var N=y(e);if(N){if(F=v(e),!T)return s(e,F)}else{var I=d(e),R=I==A||"[object GeneratorFunction]"==I;if(g(e))return c(e,T);if(I==E||I==S||R&&!C){if(F=M||R?{}:m(e),!T)return M?f(e,u(F,e)):l(e,a(F,e))}else{if(!k[I])return C?e:{};F=b(e,I,T)}}z||(z=new n);var q=z.get(e);if(q)return q;z.set(e,F),w(e)?e.forEach((function(n){F.add(t(n,r,P,n,e,z))})):_(e)&&e.forEach((function(n,o){F.set(o,t(n,r,P,o,e,z))}));var G=N?void 0:(L?M?h:p:M?O:x)(e);return o(G||e,(function(n,o){G&&(n=e[o=n]),i(F,o,t(n,r,P,o,e,z))})),F}},3118:(t,e,r)=>{var n=r(3218),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},731:(t,e,r)=>{var n=r(8668),o=r(7443),i=r(1196),a=r(9932),u=r(1717),c=r(4757);t.exports=function(t,e,r,s){var l=-1,f=o,p=!0,h=t.length,d=[],v=e.length;if(!h)return d;r&&(e=a(e,u(r))),s?(f=i,p=!1):e.length>=200&&(f=c,p=!1,e=new n(e));t:for(;++l<h;){var b=t[l],m=null==r?b:r(b);if(b=s||0!==b?b:0,p&&m==m){for(var y=v;y--;)if(e[y]===m)continue t;d.push(b)}else f(e,m,s)||d.push(b)}return d}},1848:t=>{t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,r)=>{var n=r(2488),o=r(7285);t.exports=function t(e,r,i,a,u){var c=-1,s=e.length;for(i||(i=o),u||(u=[]);++c<s;){var l=e[c];r>0&&i(l)?r>1?t(l,r-1,i,a,u):n(u,l):a||(u[u.length]=l)}return u}},8483:(t,e,r)=>{var n=r(5063)();t.exports=n},7816:(t,e,r)=>{var n=r(8483),o=r(3674);t.exports=function(t,e){return t&&n(t,e,o)}},7786:(t,e,r)=>{var n=r(1811),o=r(327);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},8866:(t,e,r)=>{var n=r(2488),o=r(1469);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},4239:(t,e,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,r)=>{var n=r(1848),o=r(2722),i=r(2351);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},8975:(t,e,r)=>{var n=r(7816);t.exports=function(t,e,r,o){return n(t,(function(t,n,i){e(o,r(t),n,i)})),o}},9454:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},939:(t,e,r)=>{var n=r(2492),o=r(7005);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,u))}},2492:(t,e,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),u=r(4160),c=r(1469),s=r(4144),l=r(6719),f="[object Arguments]",p="[object Array]",h="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,v,b,m){var y=c(t),g=c(e),_=y?p:u(t),j=g?p:u(e),w=(_=_==f?h:_)==h,x=(j=j==f?h:j)==h,O=_==j;if(O&&s(t)){if(!s(e))return!1;y=!0,w=!1}if(O&&!w)return m||(m=new n),y||l(t)?o(t,e,r,v,b,m):i(t,e,_,r,v,b,m);if(!(1&r)){var S=w&&d.call(t,"__wrapped__"),A=x&&d.call(e,"__wrapped__");if(S||A){var E=S?t.value():t,k=A?e.value():e;return m||(m=new n),b(E,k,r,v,m)}}return!!O&&(m||(m=new n),a(t,e,r,v,b,m))}},5588:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},2958:(t,e,r)=>{var n=r(6384),o=r(939);t.exports=function(t,e,r,i){var a=r.length,u=a,c=!i;if(null==t)return!u;for(t=Object(t);a--;){var s=r[a];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<u;){var l=(s=r[a])[0],f=t[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in t))return!1}else{var h=new n;if(i)var d=i(f,p,l,t,e,h);if(!(void 0===d?o(p,f,3,i,h):d))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?p:u).test(a(t))}},9221:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},8749:(t,e,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},7206:(t,e,r)=>{var n=r(1573),o=r(6432),i=r(6557),a=r(1469),u=r(9601);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):n(t):u(t)}},280:(t,e,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},313:(t,e,r)=>{var n=r(3218),o=r(5726),i=r(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},1573:(t,e,r)=>{var n=r(2958),o=r(1499),i=r(2634);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},6432:(t,e,r)=>{var n=r(939),o=r(7361),i=r(9095),a=r(5403),u=r(9162),c=r(2634),s=r(327);t.exports=function(t,e){return a(t)&&u(e)?c(s(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,r)=>{var n=r(7786);t.exports=function(t){return function(e){return n(e,t)}}},5976:(t,e,r)=>{var n=r(6557),o=r(5357),i=r(61);t.exports=function(t,e){return i(o(t,e,n),t+"")}},6560:(t,e,r)=>{var n=r(5703),o=r(8777),i=r(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},531:(t,e,r)=>{var n=r(2705),o=r(9932),i=r(1469),a=r(3448),u=n?n.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},7561:(t,e,r)=>{var n=r(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,r)=>{var n=r(8668),o=r(7443),i=r(1196),a=r(4757),u=r(3593),c=r(1814);t.exports=function(t,e,r){var s=-1,l=o,f=t.length,p=!0,h=[],d=h;if(r)p=!1,l=i;else if(f>=200){var v=e?null:u(t);if(v)return c(v);p=!1,l=a,d=new n}else d=e?[]:h;t:for(;++s<f;){var b=t[s],m=e?e(b):b;if(b=r||0!==b?b:0,p&&m==m){for(var y=d.length;y--;)if(d[y]===m)continue t;e&&d.push(m),h.push(b)}else l(d,m,r)||(d!==h&&d.push(m),h.push(b))}return h}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,r)=>{var n=r(1469),o=r(5403),i=r(5514),a=r(9833);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},4318:(t,e,r)=>{var n=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4626:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}},7157:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:(t,e,r)=>{var n=r(2705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},8363:(t,e,r)=>{var n=r(4865),o=r(9465);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=i?i(r[s],t[s],s,r,t):void 0;void 0===l&&(l=t[s]),a?o(r,s,l):n(r,s,l)}return r}},8805:(t,e,r)=>{var n=r(8363),o=r(9551);t.exports=function(t,e){return n(t,o(t),e)}},1911:(t,e,r)=>{var n=r(8363),o=r(1442);t.exports=function(t,e){return n(t,o(t),e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},5063:t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}},7740:(t,e,r)=>{var n=r(7206),o=r(8612),i=r(3674);t.exports=function(t){return function(e,r,a){var u=Object(e);if(!o(e)){var c=n(r,3);e=i(e),r=function(t){return c(u[t],t,u)}}var s=t(e,r,a);return s>-1?u[c?e[s]:s]:void 0}}},7779:(t,e,r)=>{var n=r(8975);t.exports=function(t,e){return function(r,o){return n(r,t,e(o),{})}}},3593:(t,e,r)=>{var n=r(8525),o=r(308),i=r(1814),a=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},8777:(t,e,r)=>{var n=r(852),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,r)=>{var n=r(8668),o=r(2908),i=r(4757);t.exports=function(t,e,r,a,u,c){var s=1&r,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=c.get(t),h=c.get(e);if(p&&h)return p==e&&h==t;var d=-1,v=!0,b=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++d<l;){var m=t[d],y=e[d];if(a)var g=s?a(y,m,d,e,t,c):a(m,y,d,t,e,c);if(void 0!==g){if(g)continue;v=!1;break}if(b){if(!o(e,(function(t,e){if(!i(b,e)&&(m===t||u(m,t,r,a,c)))return b.push(e)}))){v=!1;break}}else if(m!==y&&!u(m,y,r,a,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},8351:(t,e,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),u=r(8776),c=r(1814),s=n?n.prototype:void 0,l=s?s.valueOf:void 0;t.exports=function(t,e,r,n,s,f,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=u;case"[object Set]":var d=1&n;if(h||(h=c),t.size!=e.size&&!d)return!1;var v=p.get(t);if(v)return v==e;n|=2,p.set(t,e);var b=a(h(t),h(e),n,s,f,p);return p.delete(t),b;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},6096:(t,e,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var c=1&r,s=n(t),l=s.length;if(l!=n(e).length&&!c)return!1;for(var f=l;f--;){var p=s[f];if(!(c?p in e:o.call(e,p)))return!1}var h=u.get(t),d=u.get(e);if(h&&d)return h==e&&d==t;var v=!0;u.set(t,e),u.set(e,t);for(var b=c;++f<l;){var m=t[p=s[f]],y=e[p];if(i)var g=c?i(y,m,p,e,t,u):i(m,y,p,t,e,u);if(!(void 0===g?m===y||a(m,y,r,i,u):g)){v=!1;break}b||(b="constructor"==p)}if(v&&!b){var _=t.constructor,j=e.constructor;_==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof j&&j instanceof j||(v=!1)}return u.delete(t),u.delete(e),v}},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),o=r(9551),i=r(3674);t.exports=function(t){return n(t,i,o)}},6904:(t,e,r)=>{var n=r(8866),o=r(1442),i=r(1704);t.exports=function(t){return n(t,i,o)}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},1499:(t,e,r)=>{var n=r(9162),o=r(3674);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},852:(t,e,r)=>{var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},5924:(t,e,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},9551:(t,e,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},1442:(t,e,r)=>{var n=r(2488),o=r(5924),i=r(9551),a=r(479),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=u},4160:(t,e,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),u=r(577),c=r(4239),s=r(346),l="[object Map]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",d="[object DataView]",v=s(n),b=s(o),m=s(i),y=s(a),g=s(u),_=c;(n&&_(new n(new ArrayBuffer(1)))!=d||o&&_(new o)!=l||i&&_(i.resolve())!=f||a&&_(new a)!=p||u&&_(new u)!=h)&&(_=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case v:return d;case b:return l;case m:return f;case y:return p;case g:return h}return e}),t.exports=_},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,r)=>{var n=r(1811),o=r(5694),i=r(1469),a=r(5776),u=r(1780),c=r(327);t.exports=function(t,e,r){for(var s=-1,l=(e=n(e,t)).length,f=!1;++s<l;){var p=c(e[s]);if(!(f=null!=t&&r(t,p)))break;t=t[p]}return f||++s!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(p,l)&&(i(t)||o(t))}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9148:(t,e,r)=>{var n=r(4318),o=r(7157),i=r(3147),a=r(419),u=r(7133);t.exports=function(t,e,r){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Symbol]":return a(t)}}},8517:(t,e,r)=>{var n=r(3118),o=r(5924),i=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},7285:(t,e,r)=>{var n=r(2705),o=r(5694),i=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},5403:(t,e,r)=>{var n=r(1469),o=r(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9162:(t,e,r)=>{var n=r(3218);t.exports=function(t){return t==t&&!n(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),o=r(8407),i=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},2634:t=>{t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5357:(t,e,r)=>{var n=r(6874),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=r(c),n(t,this,s)}}},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},61:(t,e,r)=>{var n=r(6560),o=r(1275)(n);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),o=r(7071),i=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},2351:t=>{t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},5514:(t,e,r)=>{var n=r(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},6678:(t,e,r)=>{var n=r(5990);t.exports=function(t){return n(t,4)}},361:(t,e,r)=>{var n=r(5990);t.exports=function(t){return n(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},1966:(t,e,r)=>{var n=r(731),o=r(1078),i=r(5976),a=r(9246),u=i((function(t,e){return a(t)?n(t,o(e,1,a,!0)):[]}));t.exports=u},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3311:(t,e,r)=>{var n=r(7740)(r(998));t.exports=n},998:(t,e,r)=>{var n=r(1848),o=r(7206),i=r(554),a=Math.max;t.exports=function(t,e,r){var u=null==t?0:t.length;if(!u)return-1;var c=null==r?0:i(r);return c<0&&(c=a(u+c,0)),n(t,o(e,3),c)}},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},9095:(t,e,r)=>{var n=r(13),o=r(222);t.exports=function(t,e){return null!=t&&o(t,e,n)}},6557:t=>{t.exports=function(t){return t}},3137:(t,e,r)=>{var n=r(5703),o=r(7779),i=r(6557),a=Object.prototype.toString,u=o((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=a.call(e)),t[e]=r}),n(i));t.exports=u},5694:(t,e,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},9246:(t,e,r)=>{var n=r(8612),o=r(7005);t.exports=function(t){return o(t)&&n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=r(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},8446:(t,e,r)=>{var n=r(939);t.exports=function(t,e){return n(t,e)}},3560:(t,e,r)=>{var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,r)=>{var n=r(5588),o=r(1717),i=r(1167),a=i&&i.isMap,u=a?o(a):n;t.exports=u},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2928:(t,e,r)=>{var n=r(9221),o=r(1717),i=r(1167),a=i&&i.isSet,u=a?o(a):n;t.exports=u},3448:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},6719:(t,e,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},3674:(t,e,r)=>{var n=r(4636),o=r(280),i=r(8612);t.exports=function(t){return i(t)?n(t):o(t)}},1704:(t,e,r)=>{var n=r(4636),o=r(313),i=r(8612);t.exports=function(t){return i(t)?n(t,!0):o(t)}},8306:(t,e,r)=>{var n=r(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},308:t=>{t.exports=function(){}},9601:(t,e,r)=>{var n=r(371),o=r(9152),i=r(5403),a=r(327);t.exports=function(t){return i(t)?n(a(t)):o(t)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,r)=>{var n=r(4841),o=1/0;t.exports=function(t){return t?(t=n(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,r)=>{var n=r(8601);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},4841:(t,e,r)=>{var n=r(7561),o=r(3218),i=r(3448),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=u.test(t);return r||c.test(t)?s(t.slice(2),r?2:8):a.test(t)?NaN:+t}},9833:(t,e,r)=>{var n=r(531);t.exports=function(t){return null==t?"":n(t)}},4908:(t,e,r)=>{var n=r(5652);t.exports=function(t){return t&&t.length?n(t):[]}},2569:(t,e,r)=>{var n=r(731),o=r(5976),i=r(9246),a=o((function(t,e){return i(t)?n(t,e):[]}));t.exports=a}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";function t(t,e){return t.reduce((function(t,e){return t?e(t):null}),e)}r.r(n),r.d(n,{chordParserFactory:()=>Ee,chordRendererFactory:()=>Ke});var e=r(361),o=r.n(e);const i=function(t){if(!Array.isArray(t))throw new TypeError("customFilters should be given as an array");if(t.some((function(t){return"function"!=typeof t})))throw new TypeError("The given filter is not a function");return!0};function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s="Ab",l="A",f="A#",p="Bb",h="B",d="C",v="C#",b="Db",m="D",y="D#",g="Eb",_="E",j="F",w="F#",x="Gb",O="G",S="G#",A={Ab:s,A:l,"A#":f,Bb:p,B:h,"B#":d,Cb:h,C:d,"C#":v,Db:b,D:m,"D#":y,Eb:g,E:_,"E#":j,Fb:_,F:j,"F#":w,Gb:x,G:O,"G#":S},E={Lab:s,La:l,"La#":f,Sib:p,Si:h,"Si#":d,Dob:h,Do:d,"Do#":v,Reb:b,Réb:b,Re:m,Ré:m,"Re#":y,"Ré#":y,Mib:g,Mi:_,"Mi#":j,Fab:_,Fa:j,"Fa#":w,Solb:x,Sol:O,"Sol#":S},k={As:s,A:l,Ais:f,Hes:p,H:h,His:d,Ces:h,C:d,Cis:v,Des:b,D:m,Dis:y,Es:g,E:_,Eis:j,Fes:_,F:j,Fis:w,Ges:x,G:O,Gis:S};function P(t){return Object.keys(t).reduce((function(e,r){return r.match(/.[b|#]$/)&&(e[r.replace("#","♯").replace("b","♭")]=t[r]),e}),{})}var D=u(u({},A),P(A)),C=u(u({},E),P(E)),z=u({},k),F=u(u(u({},D),C),z),T=(Object.keys(F).sort((function(t,e){return e.length-t.length})),Object.keys(D).sort((function(t,e){return e.length-t.length}))),M=Object.keys(C).sort((function(t,e){return e.length-t.length})),L=[{name:"english",notes:T},{name:"german",notes:Object.keys(z).sort((function(t,e){return e.length-t.length}))},{name:"latin",notes:M}];function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e,r){return e&&I(t.prototype,e),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}function U(t){var e=W();return function(){var r,n=V(t);if(e){var o=V(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function B(t){var e="function"==typeof Map?new Map:void 0;return B=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return $(t,arguments,V(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),X(n,t)},B(t)}function $(t,e,r){return $=W()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&X(o,r.prototype),o},$.apply(null,arguments)}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function X(t,e){return X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},X(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var K=function(t){G(r,t);var e=U(r);function r(){var t;return q(this,r),(t=e.call(this,"The given symbol is not a valid string")).name="InvalidInput",t}return R(r)}(B(Error)),Z=function(t){G(r,t);var e=U(r);function r(){var t;return q(this,r),(t=e.call(this,"An unexpected error happened. Maybe a custom filter returned null instead of throwing an exception?")).name="UnexpectedError",t}return R(r)}(B(Error)),Y=function(t){G(r,t);var e=U(r);function r(t,n,o){var i;return q(this,r),(i=e.call(this,t)).name=o,i.chord=n,i}return R(r)}(B(Error)),H=function(t){G(r,t);var e=U(r);function r(t){q(this,r);var n='"'.concat(t.input.symbol,'" does not seems to be a chord');return e.call(this,n,t,"NoSymbolFound")}return R(r)}(Y),J=function(t){G(r,t);var e=U(r);function r(t,n){q(this,r);var o='The chord descriptor "'.concat(t.input.descriptor,'" contains unknown or duplicated modifiers: "').concat(n,'"');return e.call(this,o,t,"InvalidModifier")}return R(r)}(Y),Q=function(t){G(r,t);var e=U(r);function r(t,n){q(this,r);var o='"'.concat(t.input.symbol,'" describes a chord with an invalid intervals combo: ')+n.join(" and ");return e.call(this,o,t,"InvalidIntervals")}return R(r)}(Y),tt=r(1469),et=r.n(tt),rt=r(8446),nt=r.n(rt);function ot(t,e){var r=et()(e)?e:[e];return nt()(t,r)}function it(t,e){return ct(t,e,"oneOf")}function at(t,e){return ct(t,e,"all")}function ut(t,e){return ct(t,e,"none")}function ct(t,e,r){return(et()(e)?e:[e])["oneOf"===r?"some":"every"]((function(e){return"none"===r?!t.includes(e):t.includes(e)}))}var st=[["2","3"],["2","9"],["3","b3"],["4","11"],["5","b5"],["5","#5"],["b6","#5"],["b6","6"],["b6","13"],["6","13"],["b7","bb7"],["7","b7"],["9","b9"],["9","#9"],["11","#11"],["13","b13"]];function lt(t){var e=t.normalized.intervals,r=st.find((function(t){return at(e,t)}));if(r)throw new Q(t,r);return t}function ft(t){var e=t.formatted,r=e.rootNote,n=e.bassNote,o=e.descriptor,i=e.chordChanges,a=r;return o&&(a+=o),i&&i.length&&(a+="("+i.join(",")+")"),n&&(a+="/"+n),t.formatted.symbol=a,t}var pt,ht={ma:"major",ma6:"major6",ma7:"major7",dom7:"dominant7",mi:"minor",mi6:"minor6",mi7:"minor7",miMa7:"minorMajor7",aug:"augmented",dim:"diminished",dim7:"diminished7",power:"power",bass:"bass"},dt=[ht.ma,ht.ma6,ht.ma7,ht.dom7,ht.aug];function vt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}ht.mi,ht.mi6,ht.mi7,ht.miMa7,ht.dim,ht.dim7;var yt,gt=(mt(pt={},ht.ma,(function(){return""})),mt(pt,ht.ma6,(function(t){return t.normalized.intervals.includes("9")?"69":"6"})),mt(pt,ht.ma7,(function(t){return"ma"+wt(t)})),mt(pt,ht.dom7,(function(t){return t.normalized.intents.alt?"7alt":wt(t)})),mt(pt,ht.mi,(function(){return"mi"})),mt(pt,ht.mi6,(function(t){return t.normalized.intervals.includes("9")?"mi69":"mi6"})),mt(pt,ht.mi7,(function(t){return"mi"+wt(t)})),mt(pt,ht.miMa7,(function(t){return"miMa"+wt(t)})),mt(pt,ht.aug,(function(){return"+"})),mt(pt,ht.dim,(function(){return"dim"})),mt(pt,ht.dim7,(function(){return"dim7"})),mt(pt,ht.power,(function(){return"5"})),mt(pt,ht.bass,(function(){return" bass"})),pt);function _t(t){return t.formatted={rootNote:t.normalized.rootNote,bassNote:t.normalized.bassNote,descriptor:jt(t),chordChanges:xt(t)},t}function jt(t){var e=gt[t.normalized.quality](t);return t.normalized.isSuspended&&(e+="sus"),e}function wt(t){var e=t.normalized.extensions,r=e[e.length-1];return"11"===r&&t.normalized.intents.major&&(r=ut(t.normalized.alterations,["b9","#9"])?"9":"7"),r||"7"}function xt(t){var e=t.normalized.omits.map((function(t,e){var r="";return 0===e&&(r+="omit"),r+("b3"===t?"3":t)}));if(function(t){return t.normalized.intents.alt&&t.normalized.quality===ht.dom7}(t))return e;var r,n=(r=t.normalized.quality,t.normalized.adds.filter((function(t){return!([ht.ma6,ht.mi6].includes(r)&&"9"===t)})).map((function(t,e){var r="";return 0===e&&(r+="add",["b","#"].includes(t[0])&&(r+=" ")),r+("7"===t?"Ma7":t)})));return[].concat(vt(t.normalized.alterations),vt(n),vt(e))}function Ot(e){var r=[St,At,Et,kt];return e.input.descriptor&&(e.input.parsableDescriptor=t(r,e.input.descriptor)),e}function St(t){return t.replace(/[A-LN-Za-z]+/g,(function(t){return t.toLowerCase()})).replace("oMit","omit").replace("diM","dim").replace("augMented","augmented")}function At(t){return t.replace(/ /g,"")}function Et(t){return t.replace(/(7?dim)(alt|add)/g,"$1 $2").replace(/([m|M])(alt|add)/g,"$1 $2").replace(/i(no[35])/g,"i $1").replace(/([b♭#♯]9)6/g,"$1 6").replace(/(9\/?6)/g," $1")}function kt(t){var e,r,n;return t.replace(/\((.*?)\)/g,(function(t,o){return e=[],r="",o.split(",").forEach((function(t){n=!0,t.startsWith("add")?r="add":t.startsWith("omit")?r="omit":t.startsWith("no")?r="no":n=!1,n?e.push(t):e.push(r+t)}))," "+e.join(" ")+" "}))}function Pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{input:{symbol:arguments.length>1?arguments[1]:void 0},normalized:{},formatted:{},parserConfiguration:o()(t)}}function Dt(t){return function(t){if(Array.isArray(t))return Ct(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ct(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ft=[l,f,h,d,v,m,y,_,j,w,O,S],Tt=[l,p,h,d,b,m,g,_,j,x,O,s],Mt=(zt(yt={},d,{maj:"flat",min:"flat"}),zt(yt,v,{maj:"sharp",min:"sharp"}),zt(yt,b,{maj:"flat",min:"flat"}),zt(yt,m,{maj:"sharp",min:"flat"}),zt(yt,y,{maj:"sharp",min:"sharp"}),zt(yt,g,{maj:"flat",min:"flat"}),zt(yt,_,{maj:"sharp",min:"sharp"}),zt(yt,j,{maj:"flat",min:"flat"}),zt(yt,w,{maj:"sharp",min:"sharp"}),zt(yt,x,{maj:"flat",min:"flat"}),zt(yt,O,{maj:"sharp",min:"flat"}),zt(yt,S,{maj:"sharp",min:"sharp"}),zt(yt,s,{maj:"flat",min:"flat"}),zt(yt,l,{maj:"sharp",min:"flat"}),zt(yt,f,{maj:"sharp",min:"sharp"}),zt(yt,p,{maj:"flat",min:"flat"}),zt(yt,h,{maj:"sharp",min:"sharp"}),yt);function Lt(t){var e=t.normalized.rootNote,r=t.normalized.semitones,n=t.normalized.quality,o=dt.includes(n)?"maj":"min",i="sharp"===Mt[e][o]?Ft:Tt,a=i.indexOf(e),u=[].concat(Dt(i.slice(a)),Dt(i.slice(0,a)),Dt(i.slice(a)),Dt(i.slice(0,a))),c=r.map((function(t){return u[t]}));return t.normalized.notes=c,t}function Nt(t){return t.normalized.rootNote=F[t.input.rootNote],t.input.bassNote&&(t.normalized.bassNote=F[t.input.bassNote]),t}var It=r(6678),Rt=r.n(It),qt=r(3311),Gt=r.n(qt),Ut=r(4908),Bt=r.n(Ut),$t=r(2569),Wt=r.n($t);function Xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(r),!0).forEach((function(e){Kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zt(t){return function(t){if(Array.isArray(t))return Yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(e){var r=Rt()(e.normalized.intervals),n={quality:"",isSuspended:!1,extensions:[],alterations:[],adds:[],omits:[]};if(ot(r,["1","5"]))n.quality=ht.power;else if(ot(r,["1"]))n.quality=ht.bass;else{var o=function(t,e){var r=[];return(ut(t,["b3","3","4","11"])||!e&&ut(t,["b3","4"]))&&r.push(e?"3":"b3"),ut(t,["b5","5","#5","b13"])&&r.push("5"),r}(r,e.normalized.intents.major),i=function(t,e){return t.includes("4")||t.includes("11")&&e&&!t.includes("3")}(r,e.normalized.intents.major),a=function(e,r,n,o){var i=function(e,r,n,o){return t([Jt.bind(null,o),Qt.bind(null,n,r.normalized.intents.major),te.bind(null,r.normalized.intents.alt),Bt()],Rt()(e))}(e,r,n,o),a=[{qualityIntervals:["b3"],quality:ht.mi},{qualityIntervals:["b3","6"],quality:ht.mi6},{qualityIntervals:["b3","7"],quality:ht.miMa7},{qualityIntervals:["b3","b7"],quality:ht.mi7},{qualityIntervals:["3"],quality:ht.ma},{qualityIntervals:["3","6"],quality:ht.ma6},{qualityIntervals:["3","7"],quality:ht.ma7},{qualityIntervals:["3","b7"],quality:ht.dom7},{qualityIntervals:["3","#5"],quality:ht.aug},{qualityIntervals:["b3","b5"],quality:ht.dim},{qualityIntervals:["b3","b5","bb7"],quality:ht.dim7}].sort((function(t,e){return e.qualityIntervals.length-t.qualityIntervals.length}));return Gt()(a,(function(t){return at(i,t.qualityIntervals)}))}(r,e,i,o),u=a.qualityIntervals,c=a.quality,s=function(t,e){var r=[];return function(t){return[ht.ma7,ht.dom7,ht.mi7,ht.miMa7].includes(t)}(e)&&(function(t,e){return ee(e)&&it(t,"13")&&it(t,["11","#11"])&&it(t,["b9","9","#9"])}(t,e)?r.push("9","11","13"):function(t,e){return!ee(e)&&it(t,"13")&&it(t,["b9","9","#9"])}(t,e)?r.push("9","13"):function(t){return it(t,"11")&&it(t,["b9","9","#9"])}(t)?r.push("9","11"):function(t){return t.includes("9")}(t)&&r.push("9")),r}(r,c),l=function(t,e,r){var n=[],o=[];return t.filter((function(t){return"5"!==t&&"4"!==t})).forEach((function(t){e.includes(t)||(function(t,e){var r;return(Kt(r={},ht.ma,["b5","#5","#11","b13"]),Kt(r,ht.ma6,["b5","#5","#11","b13"]),Kt(r,ht.ma7,["b5","#5","#11","b13"]),Kt(r,ht.dom7,["b5","#5","b9","#9","#11","b13"]),Kt(r,ht.mi,["b5","#5","#11","b13"]),Kt(r,ht.mi6,["b5","#5","#11","b13"]),Kt(r,ht.mi7,["b5","#5","#11","b13"]),Kt(r,ht.miMa7,["b5","#5","#11","b13"]),Kt(r,ht.aug,[]),Kt(r,ht.dim,[]),Kt(r,ht.dim7,[]),r)[t].includes(e)}(r,t)?o.push(t):n.push(t))})),at(t,["3","4"])&&n.push("3"),{adds:re(n),alterations:re(o)}}(r,["1"].concat(Zt(u),Zt(s)),c),f=l.adds,p=l.alterations;n=Vt(Vt({},n),{},{quality:c,isSuspended:i,extensions:s,alterations:p,adds:f,omits:o})}return Vt(Vt({},e),{},{normalized:Vt(Vt({},e.normalized),n)})}function Jt(t,e){var r=Rt()(e);return t.includes("3")?r.push("3"):t.includes("b3")&&r.push("b3"),r}function Qt(t,e,r){if(t){var n=Wt()(r,"4");return n.push(e?"3":"b3"),n}return r}function te(t,e){if(t){var r=Wt()(e,"b5","#5");return r.push("5"),r}return e}function ee(t){return[ht.mi7,ht.miMa7].includes(t)}function re(t){return t.sort((function(t,e){return Number.parseInt(t.replace(/[b#]/,""))-Number.parseInt(e.replace(/[b#]/,""))}))}function ne(t,e){var r=e.input.symbol,n=t.join("|"),o=new RegExp("^("+n+")(.*?)(/("+n+"))?$"),i=r.match(o);if(i&&i[1])return e.input.rootNote=i[1],i[2]&&(e.input.descriptor=i[2]),i[4]&&(e.input.bassNote=i[4]),e;throw new H(e)}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(r),!0).forEach((function(e){ae(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ue={ma:"ma",mi:"mi",dim:"dim",halfDim:"halfDim",aug:"aug",seventh:"seventh",sus:"sus",sus2:"sus2",ninth:"ninth",eleventh:"eleventh",thirteenth:"thirteenth",fifthFlat:"b5",fifthSharp:"#5",ninthFlat:"b9",ninthSharp:"#9",eleventhSharp:"#11",thirteenthFlat:"b13",add3:"add3",add4:"add4",addb6:"addb6",add6:"add6",add69:"add69",add7:"add7",add9:"add9",add11:"add11",add13:"add13",bass:"bass",omit3:"omit3",omit5:"omit5",power:"power",alt:"alt"},ce={"^":[ue.ma,ue.add7],Δ:[ue.ma,ue.add7],M:ue.ma,Ma:ue.ma,Maj:ue.ma,Major:ue.ma,ma:ue.ma,maj:ue.ma,major:ue.ma},se=pe(ce,ue.add7,(function(t){return t+"7"})),le=pe(ce,ue.add7,(function(t){return"add"+t+"7"})),fe=ie(ie(ie(ie({},ce),se),{},{"-":ue.mi,m:ue.mi,Mi:ue.mi,Min:ue.mi,Minor:ue.mi,mi:ue.mi,min:ue.mi,minor:ue.mi,"°":ue.dim,o:ue.dim,0:ue.dim,dim:ue.dim,"dim.":ue.dim,diminished:ue.dim,Ø:ue.halfDim,ø:ue.halfDim,h:ue.halfDim,"+":ue.aug,aug:ue.aug,augmented:ue.aug,7:ue.seventh,4:ue.sus,sus:ue.sus,sus4:ue.sus,suspended:ue.sus,suspended4:ue.sus,sus2:ue.sus2,suspended2:ue.sus2,9:ue.ninth,11:ue.eleventh,13:ue.thirteenth,b3:ue.mi,b5:ue.fifthFlat,"♭5":ue.fifthFlat,"#5":ue.fifthSharp,"♯5":ue.fifthSharp,b9:ue.ninthFlat,"♭9":ue.ninthFlat,addb9:ue.ninthFlat,"add♭9":ue.ninthFlat,"#9":ue.ninthSharp,"♯9":ue.ninthSharp,"add#9":ue.ninthSharp,"add♯9":ue.ninthSharp,"#11":ue.eleventhSharp,"♯11":ue.eleventhSharp,"add#11":ue.eleventhSharp,b13:ue.thirteenthFlat,"♭13":ue.thirteenthFlat,addb13:ue.thirteenthFlat,"add♭13":ue.thirteenthFlat},le),{},{2:ue.add9,add2:ue.add9,add3:ue.add3,add4:ue.add4,addb6:ue.addb6,b6:ue.addb6,6:ue.add6,add6:ue.add6,"6/9":ue.add69,69:ue.add69,96:ue.add69,"9/6":ue.add69,add9:ue.add9,add11:ue.add11,add13:ue.add13,bass:ue.bass,omit3:ue.omit3,no3:ue.omit3,omit5:ue.omit5,no5:ue.omit5,5:ue.power,alt:ue.alt,"alt.":ue.alt,altered:ue.alt});function pe(t,e,r){return Object.keys(t).map(r).reduce((function(t,r){return t[r]=e,t}),{})}var he=Object.keys(fe).sort((function(t,e){return e.length-t.length}));const de=ue,ve={1:0,2:2,b3:3,3:4,4:5,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11,b9:13,9:14,"#9":15,11:17,"#11":18,b13:20,13:21};function be(t){return function(t){if(Array.isArray(t))return me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return me(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ye(t,e){var r=[];return e.input.parsableDescriptor&&(r=function(t){var e,r=t.input.parsableDescriptor,n=[],o=new RegExp(he.map(xe).join("|"),"g"),i=r.match(o),a=r;if(i&&i.forEach((function(t){e=fe[t],Array.isArray(e)||(e=[e]),e.forEach((function(e){n.includes(e)||(n.push(e),a=a.replace(t,""))}))})),0===n.length)throw new H(t);if(a.trim().length>0)throw new J(t,a);return n}(e)),e.input.modifiers=r,e.normalized.intervals=function(t,e){return t.includes(de.power)?["1","5"]:t.includes(de.bass)?["1"]:Bt()(["1"].concat(be(function(t){var e=[];return t.includes(de.omit3)?[]:(it(t,[de.sus,de.sus2])||(je(t)?t.includes(de.eleventh)||e.push("3"):e.push("b3")),t.includes(de.add3)&&e.push("3"),e)}(t)),be(function(t){var e=[];return it(t,[de.sus,de.add4])&&e.push("4"),e}(t)),be(function(t,e){var r=[];return t.includes(de.omit5)?[]:((it(t,[de.dim,de.halfDim,de.fifthFlat])||_e(t,e,"b5"))&&r.push("b5"),(it(t,[de.aug,de.fifthSharp])||_e(t,e,"#5"))&&r.push("#5"),r.length||t.includes(de.thirteenthFlat)||r.push("5"),r)}(t,e)),be(function(t){var e=[];return it(t,[de.addb6])&&e.push("b6"),!it(t,[de.add6,de.add69])||we(t)||it(t,[de.halfDim])||e.push("6"),e}(t)),be(function(t){var e=[];return it(t,[de.alt])&&e.push("b7"),it(t,[de.seventh,de.halfDim])?t.includes(de.dim)?e.push("bb7"):t.includes(de.halfDim)?e.push("b7"):e.push(ge(t)):it(t,[de.ninth,de.eleventh,de.thirteenth])&&e.push(ge(t)),t.includes(de.add7)&&e.push("7"),e}(t)),be(function(t,e){var r=[];return it(t,[de.add69,de.ninth,de.eleventh,de.thirteenth])&&ut(t,[de.ninthFlat,de.ninthSharp])&&r.push("9"),it(t,[de.sus2,de.add9])&&r.push("9"),(it(t,[de.ninthFlat])||_e(t,e,"b9"))&&r.push("b9"),(it(t,[de.ninthSharp])||_e(t,e,"#9"))&&r.push("#9"),r}(t,e)),be(function(t,e){var r=[];return(it(t,[de.thirteenth])&&!je(t)||it(t,[de.eleventh,de.add11]))&&r.push("11"),(it(t,[de.eleventhSharp])||_e(t,e,"#11"))&&r.push("#11"),r}(t,e)),be(function(t,e){var r=[];return(it(t,[de.add13,de.thirteenth])||it(t,[de.add6,de.add69])&&we(t)||it(t,[de.add6,de.add69])&&it(t,[de.halfDim]))&&r.push("13"),(it(t,[de.thirteenthFlat])||_e(t,e,"b13"))&&r.push("b13"),r}(t,e)))).sort((function(t,e){return ve[t]-ve[e]}))}(r,t),e.normalized.semitones=e.normalized.intervals.map((function(t){return ve[t]})).sort((function(t,e){return t-e})),e.normalized.intents=function(t){return{major:je(t),eleventh:t.includes(de.eleventh),alt:t.includes(de.alt)}}(r),e}function ge(t){return t.includes(de.ma)?"7":"b7"}function _e(t,e,r){return t.includes(de.alt)&&e.includes(r)}function je(t){return ut(t,[de.mi,de.dim,de.dim7,de.halfDim])}function we(t){return it(t,[de.seventh,de.ninth,de.eleventh,de.thirteenth])}function xe(t){return t.replace(/[.\-*+?^${}()|[\]\\]/g,"\\$&")}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Se(t,e,r,n){if(!Array.isArray(e))throw new TypeError("'".concat(t,"' should be an array"));if(!n&&0===e.length)throw new TypeError("'".concat(t,"' cannot be empty"));e.forEach((function(e){if(!r.includes(e))throw new TypeError("'".concat(e,"' is not a valid value for ").concat(t))}))}function Ae(t,e){return{type:t.name,chord:t.chord,message:t.message,notationSystem:e}}const Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=["b5","#5","b9","#9","#11","b13"],n=["english","german","latin"],a=e.notationSystems,u=void 0===a?o()(n):a,c=e.altIntervals,s=void 0===c?o()(r):c,l=e.customFilters,f=void 0===l?[]:l;return function(t,e){Se("altIntervals",t,e,!0)}(s,r),function(t,e){Se("notationSystems",t,e)}(u,n),i(f),function(r){var n,i=[];if(!("string"==typeof(n=r)&&n.length>0)){var a=new K;i.push(Ae(a))}var c,l,p,h,d,v=o()(L).filter((function(t){return u.includes(t.name)}));if(!i.length)for(;v.length&&!c;){p=v.shift(),l=[Pt.bind(null,e),ne.bind(null,p.notes),Ot,ye.bind(null,s),lt,Nt,Ht,_t,ft,Lt].concat(function(t){if(Array.isArray(t))return Oe(t)}(d=f)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(d)||function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(t,e):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());try{(c=t(l,r))?c.input.notationSystem=p.name:i.push((h=p.name,Ae(new Z,h)))}catch(a){i.push(Ae(a,p.name))}}return c||{error:i}}};function ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(r),!0).forEach((function(e){De(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function De(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ce(t){var e,r=t.formatted.chordChanges;return function(t){return ot(t.normalized.intervals,["1","5","9"])}(t)?(e="sus2",r=[]):function(t){return ot(t.normalized.intervals,["1","3","5","9"])}(t)?(e="2",r=[]):function(t){return ot(t.normalized.intervals,["1","3","#5","b7"])}(t)?(e="7+",r=[]):(e=t.formatted.descriptor.replace("mi","m").replace(/[m|M]a/,"M").replace("dim","°"),function(t){return t.normalized.intents.eleventh}(t)&&(e=e.replace(/7sus|9sus/,"11"))),r=r.map((function(t){return t.replace(/[m|M]a/,"M").replace("omit","no")})),Pe(Pe({},t),{},{formatted:Pe(Pe({},t.formatted),{},{descriptor:e,chordChanges:r})})}var ze=r(1966),Fe=r.n(ze);function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",r=arguments.length>1?arguments[1]:void 0;if("none"===e)return r;var n=Fe()(r.normalized.intervals,{max:["4","b5","#5","6","bb7","b7","7","b9","9","#9","11","#11","b13","13"],core:["4","b9","9","#9","11","#11","b13","13"]}[e]);return ut(n,["b3","3"])&&n.push(r.normalized.intents.major?"3":"b3"),ut(n,["b5","5","#5"])&&n.push("5"),r.normalized.intervals=n,r.normalized.semitones=n.map((function(t){return ve[t]})),r.normalized.intents.eleventh=!1,r.normalized.intents.alt=!1,"max"===e&&delete r.normalized.bassNote,t([Ht,_t,Lt],r)}var Me=r(3137),Le=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ne={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},Ie=r.n(Me)()(Ne);function Re(t,e,r){var n=r.normalized,o=n.rootNote,i=n.bassNote,a=Ge(o);if(r.normalized.rootNote=qe(a,t,e),r.formatted.rootNote=r.normalized.rootNote,i){var u=Ge(i);r.normalized.bassNote=qe(u,t,e),r.formatted.bassNote=r.normalized.bassNote}return Lt(r)}function qe(t,e,r){var n=Le.indexOf(t)+e,o=Math.floor(n/12),i=Le[n-12*o];return r&&Ne[i]||i}function Ge(t){return Ie[t]||t}var Ue={german:{Ab:"As",A:"A","A#":"Ais",Bb:"Hes",B:"H",C:"C","C#":"Cis",Db:"Des",D:"D","D#":"Dis",Eb:"Es",E:"E",F:"F","F#":"Fis",Gb:"Ges",G:"G","G#":"Gis"},latin:{Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si",C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#"}},Be=Object.keys(Ue);function $e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"english",e=arguments.length>1?arguments[1]:void 0,r="auto"===t?e.input.notationSystem:t;return"english"===r?e:Be.includes(r)?(e.formatted.rootNote=Ue[r][e.formatted.rootNote],e.formatted.bassNote&&(e.formatted.bassNote=Ue[r][e.formatted.bassNote]),e):null}function We(t){return t&&t.formatted&&t.formatted.symbol?t.formatted.symbol:null}function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.useShortNamings,n=void 0!==r&&r,a=e.simplify,u=void 0===a?"none":a,c=e.transposeValue,s=void 0===c?0:c,l=e.harmonizeAccidentals,f=void 0!==l&&l,p=e.useFlats,h=void 0!==p&&p,d=e.printer,v=void 0===d?"text":d,b=e.notationSystem,m=void 0===b?"english":b,y=e.customFilters,g=void 0===y?[]:y;i(g);var _,j=[];return["max","core"].includes(u)&&j.push(Te.bind(null,u)),(f||0!==s)&&j.push(Re.bind(null,s,h)),n&&j.push(Ce),j.push.apply(j,[$e.bind(null,m),ft].concat(function(t){if(Array.isArray(t))return Ve(t)}(_=g)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(_)||function(t,e){if(t){if("string"==typeof t)return Ve(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ve(t,e):void 0}}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),function(e){if(!function(t){return t&&"object"===Xe(t)&&!t.error&&t.input}(e))return null;var r=t(j,o()(e));return"raw"===v?function(t){delete t.parserConfiguration.notationSystems;var e=o()(t),r=We(t),n=Ee(t.parserConfiguration)(r);return e.input=n.input,e}(r):We(r)}}})(),n})()},t.exports=e()},606:t=>{var e=-1;function r(t,h,d,v,b){if(t===h)return t?[[0,t]]:[];if(null!=d){var y=function(t,e,r){var n="number"==typeof r?{index:r,length:0}:r.oldRange,o="number"==typeof r?null:r.newRange,i=t.length,a=e.length;if(0===n.length&&(null===o||0===o.length)){var u=n.index,c=t.slice(0,u),s=t.slice(u),l=o?o.index:null,f=u+a-i;if((null===l||l===f)&&!(f<0||f>a)){var p=e.slice(0,f);if((v=e.slice(f))===s){var h=Math.min(u,f);if((y=c.slice(0,h))===(_=p.slice(0,h)))return m(y,c.slice(h),p.slice(h),s)}}if(null===l||l===u){var d=u,v=(p=e.slice(0,d),e.slice(d));if(p===c){var b=Math.min(i-d,a-d);if((g=s.slice(s.length-b))===(j=v.slice(v.length-b)))return m(c,s.slice(0,s.length-b),v.slice(0,v.length-b),g)}}}if(n.length>0&&o&&0===o.length){var y=t.slice(0,n.index),g=t.slice(n.index+n.length);if(!(a<(h=y.length)+(b=g.length))){var _=e.slice(0,h),j=e.slice(a-b);if(y===_&&g===j)return m(y,t.slice(h,i-b),e.slice(h,a-b),g)}}return null}(t,h,d);if(y)return y}var g=o(t,h),_=t.substring(0,g);g=a(t=t.substring(g),h=h.substring(g));var j=t.substring(t.length-g),w=function(t,i){var u;if(!t)return[[1,i]];if(!i)return[[e,t]];var c=t.length>i.length?t:i,s=t.length>i.length?i:t,l=c.indexOf(s);if(-1!==l)return u=[[1,c.substring(0,l)],[0,s],[1,c.substring(l+s.length)]],t.length>i.length&&(u[0][0]=u[2][0]=e),u;if(1===s.length)return[[e,t],[1,i]];var f=function(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||2*n.length<r.length)return null;function i(t,e,r){for(var n,i,u,c,s=t.substring(r,r+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(s,l+1));){var p=o(t.substring(r),e.substring(l)),h=a(t.substring(0,r),e.substring(0,l));f.length<h+p&&(f=e.substring(l-h,l)+e.substring(l,l+p),n=t.substring(0,r-h),i=t.substring(r+p),u=e.substring(0,l-h),c=e.substring(l+p))}return 2*f.length>=t.length?[n,i,u,c,f]:null}var u,c,s,l,f,p=i(r,n,Math.ceil(r.length/4)),h=i(r,n,Math.ceil(r.length/2));return p||h?(u=h?p&&p[4].length>h[4].length?p:h:p,t.length>e.length?(c=u[0],s=u[1],l=u[2],f=u[3]):(l=u[0],f=u[1],c=u[2],s=u[3]),[c,s,l,f,u[4]]):null}(t,i);if(f){var p=f[0],h=f[1],d=f[2],v=f[3],b=f[4],m=r(p,d),y=r(h,v);return m.concat([[0,b]],y)}return function(t,r){for(var o=t.length,i=r.length,a=Math.ceil((o+i)/2),u=a,c=2*a,s=new Array(c),l=new Array(c),f=0;f<c;f++)s[f]=-1,l[f]=-1;s[u+1]=0,l[u+1]=0;for(var p=o-i,h=p%2!=0,d=0,v=0,b=0,m=0,y=0;y<a;y++){for(var g=-y+d;g<=y-v;g+=2){for(var _=u+g,j=(A=g===-y||g!==y&&s[_-1]<s[_+1]?s[_+1]:s[_-1]+1)-g;A<o&&j<i&&t.charAt(A)===r.charAt(j);)A++,j++;if(s[_]=A,A>o)v+=2;else if(j>i)d+=2;else if(h&&(O=u+p-g)>=0&&O<c&&-1!==l[O]&&A>=(x=o-l[O]))return n(t,r,A,j)}for(var w=-y+b;w<=y-m;w+=2){for(var x,O=u+w,S=(x=w===-y||w!==y&&l[O-1]<l[O+1]?l[O+1]:l[O-1]+1)-w;x<o&&S<i&&t.charAt(o-x-1)===r.charAt(i-S-1);)x++,S++;if(l[O]=x,x>o)m+=2;else if(S>i)b+=2;else if(!h){var A;if((_=u+p-w)>=0&&_<c&&-1!==s[_])if(j=u+(A=s[_])-_,A>=(x=o-x))return n(t,r,A,j)}}}return[[e,t],[1,r]]}(t,i)}(t=t.substring(0,t.length-g),h=h.substring(0,h.length-g));return _&&w.unshift([0,_]),j&&w.push([0,j]),p(w,b),v&&function(t){for(var r=!1,n=[],o=0,h=null,d=0,v=0,b=0,m=0,y=0;d<t.length;)0==t[d][0]?(n[o++]=d,v=m,b=y,m=0,y=0,h=t[d][1]):(1==t[d][0]?m+=t[d][1].length:y+=t[d][1].length,h&&h.length<=Math.max(v,b)&&h.length<=Math.max(m,y)&&(t.splice(n[o-1],0,[e,h]),t[n[o-1]+1][0]=1,o--,d=--o>0?n[o-1]:-1,v=0,b=0,m=0,y=0,h=null,r=!0)),d++;for(r&&p(t),function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),n=e.charAt(0),o=r.match(u),i=n.match(u),a=o&&r.match(c),p=i&&n.match(c),h=a&&r.match(s),d=p&&n.match(s),v=h&&t.match(l),b=d&&e.match(f);return v||b?5:h||d?4:o&&!a&&p?3:a||p?2:o||i?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var n=t[r-1][1],o=t[r][1],i=t[r+1][1],p=a(n,o);if(p){var h=o.substring(o.length-p);n=n.substring(0,n.length-p),o=h+o.substring(0,o.length-p),i=h+i}for(var d=n,v=o,b=i,m=e(n,o)+e(o,i);o.charAt(0)===i.charAt(0);){n+=o.charAt(0),o=o.substring(1)+i.charAt(0),i=i.substring(1);var y=e(n,o)+e(o,i);y>=m&&(m=y,d=n,v=o,b=i)}t[r-1][1]!=d&&(d?t[r-1][1]=d:(t.splice(r-1,1),r--),t[r][1]=v,b?t[r+1][1]=b:(t.splice(r+1,1),r--))}r++}}(t),d=1;d<t.length;){if(t[d-1][0]==e&&1==t[d][0]){var g=t[d-1][1],_=t[d][1],j=i(g,_),w=i(_,g);j>=w?(j>=g.length/2||j>=_.length/2)&&(t.splice(d,0,[0,_.substring(0,j)]),t[d-1][1]=g.substring(0,g.length-j),t[d+1][1]=_.substring(j),d++):(w>=g.length/2||w>=_.length/2)&&(t.splice(d,0,[0,g.substring(0,w)]),t[d-1][0]=1,t[d-1][1]=_.substring(0,_.length-w),t[d+1][0]=e,t[d+1][1]=g.substring(w),d++),d++}d++}}(w),w}function n(t,e,n,o){var i=t.substring(0,n),a=e.substring(0,o),u=t.substring(n),c=e.substring(o),s=r(i,a),l=r(u,c);return s.concat(l)}function o(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),o=n,i=0;r<o;)t.substring(i,o)==e.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return h(t.charCodeAt(o-1))&&o--,o}function i(t,e){var r=t.length,n=e.length;if(0==r||0==n)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var o=Math.min(r,n);if(t==e)return o;for(var i=0,a=1;;){var u=t.substring(o-a),c=e.indexOf(u);if(-1==c)return i;a+=c,0!=c&&t.substring(o-a)!=e.substring(0,a)||(i=a,a++)}}function a(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),o=n,i=0;r<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return d(t.charCodeAt(t.length-o))&&o--,o}var u=/[^a-zA-Z0-9]/,c=/\s/,s=/[\r\n]/,l=/\n\r?\n$/,f=/^\r?\n\r?\n/;function p(t,r){t.push([0,""]);for(var n,i=0,u=0,c=0,s="",l="";i<t.length;)if(i<t.length-1&&!t[i][1])t.splice(i,1);else switch(t[i][0]){case 1:c++,l+=t[i][1],i++;break;case e:u++,s+=t[i][1],i++;break;case 0:var f=i-c-u-1;if(r){if(f>=0&&b(t[f][1])){var h=t[f][1].slice(-1);if(t[f][1]=t[f][1].slice(0,-1),s=h+s,l=h+l,!t[f][1]){t.splice(f,1),i--;var d=f-1;t[d]&&1===t[d][0]&&(c++,l=t[d][1]+l,d--),t[d]&&t[d][0]===e&&(u++,s=t[d][1]+s,d--),f=d}}v(t[i][1])&&(h=t[i][1].charAt(0),t[i][1]=t[i][1].slice(1),s+=h,l+=h)}if(i<t.length-1&&!t[i][1]){t.splice(i,1);break}if(s.length>0||l.length>0){s.length>0&&l.length>0&&(0!==(n=o(l,s))&&(f>=0?t[f][1]+=l.substring(0,n):(t.splice(0,0,[0,l.substring(0,n)]),i++),l=l.substring(n),s=s.substring(n)),0!==(n=a(l,s))&&(t[i][1]=l.substring(l.length-n)+t[i][1],l=l.substring(0,l.length-n),s=s.substring(0,s.length-n)));var m=c+u;0===s.length&&0===l.length?(t.splice(i-m,m),i-=m):0===s.length?(t.splice(i-m,m,[1,l]),i=i-m+1):0===l.length?(t.splice(i-m,m,[e,s]),i=i-m+1):(t.splice(i-m,m,[e,s],[1,l]),i=i-m+2)}0!==i&&0===t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,c=0,u=0,s="",l=""}""===t[t.length-1][1]&&t.pop();var y=!1;for(i=1;i<t.length-1;)0===t[i-1][0]&&0===t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)===t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),y=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),y=!0)),i++;y&&p(t,r)}function h(t){return t>=55296&&t<=56319}function d(t){return t>=56320&&t<=57343}function v(t){return d(t.charCodeAt(0))}function b(t){return h(t.charCodeAt(t.length-1))}function m(t,r,n,o){return b(t)||v(o)?null:function(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}([[0,t],[e,r],[1,n],[0,o]])}function y(t,e,n,o){return r(t,e,n,o,!0)}y.INSERT=1,y.DELETE=e,y.EQUAL=0,t.exports=y},270:function(t,e){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=function(t){"use strict";function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.toXML=t.default=void 0;var u="boolean",c="date",s="special-object",l=["_selfCloseTag","_attrs"],f=new RegExp(l.join("|"),"g"),p=function(t){return(Array.isArray(t)?"array":"object"===a(t)&&null!==t&&t._name&&s)||t instanceof Date&&c||null===t&&"null"||a(t)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)return t;var r=new RegExp("(".concat(Object.keys(e).join("|"),")(?!(\\w|#)*;)"),"g");return String(t).replace(r,(function(t,r){return e[r]||""}))},d=function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Array.isArray(t)?t.map((function(t){var r=Object.keys(t)[0],n=t[r],o=e?h(n,e):n,i=!0===o?"":'="'.concat(o,'"');return"".concat(r).concat(i)})):Object.keys(t).map((function(r){var n=e?h(t[r],e):t[r],o=!0===t[r]?"":'="'.concat(n,'"');return"".concat(r).concat(o)}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0);if(0===t.length)return"";var e=t.join(" ");return" ".concat(e)},v=["string","number",u],b=function(t){return v.includes(p(t))},m=([].concat(v,[c,s]),function(t){return!t.match("<")}),y={"<":"&lt;",">":"&gt;","&":"&amp;"},g=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.depth,c=void 0===i?0:i,s=n.indent,v=n._isFirstItem,g=n._isOutputStart,_=void 0===g||g,j=n.header,w=n.attributesFilter,x=void 0===w?{}:w,O=n.filter,S=void 0===O?{}:O,A="boolean"!=typeof x||x?o(o(o({},y),{'"':"&quot;"}),x):{},E="boolean"!=typeof S||S?o(o({},y),S):{},k=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").repeat(t)}(s,c),P=p(r),D=function(t){var e=t.header,r=(t.indent,t.isOutputStart);return e&&r?a(e)===u?'<?xml version="1.0" encoding="UTF-8"?>':e:""}({header:j,indent:s,depth:c,isOutputStart:_}),C=_&&!D&&v&&0===c,z="";switch(P){case"special-object":var F=r._name,T=r._content;if(null===T){z=F;break}if(Array.isArray(T)&&T.every(b))return T.map((function(e){return t({_name:F,_content:e},o(o({},n),{},{depth:c,_isOutputStart:!1}))})).join("");if(F.match(f))break;var M=t(T,o(o({},n),{},{depth:c+1,_isOutputStart:C})),L=p(M),N=m(M),I="".concat(s&&!C?"\n":"").concat(k);if("_comment"===F){z+="".concat(I,"\x3c!-- ").concat(T," --\x3e");break}var R="undefined"===L||""===M,q=a(r._selfCloseTag)===u?R&&r._selfCloseTag:R,G=q?"/":"",U=d(r._attrs,A),B="<".concat(F).concat(U).concat(G,">"),$=s&&!N?"\n".concat(k):"",W=q?"":"".concat(M).concat($,"</").concat(F,">");z+="".concat(I).concat(B).concat(W);break;case"object":var X=Object.keys(r);z=X.map((function(i,a){var u=o(o({},n),{},{_isFirstItem:0===a,_isLastItem:a+1===X.length,_isOutputStart:C}),c={_name:i};if("object"===p(r[i])&&(l.forEach((function(t){var e=r[i][t];void 0!==e&&(c[t]=e,delete r[i][t])})),void 0!==r[i]._content&&Object.keys(r[i]).length>1)){var s=Object.assign({},r[i]);delete s._content,c._content=[].concat(e(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map((function(e){return{_name:e,_content:t[e]}}))}(s)),[r[i]._content])}return void 0===c._content&&(c._content=r[i]),t(c,u,i)}),n).join("");break;case"function":var V=r(n);z=t(V,n);break;case"array":z=r.map((function(e,i){var a=o(o({},n),{},{_isFirstItem:0===i,_isLastItem:i+1===r.length,_isOutputStart:C});return t(e,a)})).join("");break;default:z=h(r,E)}return"".concat(D).concat(z)};t.toXML=g;var _={toXML:g};t.default=_},void 0===(n=r.apply(e,[e]))||(t.exports=n)},918:(t,e,r)=>{"use strict";t.exports=r(706)},551:(t,e,r)=>{"use strict";var n=r(795);function o(){}var i=null,a={};function u(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,t!==o&&h(t,this)}function c(t,e){for(;3===t._y;)t=t._z;if(u._B&&u._B(t),0===t._y)return 0===t._x?(t._x=1,void(t._A=e)):1===t._x?(t._x=2,void(t._A=[t._A,e])):void t._A.push(e);!function(t,e){n((function(){var r=1===t._y?e.onFulfilled:e.onRejected;if(null!==r){var n=function(t,e){try{return t(e)}catch(t){return i=t,a}}(r,t._z);n===a?l(e.promise,i):s(e.promise,n)}else 1===t._y?s(e.promise,t._z):l(e.promise,t._z)}))}(t,e)}function s(t,e){if(e===t)return l(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var r=function(t){try{return t.then}catch(t){return i=t,a}}(e);if(r===a)return l(t,i);if(r===t.then&&e instanceof u)return t._y=3,t._z=e,void f(t);if("function"==typeof r)return void h(r.bind(e),t)}t._y=1,t._z=e,f(t)}function l(t,e){t._y=2,t._z=e,u._C&&u._C(t,e),f(t)}function f(t){if(1===t._x&&(c(t,t._A),t._A=null),2===t._x){for(var e=0;e<t._A.length;e++)c(t,t._A[e]);t._A=null}}function p(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function h(t,e){var r=!1,n=function(t){try{t((function(t){r||(r=!0,s(e,t))}),(function(t){r||(r=!0,l(e,t))}))}catch(t){return i=t,a}}(t);r||n!==a||(r=!0,l(e,i))}t.exports=u,u._B=null,u._C=null,u._D=o,u.prototype.then=function(t,e){if(this.constructor!==u)return function(t,e,r){return new t.constructor((function(n,i){var a=new u(o);a.then(n,i),c(t,new p(e,r,a))}))}(this,t,e);var r=new u(o);return c(this,new p(t,e,r)),r}},556:(t,e,r)=>{"use strict";var n=r(551);t.exports=n,n.prototype.done=function(t,e){(arguments.length?this.then.apply(this,arguments):this).then(null,(function(t){setTimeout((function(){throw t}),0)}))}},635:(t,e,r)=>{"use strict";var n=r(551);t.exports=n;var o=l(!0),i=l(!1),a=l(null),u=l(void 0),c=l(0),s=l("");function l(t){var e=new n(n._D);return e._y=1,e._z=t,e}n.resolve=function(t){if(t instanceof n)return t;if(null===t)return a;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return i;if(0===t)return c;if(""===t)return s;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new n(e.bind(t))}catch(t){return new n((function(e,r){r(t)}))}return l(t)};var f=function(t){return"function"==typeof Array.from?(f=Array.from,Array.from(t)):(f=function(t){return Array.prototype.slice.call(t)},Array.prototype.slice.call(t))};function p(t){return{status:"fulfilled",value:t}}function h(t){return{status:"rejected",reason:t}}function d(t){if(t&&("object"==typeof t||"function"==typeof t)){if(t instanceof n&&t.then===n.prototype.then)return t.then(p,h);var e=t.then;if("function"==typeof e)return new n(e.bind(t)).then(p,h)}return p(t)}function v(t){if("function"==typeof AggregateError)return new AggregateError(t,"All promises were rejected");var e=new Error("All promises were rejected");return e.name="AggregateError",e.errors=t,e}n.all=function(t){var e=f(t);return new n((function(t,r){if(0===e.length)return t([]);var o=e.length;function i(a,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof n&&u.then===n.prototype.then){for(;3===u._y;)u=u._z;return 1===u._y?i(a,u._z):(2===u._y&&r(u._z),void u.then((function(t){i(a,t)}),r))}var c=u.then;if("function"==typeof c)return void new n(c.bind(u)).then((function(t){i(a,t)}),r)}e[a]=u,0==--o&&t(e)}for(var a=0;a<e.length;a++)i(a,e[a])}))},n.allSettled=function(t){return n.all(f(t).map(d))},n.reject=function(t){return new n((function(e,r){r(t)}))},n.race=function(t){return new n((function(e,r){f(t).forEach((function(t){n.resolve(t).then(e,r)}))}))},n.prototype.catch=function(t){return this.then(null,t)},n.any=function(t){return new n((function(e,r){var o=f(t),i=!1,a=[];function u(t){i||(i=!0,e(t))}function c(t){a.push(t),a.length===o.length&&r(v(a))}0===o.length?r(v(a)):o.forEach((function(t){n.resolve(t).then(u,c)}))}))}},293:(t,e,r)=>{"use strict";var n=r(551);t.exports=n,n.prototype.finally=function(t){return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))}))}},706:(t,e,r)=>{"use strict";t.exports=r(551),r(556),r(293),r(635),r(791),r(727)},791:(t,e,r)=>{"use strict";var n=r(551),o=r(236);t.exports=n,n.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?function(t,e){for(var r=[],o=0;o<e;o++)r.push("a"+o);var a=["return function ("+r.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(r).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],a)(n,t)}(t,e):function(t){for(var e=Math.max(t.length-1,3),r=[],o=0;o<e;o++)r.push("a"+o);var a=["return function ("+r.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",r.concat(["extra"]).map((function(t,e){return"case "+e+":res = fn.call("+["self"].concat(r.slice(0,e)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],a)(n,t)}(t)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";n.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),r="function"==typeof e[e.length-1]?e.pop():null,i=this;try{return t.apply(this,arguments).nodeify(r,i)}catch(t){if(null==r)return new n((function(e,r){r(t)}));o((function(){r.call(i,t)}))}}},n.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then((function(r){o((function(){t.call(e,null,r)}))}),(function(r){o((function(){t.call(e,r)}))}))}},727:(t,e,r)=>{"use strict";var n=r(551);t.exports=n,n.enableSynchronous=function(){n.prototype.isPending=function(){return 0==this.getState()},n.prototype.isFulfilled=function(){return 1==this.getState()},n.prototype.isRejected=function(){return 2==this.getState()},n.prototype.getValue=function(){if(3===this._y)return this._z.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._z},n.prototype.getReason=function(){if(3===this._y)return this._z.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._z},n.prototype.getState=function(){return 3===this._y?this._z.getState():-1===this._y||-2===this._y?0:this._y}},n.disableSynchronous=function(){n.prototype.isPending=void 0,n.prototype.isFulfilled=void 0,n.prototype.isRejected=void 0,n.prototype.getValue=void 0,n.prototype.getReason=void 0,n.prototype.getState=void 0}},452:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new D(n||[]);return o(a,"_invoke",{value:A(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",b={};function m(){}function y(){}function g(){}var _={};s(_,a,(function(){return this}));var j=Object.getPrototypeOf,w=j&&j(j(C([])));w&&w!==r&&n.call(w,a)&&(_=w);var x=g.prototype=m.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function A(t,e,r){var n=p;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return z()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=E(a,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=f(t,e,r);if("normal"===c.type){if(n=r.done?v:h,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=v,r.method="throw",r.arg=c.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:z}}function z(){return{value:e,done:!0}}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},O(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{Cell:()=>d,Chord:()=>v,LogLevel:()=>z,MusicXML:()=>F,Playlist:()=>h,Song:()=>b,Version:()=>R,convert:()=>$,convertSync:()=>B});var t,e=r(918),o=r.n(e),i=r(606),a=r.n(i);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function l(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t){if("object"!=u(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=l((function t(e){p(this,t);var r=/.*?(irealb(?:ook)?):\/\/([^"]*)/.exec(e),n=decodeURIComponent(r[2]).split("===");n.length>1&&(this.name=n.pop()),this.songs=n.map((function(t){try{return new b(t,"irealbook"===r[1])}catch(r){var e=t.split("="),n=b.parseTitle(e[0].trim());return console.error("[ireal-musicxml] [".concat(n,"] ").concat(r.toString())),null}})).filter((function(t){return null!==t})).reduce((function(t,e){if(t.length>0){var r=a()(t[t.length-1].title,e.title);if(0===r[0][0]&&r.every((function(t){return 0===t[0]||t[1].match(/^\d+$/)})))return t[t.length-1].cells=t[t.length-1].cells.concat(e.cells),t}return t.push(e),t}),[])})),d=l((function t(){p(this,t),this.annots=[],this.comments=[],this.bars="",this.spacer=0,this.chord=null})),v=l((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,t),this.note=e,this.modifiers=r,this.over=n,this.alternate=o})),b=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(p(this,t),this.cells=[],this.musicXml="",!e)return this.title="",this.composer="",this.style="",this.key="",this.transpose=0,this.groove="",this.bpm=0,void(this.repeats=0);var n=e.split("=");if(r)this.title=t.parseTitle(n[0].trim()),this.composer=t.parseComposer(n[1].trim()),this.style=n[2].trim(),this.key=n[3],this.cells=this.parse(n[5]);else{this.title=t.parseTitle(n[0].trim()),this.composer=t.parseComposer(n[1].trim()),this.style=n[3].trim(),this.key=n[4],this.transpose=+n[5]||0,this.groove=n[7],this.bpm=+n[8],this.repeats=+n[9]||3;var o=n[6].split("1r34LbKcu7");this.cells=this.parse(function(t){for(var e,r="";t.length>51;)e=t.substring(0,50),t=t.substring(50),r+=m(e);return(r+=t).replace(/Kcl/g,"| x").replace(/LZ/g," |").replace(/XyQ/g,"   ")}(o[1]))}}return l(t,[{key:"parse",value:function(e){for(var r=e.trim(),n=[];r;){for(var o=!1,i=0;i<t.regExps.length;i++){var a=t.regExps[i].exec(r);if(a){o=!0,a.length<=2?(n.push(a[0]),r=r.substr(a[0].length)):(n.push(a),r=r.substr(a[0].length));break}}o||(","!==r[0]&&n.push(r[0]),r=r.substr(1))}for(var u=[],c=this.newCell(u),s=null,l=0;l<n.length;l++){var f=n[l];switch(f instanceof Array&&(c.chord=this.parseChord(f),f=" "),f[0]){case"{":case"[":s&&(s.bars+=")",s=null),c.bars=f,f=null;break;case"|":s&&(s.bars+=")",s=null),c.bars="(",f=null;break;case"]":case"}":case"Z":s&&(s.bars+=f,s=null),f=null;break;case"n":c.chord=new v(f[0]);break;case",":f=null;break;case"S":case"T":case"Q":case"N":case"U":case"s":case"l":case"f":case"*":c.annots.push(f),f=null;break;case"Y":c.spacer++,f=null,s=null;break;case"r":case"x":case"W":c.chord=new v(f);break;case"<":f=f.substr(1,f.length-2),c.comments.push(f),f=null}f&&l<n.length-1&&(s=c,c=this.newCell(u))}return u}},{key:"parseChord",value:function(e){var r=e[1]||" ",n=e[2]||"",o=e[3]||"";o&&(n+=o.substr(1,o.length-2));var i=e[4]||"";"/"===i[0]&&(i=i.substr(1));var a=e[5]||null;if(a&&(e=t.chordRegex.exec(a.substr(1,a.length-2)),a=e?this.parseChord(e):null)," "===r&&!a&&!i)return null;if(i){var u="#"===i[1]||"b"===i[1]?2:1;i=new v(i.substr(0,u),i.substr(u),null,null)}else i=null;return new v(r,n,i,a)}},{key:"newCell",value:function(t){var e=new d;return t.push(e),e}}],[{key:"parseTitle",value:function(t){return t.replace(/(.*)(, )(A|The)$/g,"$3 $1")}},{key:"parseComposer",value:function(t){var e=t.split(/(\s+)/);return 3==e.length?e[2]+e[1]+e[0]:t}}])}();function m(t){for(var e=t.split(""),r=0;r<5;r++)e[49-r]=t[r],e[r]=t[49-r];for(var n=10;n<24;n++)e[49-n]=t[n],e[n]=t[49-n];return e.join("")}t=b,c(b,"chordRegex",/^([A-G][b#]?)((?:sus|alt|add|[+\-^\dhob#])*)(\*.+?\*)*(\/[A-G][#b]?)?(\(.*?\))?/),c(b,"chordRegex2",/^([ Wp])()()(\/[A-G][#b]?)?(\(.*?\))?/),c(b,"regExps",[/^\*[a-zA-Z]/,/^T\d\d/,/^N./,/^<.*?>/,t.chordRegex,t.chordRegex2]);var y=r(270),g=r(59);const _=JSON.parse('{"UU":"ireal-musicxml","rE":"1.13.3","h_":"iReal Pro to MusicXML converter","cy":"Karim Ratib <karim.ratib@gmail.com> (https://github.com/infojunkie)"}');var j;function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function x(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C(n.key),n)}}function k(t,e,r){return e&&E(t.prototype,e),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e,r){return(e=C(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C(t){var e=function(t){if("object"!=w(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}var z=k((function t(){P(this,t)}));D(z,"Debug",0),D(z,"Info",1),D(z,"Warn",2),D(z,"Error",3),D(z,"None",4);var F=function(){function t(e,r){P(this,t),this.song=e,this.options=r,this.time={beats:4,beatType:4},this.fifths=null,this.measure=null,this.barRepeat=0,this.codas=[],this.repeats=0,this.parseChord=(0,g.chordParserFactory)({altIntervals:["b5","b9"]}),this.renderChord=(0,g.chordRendererFactory)({useShortNamings:!0,printer:"raw"})}return k(t,[{key:"convert",value:function(){return(0,y.toXML)(this.convertSong(),{header:'\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE score-partwise PUBLIC "-//Recordare//DTD MusicXML '.concat("4.0",' Partwise//EN" "http://www.musicxml.org/dtds/partwise.dtd">\n      ').trim(),indent:"  "})}},{key:"convertSong",value:function(){return{_name:"score-partwise",_attrs:{version:"4.0"},_content:[{work:{"work-title":this.song.title}},{identification:[{_name:"creator",_attrs:{type:"composer"},_content:this.song.composer},{encoding:[{software:"@infojunkie/ireal-musicxml ".concat(_.rE)},A({},this.options.date&&{"encoding-date":t.convertDate(new Date)}),{_name:"supports",_attrs:{element:"accidental",type:"no"}},{_name:"supports",_attrs:{element:"transpose",type:"no"}},{_name:"supports",_attrs:{attribute:"new-page",element:"print",type:"yes",value:"yes"}},{_name:"supports",_attrs:{attribute:"new-system",element:"print",type:"yes",value:"yes"}}]}]},{defaults:{scaling:{millimeters:7,tenths:40}}},{"part-list":{_name:"score-part",_attrs:{id:"P1"},_content:{_name:"part-name",_attrs:{"print-object":"no"},_content:"Lead sheet"}}},{_name:"part",_attrs:{id:"P1"},_content:this.convertMeasures()}]}}},{key:"convertMeasures",value:function(){var e=this,r=this.song.cells.reduce((function(r,n,o){if((n.bars.match(/\(|\{|\[/)||!e.measure&&(n.chord||n.annots.length||n.comments.length))&&(e.measure&&(e._log(z.Warn,"Starting a new measure over existing measure. Closing current measure first."),e.measure.barlines.push(e.convertBarline("","right")),e.adjustChordsDuration(e.measure)&&r.push(e.measure)),e.measure=new t.Measure(r.length+1),r.length||(e.measure.attributes.push({divisions:e.options.divisions},{clef:[{sign:"G"},{line:2}]},{"measure-style":[{_name:"slash",_attrs:{type:"start","use-stems":"rhythmic"===e.options.notation?"yes":"no"}}]},e.convertKey()),e.song.bpm&&e.measure.body._content.push(e.convertTempo(e.song.bpm)),e.measure.body._content.push(e.convertStyleAndGroove(e.song.style,e.song.groove))),e.measure.barlines.push(e.convertBarline(n.bars,"left")),e.barRepeat&&(e.measure.chords=x(r[r.length-e.barRepeat-1].chords))),!e.measure)return(n.chord||n.annots.length||n.comments.length||n.bars&&")"!==n.bars)&&e._log(z.Warn,"Found non-empty orphan cell ".concat(JSON.stringify(n)),r[r.length-1]),r;if(o>0&&o%16==0&&e.measure.body._content.splice(0,0,{_name:"print",_attrs:{"new-system":"yes"}}),n.chord)switch(n.chord.note){case"x":e.barRepeat=1,e.measure.chords=x(r[r.length-e.barRepeat].chords);break;case"r":e.barRepeat=2,e.measure.chords=x(r[r.length-e.barRepeat].chords);break;case"p":if(e.measure.chords.length){e.measure.chords[e.measure.chords.length-1].spaces++;break}case"W":var i=e.measure;if(i.chords.length||(i=r.slice().reverse().find((function(t){return t.chords.length})))||e._log(z.Error,"Cannot find any measure with chords prior to ".concat(JSON.stringify(n.chord))),i){var a=i.chords[i.chords.length-1].ireal;a.over=n.chord.over,a.alternate=n.chord.alternate,e.measure.chords.push(e.convertChord(a))}break;case" ":e._log(z.Warn,"Unhandled empty/alternate chord ".concat(JSON.stringify(n.chord)));break;default:e.measure.chords.push(e.convertChord(n.chord))}else e.barRepeat||e.measure.chords.length&&e.measure.chords[e.measure.chords.length-1].spaces++;return n.annots.forEach((function(t){switch(t[0]){case"*":var n=t.slice(1);e.measure.body._content.push(e.convertSection(n));break;case"T":var o=t.slice(1);e.measure.attributes.push(e.convertTime(o));break;case"S":e.measure.body._content.push(e.convertSegno());break;case"N":var i=parseInt(t.slice(1));if(i<1){var a,u=r.slice().reverse().find((function(t){return!!t.barEnding}));i=null!==(a=null==u?void 0:u.barEnding)&&void 0!==a?a:1}if(e.measure.barlines[0]._content.push(e.convertEnding(i,"start")),i>1){r[r.length-1].barlines[1]._content.push(e.convertEnding(i-1,"stop"));var c=r.slice().reverse().find((function(t){return t.barEnding===i-1}));if(c){var s=c.barlines[1]._content.findIndex((function(t){return!!t&&"ending"===t._name}));-1===s&&e._log(z.Error,"Cannot find ending ".concat(i-1," in right barline"),c),delete c.barlines[1]._content[s]}else e._log(z.Error,"Cannot find ending ".concat(i-1," in right barline of any measure"))}e.measure.barEnding=i;break;case"Q":e.measure.body._content.push(e.convertToCoda()),e.codas.push(e.measure);break;case"l":case"s":break;case"f":e.measure.chords[e.measure.chords.length-1].fermata=!0;break;case"U":e.measure.body._content.push(e.convertFine("END"));break;default:e._log(z.Warn,'Unhandled annotation "'.concat(t,'"'))}})),n.comments.map((function(t){return t.trim()})).forEach((function(r){var n=e._map(t.mapRepeats,r);n?e.measure.body._content.push(n.call(e,r)):e.measure.body._content.push(e.convertComment(r))})),n.bars.match(/\)|\}|\]|Z/)&&e.measure.chords.length&&(e.measure.barlines.push(e.convertBarline(n.bars,"right")),e.measure.barEnding&&e.measure.barlines[1]._content.push(e.convertEnding(e.measure.barEnding,"discontinue")),e.adjustChordsDuration(e.measure)&&r.push(e.measure),e.measure=null,e.barRepeat&&e.barRepeat--),r}),[]);if(this.codas.length){var n=this.codas[this.codas.length-1],o=n.body._content.findIndex((function(t){return"direction"===t._name&&Array.isArray(t._content)&&t._content.some((function(t){return"sound"===t._name&&Object.keys(t._attrs).includes("tocoda")}))}));-1===o&&this._log(z.Warn,"Cannot find sound direction",n),n.body._content[o]=this.convertCoda()}return r.map((function(t){return t.assemble()}))}},{key:"convertRepeatNx",value:function(t){var e;null!==(e=t.match(/(\d+)x/))&&(this.repeats=e[1])}},{key:"convertFine",value:function(t){return{_name:"direction",_attrs:{placement:"below"},_content:[{"direction-type":{words:t}},{_name:"sound",_attrs:{fine:"yes"}}]}}},{key:"convertDaCapo",value:function(t){return{_name:"direction",_attrs:{placement:"below"},_content:[{"direction-type":{words:t}},{_name:"sound",_attrs:{dacapo:"yes"}}]}}},{key:"convertDalSegno",value:function(t){return{_name:"direction",_attrs:{placement:"below"},_content:[{"direction-type":{words:t}},{_name:"sound",_attrs:{dalsegno:"yes"}}]}}},{key:"convertComment",value:function(t){var e="*"===t[0]?t.slice(3):t;return{_name:"direction",_attrs:{placement:"*"===t[0]?"above":"below"},_content:{"direction-type":{words:e}}}}},{key:"convertEnding",value:function(t,e){return{_name:"ending",_attrs:{number:t,type:e},_content:"".concat(t,".")}}},{key:"convertBarline",value:function(t,e){var r="left"===e?"none":"regular",n=null;return t.match(/\[|\]/)?r="light-light":t.match(/Z/)?r="light-heavy":t.match(/\{|\}/)&&(r="left"===e?"heavy-light":"light-heavy",n="left"===e?"forward":"backward"),"forward"===n&&(this.repeats=2),{_name:"barline",_attrs:{location:e},_content:[{"bar-style":r},A({},n&&{_name:"repeat",_attrs:A({direction:n},"backward"===n&&{times:this.repeats})})]}}},{key:"convertSection",value:function(t){return"i"===t&&(t="Intro"),{_name:"direction",_attrs:{placement:"above"},_content:{"direction-type":{rehearsal:t}}}}},{key:"convertSegno",value:function(){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":{_name:"segno"}},{_name:"sound",_attrs:{segno:"segno"}}]}}},{key:"convertCoda",value:function(){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":{_name:"coda"}},{_name:"sound",_attrs:{coda:"coda"}}]}}},{key:"convertToCoda",value:function(){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":{words:"To Coda"}},{_name:"sound",_attrs:{tocoda:"coda"}}]}}},{key:"convertTempo",value:function(t){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{_name:"metronome",_attrs:{parentheses:"no"},_content:[{"beat-unit":this.calculateChordDuration(1)[0].type},{"per-minute":t}]}]},{_name:"sound",_attrs:{tempo:t}}]}}},{key:"convertTime",value:function(t){var e=parseInt(t[0]),r=parseInt(t[1]);return"12"===t&&(e=12,r=8),this.time={beats:e,beatType:r},{time:[{beats:e},{"beat-type":r}]}}},{key:"adjustChordsDuration",value:function(t){var e=this;if(t.chords.length>this.time.beats)return this._log(z.Error,"Too many chords (".concat(t.chords.length," out of ").concat(this.time.beats,")"),t),!0;var r=t.chords.reduce((function(t,e){return t+1+e.spaces}),0);if(!r)return this._log(z.Warn,"No chord found. Skipping current measure.",t),!1;if(r>this.time.beats)for(var n=0;r>this.time.beats;)t.chords[n].spaces>0&&(t.chords[n].spaces--,r--),n=(n+1)%t.chords.length;else for(var o=0;r<this.time.beats;)t.chords[o].spaces++,r++,o=(o+1)%t.chords.length;return t.chords=t.chords.map((function(t){return t.notes=e.calculateChordDuration(1+t.spaces).map((function(r,n,o){return e.convertChordNote(r,n===o.length-1&&t.fermata,"rhythmic"===e.options.notation&&o.length>1?n>0?"stop":"start":null)})),t})),!0}},{key:"calculateChordDuration",value:function(t){var e=this,r={1:[{t:"eighth",d:0,b:1}],2:[{t:"quarter",d:0,b:2}],3:[{t:"quarter",d:1,b:3}],4:[{t:"half",d:0,b:4}],5:[{t:"quarter",d:1,b:3},{t:"quarter",d:0,b:2}],6:[{t:"half",d:1,b:6}],7:[{t:"half",d:2,b:7}],8:[{t:"whole",d:0,b:8}],9:[{t:"half",d:1,b:6},{t:"quarter",d:1,b:3}],10:[{t:"half",d:1,b:6},{t:"half",d:0,b:4}],11:[{t:"half",d:2,b:7},{t:"half",d:0,b:4}],12:[{t:"whole",d:1,b:12}],13:[{t:"half",d:2,b:7},{t:"half",d:1,b:6}],14:[{t:"whole",d:2,b:14}],15:[{t:"whole",d:0,b:8},{t:"half",d:2,b:7}]};if("slash"===this.options.notation){var n=8/this.time.beatType;return Array(t).fill(this._map(r,n,[],"Unexpected beat count 1 for time signature ".concat(this.time.beats,"/").concat(this.time.beatType)).map((function(t){return{duration:t.b*e.options.divisions/2,type:t.t,dots:t.d}}))[0])}var o=8*t/this.time.beatType;return this._map(r,o,[],"Unexpected beat count ".concat(t," for time signature ").concat(this.time.beats,"/").concat(this.time.beatType)).map((function(t){return{duration:t.b*e.options.divisions/2,type:t.t,dots:t.d}}))}},{key:"convertChordNote",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={_name:"pitch",_content:[{step:this.options.step},{alter:this._map(t.mapFifthsToAlters,this.fifths,[],"Unhandled fifths count=".concat(this.fifths)).includes(this.options.step)?this.fifths>0?1:-1:0},{octave:this.options.octave}]},i=[];return r&&i.push({_name:"fermata"}),n&&i.push({_name:"tied",_attrs:{type:n}}),t.reorderSequence(this.measure,[o,{_name:"cue"},{notehead:this.options.notehead},{duration:e.duration},{voice:1},{_name:"type",_attrs:{size:"full"},_content:e.type},A({},i.length&&{notations:t.reorderSequence(this.measure,i,t.sequenceNotations)})].concat(Array(e.dots).fill({_name:"dot"})),t.sequenceNote)}},{key:"convertChordDegree",value:function(t,e,r){return{_name:"degree",_attrs:{"print-object":"no"},_content:[{"degree-value":t},{"degree-alter":r},{"degree-type":e}]}}},{key:"convertChordSymbol",value:function(e){var r=this,n=this.renderChord(this.parseChord("".concat(e.note).concat(e.modifiers)));if(!n)return this._log(z.Warn,'Unrecognized chord "'.concat(e.note).concat(e.modifiers,'"')),{rootStep:null,rootAlter:null,chordKind:null,chordDegrees:[],chordText:null};var o=n.input.rootNote[0],i=this._map(t.mapAlter,n.input.rootNote[1]||null,null,'Unrecognized accidental in chord "'.concat(n.input.rootNote,'"')),a=n.formatted.descriptor+n.formatted.chordChanges.join(""),u=this._map({major:"major",major6:"major-sixth",major7:"major-seventh",dominant7:"dominant",minor:"minor",minor6:"minor-sixth",minor7:"minor-seventh",minorMajor7:"major-minor",augmented:"augmented",diminished:"diminished",diminished7:"diminished-seventh",power:"power"},n.normalized.quality,"",'Unrecognized chord quality "'.concat(n.normalized.quality,'"'));if(n.normalized.extensions.length){var c=Math.max.apply(Math,x(n.normalized.extensions.map((function(t){return parseInt(t)})))).toString();"dominant-11th"===(u=u.split("-")[0]+this._map({9:"-ninth",11:"-11th",13:"-13th"},c,"","Unhandled extension ".concat(c)))&&(n.normalized.isSuspended=!1)}[{intervals:["1","4","5"],kind:"suspended-fourth",strict:!0},{intervals:["1","5","9"],kind:"suspended-second",strict:!0},{intervals:["1","b3","b5","b7"],kind:"half-diminished",strict:!0},{intervals:["1","3","#5","b7"],kind:"augmented-seventh",strict:!1}].some((function(t){if((!t.strict||n.normalized.intervals.length===t.intervals.length)&&t.intervals.every((function(t,e){return t===n.normalized.intervals[e]})))return u=t.kind,t.intervals.forEach((function(t){n.normalized.alterations=n.normalized.alterations.filter((function(e){return e===t})),n.normalized.adds=n.normalized.adds.filter((function(e){return e===t})),n.normalized.omits=n.normalized.omits.filter((function(e){return e===t}))})),n.normalized.intervals.forEach((function(e){t.intervals.includes(e)||n.normalized.adds.push(e)})),!0}));var s=[];return n.normalized.isSuspended&&!u.includes("suspended")&&(n.normalized.adds.push("4"),n.normalized.adds.includes("3")||n.normalized.omits.push("3")),n.normalized.alterations.forEach((function(e){var o=e.slice(1);s.push(r.convertChordDegree(o,"5"===o||n.normalized.extensions.includes(o)?"alter":"add",r._map(t.mapAlter,e[0],0,'Unrecognized alter symbol in "'.concat(e,'"'))))})),n.normalized.adds.forEach((function(e){var n=Object.keys(t.mapAlter).includes(e[0])?e[0]:null,o=n?e.slice(1):e;s.push(r.convertChordDegree(o,"add",r._map(t.mapAlter,n,0,'Unrecognized alter symbol in "'.concat(e,'"'))))})),n.normalized.omits.forEach((function(e){var n=Object.keys(t.mapAlter).includes(e[0])?e[0]:null,o=n?e.slice(1):e;s.push(r.convertChordDegree(o,"subtract",r._map(t.mapAlter,n,0,'Unrecognized alter symbol in "'.concat(e,'"'))))})),{rootStep:o,rootAlter:i,chordKind:u,chordDegrees:s,chordText:a}}},{key:"convertChord",value:function(e){var r=this,n=null;if("n"===e.note)n=[{root:[{_name:"root-step",_attrs:{text:""},_content:this.options.step}]},{_name:"kind",_attrs:{text:"N.C."},_content:"none"}];else{var o=this.convertChordSymbol(e),i=o.rootStep,a=o.rootAlter,u=o.chordKind,c=o.chordDegrees,s=o.chordText,l=e.over?[{"bass-step":e.over.note[0]},A({},e.over.note[1]&&{"bass-alter":this._map(t.mapAlter,e.over.note[1],null,'Unrecognized accidental in bass note "'.concat(e.over.note,'"'))})]:null;n=[{root:[{"root-step":i},A({},a&&{"root-alter":a})]},{_name:"kind",_attrs:{text:s,"use-symbols":"no"},_content:u},A({},l&&{bass:l})].concat(c)}return e.alternate&&this._log(z.Warn,"Unhandled alternate chord ".concat(JSON.stringify(e.alternate))),new t.Chord(n,this.calculateChordDuration(1).map((function(t){return r.convertChordNote(t)})),e)}},{key:"convertKey",value:function(){return this.fifths=this._map({C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,"C#":7,F:-1,Bb:-2,Eb:-3,Ab:-4,Db:-5,Gb:-6,Cb:-7,"A-":0,"E-":1,"B-":2,"F#-":3,"C#-":4,"G#-":5,"D#-":6,"A#-":7,"D-":-1,"G-":-2,"C-":-3,"F-":-4,"Bb-":-5,"Eb-":-6,"Ab-":-7},this.song.key,0,'Unrecognized key signature "'.concat(this.song.key,'"')),{key:[{fifths:this.fifths},{mode:"-"===this.song.key.slice(-1)?"minor":"major"}]}}},{key:"convertStyleAndGroove",value:function(t,e){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{words:t}]},{sound:[{play:[{_name:"other-play",_attrs:{type:"groove"},_content:e||t}]}]}]}}},{key:"_log",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.measure;if(!(t<this.options.logLevel)){var n="[ireal-musicxml] [".concat(this.song.title).concat(r?"#"+r.number():"","] ").concat(e),o="warn";switch(t){case z.Debug:o="debug";break;case z.Info:o="info";break;case z.Warn:o="warn";break;case z.Error:o="error"}console[o](n)}}},{key:"_map",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:z.Warn,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.measure;return e?e in t?t[e]:(n&&this._log(o,n,i),r||null):r}}],[{key:"convert",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new t(e,Object.assign({},this.defaultOptions,r)).convert()}},{key:"convertDate",value:function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]}},{key:"reorderSequence",value:function(t,e,r){var n=this;return e.filter((function(t){return Object.keys(t).length})).sort((function(e,o){var i=Object.keys(e)[0];"_name"===i&&(i=e[i]);var a=Object.keys(o)[0];"_name"===a&&(a=o[a]);var u=r.indexOf(i),c=r.indexOf(a);return-1===u&&n._log(z.Warn,'Unrecognized element "'.concat(i,'"'),t),-1===c&&n._log(z.Warn,'Unrecognized element "'.concat(a,'"'),t),u-c}))}}])}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function L(t,e,r){return e&&M(t.prototype,e),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N(t,e,r){return(e=I(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t){var e=function(t){if("object"!=T(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==T(e)?e:e+""}j=F,D(F,"defaultOptions",{divisions:768,notation:"rhythmic",step:"B",octave:4,notehead:"slash",date:!1,logLevel:z.Warn}),D(F,"sequenceAttributes",["divisions","key","time","staves","part-symbol","instruments","clef","staff-details","transpose","directive","measure-style"]),D(F,"sequenceNote",["cue","pitch","rest","unpitched","duration","tie","voice","type","dot","accidental","time-modification","stem","notehead","notehead-text","staff","beam","notations","lyric","play"]),D(F,"sequenceNotations",["accidental-mark","arpeggiate","articulations","dynamics","fermata","glissando","non-arpeggiate","ornaments","other-notation","slide","slur","technical","tied","tuplet"]),D(F,"sequenceBarline",["bar-style","footnote","level","wavy-line","segno","coda","fermata","ending","repeat"]),D(F,"mapAlter",{"#":1,b:-1}),D(F,"mapFifthsToAlters",{0:[],1:["F"],2:["F","C"],3:["F","C","G"],4:["F","C","G","D"],5:["F","C","G","D","A"],6:["F","C","G","D","A","E"],7:["F","C","G","D","A","E","B"],"-1":["B"],"-2":["B","E"],"-3":["B","E","A"],"-4":["B","E","A","D"],"-5":["B","E","A","D","G"],"-6":["B","E","A","D","G","C"],"-7":["B","E","A","D","G","C","F"]}),D(F,"mapRepeats",{"D.C. al Coda":j.prototype.convertDaCapo,"D.C. al Fine":j.prototype.convertDaCapo,"D.C. al 1st End.":j.prototype.convertDaCapo,"D.C. al 2nd End.":j.prototype.convertDaCapo,"D.C. al 3rd End.":j.prototype.convertDaCapo,"D.S. al Coda":j.prototype.convertDalSegno,"D.S. al Fine":j.prototype.convertDalSegno,"D.S. al 1st End.":j.prototype.convertDalSegno,"D.S. al 2nd End.":j.prototype.convertDalSegno,"D.S. al 3rd End.":j.prototype.convertDalSegno,Fine:j.prototype.convertFine,"3x":j.prototype.convertRepeatNx,"4x":j.prototype.convertRepeatNx,"5x":j.prototype.convertRepeatNx,"6x":j.prototype.convertRepeatNx,"7x":j.prototype.convertRepeatNx,"8x":j.prototype.convertRepeatNx}),D(F,"Measure",function(){return k((function t(e){P(this,t),this.body={_name:"measure",_attrs:{number:e},_content:[]},this.attributes=[],this.chords=[],this.barlines=[],this.barEnding=null}),[{key:"number",value:function(){return this.body._attrs.number}},{key:"assemble",value:function(){var t=this;return this.attributes.length&&this.body._content.push({attributes:j.reorderSequence(this,this.attributes,j.sequenceAttributes)}),this.chords.forEach((function(e){var r;(r=t.body._content).push.apply(r,[{harmony:e.harmony}].concat(x(e.notes.map((function(t){return{note:t}})))))})),this.barlines[0]._content=j.reorderSequence(this,this.barlines[0]._content,j.sequenceBarline),this.body._content.splice(1,0,this.barlines[0]),this.barlines[1]._content=j.reorderSequence(this,this.barlines[1]._content,j.sequenceBarline),this.body._content.push(this.barlines[1]),this.body}}])}()),D(F,"Chord",k((function t(e,r,n){P(this,t),this.harmony=e,this.notes=r,this.ireal=n,this.spaces=0,this.fermata=!1})));var R=L((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function G(){G=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new D(n||[]);return o(a,"_invoke",{value:A(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",b={};function m(){}function y(){}function g(){}var _={};s(_,a,(function(){return this}));var j=Object.getPrototypeOf,w=j&&j(j(C([])));w&&w!==r&&n.call(w,a)&&(_=w);var x=g.prototype=m.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==q(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function A(e,r,n){var o=p;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=E(u,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?v:h,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(q(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},O(S.prototype),s(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function U(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new h(t);return r.songs.forEach((function(t){t.musicXml=F.convert(t,e)})),r}function $(t){return W.apply(this,arguments)}function W(){var t;return t=G().mark((function t(e){var r,n=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.abrupt("return",new(o())((function(t){return t(B(e,r))})));case 2:case"end":return t.stop()}}),t)})),W=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){U(i,n,o,a,u,"next",t)}function u(t){U(i,n,o,a,u,"throw",t)}a(void 0)}))},W.apply(this,arguments)}N(R,"name",_.UU),N(R,"version",_.rE),N(R,"author",_.cy),N(R,"description",_.h_),r(452)})(),n})()));