var vi=Object.create;var zr=Object.defineProperty;var yi=Object.getOwnPropertyDescriptor;var xi=Object.getOwnPropertyNames;var Ai=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty;var bt=(i,h)=>()=>(h||i((h={exports:{}}).exports,h),h.exports);var Oi=(i,h,l,g)=>{if(h&&typeof h=="object"||typeof h=="function")for(let r of xi(h))!Si.call(i,r)&&r!==l&&zr(i,r,{get:()=>h[r],enumerable:!(g=yi(h,r))||g.enumerable});return i};var Ie=(i,h,l)=>(l=i!=null?vi(Ai(i)):{},Oi(h||!i||!i.__esModule?zr(l,"default",{value:i,enumerable:!0}):l,i));var ar=bt((is,Hr)=>{"use strict";Hr.exports=nr;function nr(i){_t.length||(De(),Ur=!0),_t[_t.length]=i}var _t=[],Ur=!1,De,Rt=0,Ti=1024;function Lr(){for(;Rt<_t.length;){var i=Rt;if(Rt=Rt+1,_t[i].call(),Rt>Ti){for(var h=0,l=_t.length-Rt;h<l;h++)_t[h]=_t[h+Rt];_t.length-=Rt,Rt=0}}_t.length=0,Rt=0,Ur=!1}var Gr=typeof global<"u"?global:self,Br=Gr.MutationObserver||Gr.WebKitMutationObserver;typeof Br=="function"?De=wi(Lr):De=$r(Lr);nr.requestFlush=De;function wi(i){var h=1,l=new Br(i),g=document.createTextNode("");return l.observe(g,{characterData:!0}),function(){h=-h,g.data=h}}function $r(i){return function(){var l=setTimeout(r,0),g=setInterval(r,50);function r(){clearTimeout(l),clearInterval(g),i()}}}nr.makeRequestCallFromTimer=$r});var kt=bt((ss,Xr)=>{"use strict";var ji=ar();function Ne(){}var le=null,fe={};function Ei(i){try{return i.then}catch(h){return le=h,fe}}function Ci(i,h){try{return i(h)}catch(l){return le=l,fe}}function Fi(i,h,l){try{i(h,l)}catch(g){return le=g,fe}}Xr.exports=vt;function vt(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof i!="function")throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,i!==Ne&&Wr(i,this)}vt._B=null;vt._C=null;vt._D=Ne;vt.prototype.then=function(i,h){if(this.constructor!==vt)return Ii(this,i,h);var l=new vt(Ne);return Pe(this,new Kr(i,h,l)),l};function Ii(i,h,l){return new i.constructor(function(g,r){var s=new vt(Ne);s.then(g,r),Pe(i,new Kr(h,l,s))})}function Pe(i,h){for(;i._y===3;)i=i._z;if(vt._B&&vt._B(i),i._y===0){if(i._x===0){i._x=1,i._A=h;return}if(i._x===1){i._x=2,i._A=[i._A,h];return}i._A.push(h);return}Di(i,h)}function Di(i,h){ji(function(){var l=i._y===1?h.onFulfilled:h.onRejected;if(l===null){i._y===1?ir(h.promise,i._z):ce(h.promise,i._z);return}var g=Ci(l,i._z);g===fe?ce(h.promise,le):ir(h.promise,g)})}function ir(i,h){if(h===i)return ce(i,new TypeError("A promise cannot be resolved with itself."));if(h&&(typeof h=="object"||typeof h=="function")){var l=Ei(h);if(l===fe)return ce(i,le);if(l===i.then&&h instanceof vt){i._y=3,i._z=h,sr(i);return}else if(typeof l=="function"){Wr(l.bind(h),i);return}}i._y=1,i._z=h,sr(i)}function ce(i,h){i._y=2,i._z=h,vt._C&&vt._C(i,h),sr(i)}function sr(i){if(i._x===1&&(Pe(i,i._A),i._A=null),i._x===2){for(var h=0;h<i._A.length;h++)Pe(i,i._A[h]);i._A=null}}function Kr(i,h,l){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof h=="function"?h:null,this.promise=l}function Wr(i,h){var l=!1,g=Fi(i,function(r){l||(l=!0,ir(h,r))},function(r){l||(l=!0,ce(h,r))});!l&&g===fe&&(l=!0,ce(h,le))}});var Zr=bt((os,Yr)=>{"use strict";var Vr=kt();Yr.exports=Vr;Vr.prototype.done=function(i,h){var l=arguments.length?this.then.apply(this,arguments):this;l.then(null,function(g){setTimeout(function(){throw g},0)})}});var Jr=bt((us,Qr)=>{"use strict";var Re=kt();Qr.exports=Re;Re.prototype.finally=function(i){return this.then(function(h){return Re.resolve(i()).then(function(){return h})},function(h){return Re.resolve(i()).then(function(){throw h})})}});var en=bt((cs,tn)=>{"use strict";var k=kt();tn.exports=k;var Pi=qt(!0),Ni=qt(!1),Ri=qt(null),_i=qt(void 0),Mi=qt(0),zi=qt("");function qt(i){var h=new k(k._D);return h._y=1,h._z=i,h}k.resolve=function(i){if(i instanceof k)return i;if(i===null)return Ri;if(i===void 0)return _i;if(i===!0)return Pi;if(i===!1)return Ni;if(i===0)return Mi;if(i==="")return zi;if(typeof i=="object"||typeof i=="function")try{var h=i.then;if(typeof h=="function")return new k(h.bind(i))}catch(l){return new k(function(g,r){r(l)})}return qt(i)};var pe=function(i){return typeof Array.from=="function"?(pe=Array.from,Array.from(i)):(pe=function(h){return Array.prototype.slice.call(h)},Array.prototype.slice.call(i))};k.all=function(i){var h=pe(i);return new k(function(l,g){if(h.length===0)return l([]);var r=h.length;function s(a,n){if(n&&(typeof n=="object"||typeof n=="function"))if(n instanceof k&&n.then===k.prototype.then){for(;n._y===3;)n=n._z;if(n._y===1)return s(a,n._z);n._y===2&&g(n._z),n.then(function(p){s(a,p)},g);return}else{var o=n.then;if(typeof o=="function"){var u=new k(o.bind(n));u.then(function(p){s(a,p)},g);return}}h[a]=n,--r===0&&l(h)}for(var t=0;t<h.length;t++)s(t,h[t])})};function or(i){return{status:"fulfilled",value:i}}function kr(i){return{status:"rejected",reason:i}}function Li(i){if(i&&(typeof i=="object"||typeof i=="function")){if(i instanceof k&&i.then===k.prototype.then)return i.then(or,kr);var h=i.then;if(typeof h=="function")return new k(h.bind(i)).then(or,kr)}return or(i)}k.allSettled=function(i){return k.all(pe(i).map(Li))};k.reject=function(i){return new k(function(h,l){l(i)})};k.race=function(i){return new k(function(h,l){pe(i).forEach(function(g){k.resolve(g).then(h,l)})})};k.prototype.catch=function(i){return this.then(null,i)};function qr(i){if(typeof AggregateError=="function")return new AggregateError(i,"All promises were rejected");var h=new Error("All promises were rejected");return h.name="AggregateError",h.errors=i,h}k.any=function(h){return new k(function(l,g){var r=pe(h),s=!1,t=[];function a(o){s||(s=!0,l(o))}function n(o){t.push(o),t.length===r.length&&g(qr(t))}r.length===0?g(qr(t)):r.forEach(function(o){k.resolve(o).then(a,n)})})}});var sn=bt((ls,an)=>{"use strict";var rn=ar(),_e=[],ur=[],Gi=rn.makeRequestCallFromTimer(Ui);function Ui(){if(ur.length)throw ur.shift()}an.exports=cr;function cr(i){var h;_e.length?h=_e.pop():h=new nn,h.task=i,rn(h)}function nn(){this.task=null}nn.prototype.call=function(){try{this.task.call()}catch(i){cr.onerror?cr.onerror(i):(ur.push(i),Gi())}finally{this.task=null,_e[_e.length]=this}}});var cn=bt((fs,un)=>{"use strict";var te=kt(),lr=sn();un.exports=te;te.denodeify=function(i,h){return typeof h=="number"&&h!==1/0?Bi(i,h):$i(i)};var on="function (err, res) {if (err) { rj(err); } else { rs(res); }}";function Bi(i,h){for(var l=[],g=0;g<h;g++)l.push("a"+g);var r=["return function ("+l.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(l).concat([on]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],r)(te,i)}function $i(i){for(var h=Math.max(i.length-1,3),l=[],g=0;g<h;g++)l.push("a"+g);var r=["return function ("+l.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+h+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+on+";","var res;","switch (argLength) {",l.concat(["extra"]).map(function(s,t){return"case "+t+":res = fn.call("+["self"].concat(l.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],r)(te,i)}te.nodeify=function(i){return function(){var h=Array.prototype.slice.call(arguments),l=typeof h[h.length-1]=="function"?h.pop():null,g=this;try{return i.apply(this,arguments).nodeify(l,g)}catch(r){if(l===null||typeof l>"u")return new te(function(s,t){t(r)});lr(function(){l.call(g,r)})}}};te.prototype.nodeify=function(i,h){if(typeof i!="function")return this;this.then(function(l){lr(function(){i.call(h,null,l)})},function(l){lr(function(){i.call(h,l)})})}});var fn=bt((ps,ln)=>{"use strict";var pt=kt();ln.exports=pt;pt.enableSynchronous=function(){pt.prototype.isPending=function(){return this.getState()==0},pt.prototype.isFulfilled=function(){return this.getState()==1},pt.prototype.isRejected=function(){return this.getState()==2},pt.prototype.getValue=function(){if(this._y===3)return this._z.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._z},pt.prototype.getReason=function(){if(this._y===3)return this._z.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._z},pt.prototype.getState=function(){return this._y===3?this._z.getState():this._y===-1||this._y===-2?0:this._y}};pt.disableSynchronous=function(){pt.prototype.isPending=void 0,pt.prototype.isFulfilled=void 0,pt.prototype.isRejected=void 0,pt.prototype.getValue=void 0,pt.prototype.getReason=void 0,pt.prototype.getState=void 0}});var hn=bt((hs,pn)=>{"use strict";pn.exports=kt();Zr();Jr();en();cn();fn()});var mn=bt((ds,dn)=>{"use strict";dn.exports=hn()});var jn=bt((ms,wn)=>{var yt=-1,ht=1,it=0;function Ae(i,h,l,g,r){if(i===h)return i?[[it,i]]:[];if(l!=null){var s=Ji(i,h,l);if(s)return s}var t=pr(i,h),a=i.substring(0,t);i=i.substring(t),h=h.substring(t),t=Me(i,h);var n=i.substring(i.length-t);i=i.substring(0,i.length-t),h=h.substring(0,h.length-t);var o=Hi(i,h);return a&&o.unshift([it,a]),n&&o.push([it,n]),hr(o,r),g&&Xi(o),o}function Hi(i,h){var l;if(!i)return[[ht,h]];if(!h)return[[yt,i]];var g=i.length>h.length?i:h,r=i.length>h.length?h:i,s=g.indexOf(r);if(s!==-1)return l=[[ht,g.substring(0,s)],[it,r],[ht,g.substring(s+r.length)]],i.length>h.length&&(l[0][0]=l[2][0]=yt),l;if(r.length===1)return[[yt,i],[ht,h]];var t=Wi(i,h);if(t){var a=t[0],n=t[1],o=t[2],u=t[3],p=t[4],c=Ae(a,o),m=Ae(n,u);return c.concat([[it,p]],m)}return Ki(i,h)}function Ki(i,h){for(var l=i.length,g=h.length,r=Math.ceil((l+g)/2),s=r,t=2*r,a=new Array(t),n=new Array(t),o=0;o<t;o++)a[o]=-1,n[o]=-1;a[s+1]=0,n[s+1]=0;for(var u=l-g,p=u%2!==0,c=0,m=0,b=0,x=0,y=0;y<r;y++){for(var A=-y+c;A<=y-m;A+=2){var S=s+A,j;A===-y||A!==y&&a[S-1]<a[S+1]?j=a[S+1]:j=a[S-1]+1;for(var C=j-A;j<l&&C<g&&i.charAt(j)===h.charAt(C);)j++,C++;if(a[S]=j,j>l)m+=2;else if(C>g)c+=2;else if(p){var _=s+u-A;if(_>=0&&_<t&&n[_]!==-1){var F=l-n[_];if(j>=F)return gn(i,h,j,C)}}}for(var I=-y+b;I<=y-x;I+=2){var _=s+I,F;I===-y||I!==y&&n[_-1]<n[_+1]?F=n[_+1]:F=n[_-1]+1;for(var z=F-I;F<l&&z<g&&i.charAt(l-F-1)===h.charAt(g-z-1);)F++,z++;if(n[_]=F,F>l)x+=2;else if(z>g)b+=2;else if(!p){var S=s+u-I;if(S>=0&&S<t&&a[S]!==-1){var j=a[S],C=s+j-S;if(F=l-F,j>=F)return gn(i,h,j,C)}}}}return[[yt,i],[ht,h]]}function gn(i,h,l,g){var r=i.substring(0,l),s=h.substring(0,g),t=i.substring(l),a=h.substring(g),n=Ae(r,s),o=Ae(t,a);return n.concat(o)}function pr(i,h){if(!i||!h||i.charAt(0)!==h.charAt(0))return 0;for(var l=0,g=Math.min(i.length,h.length),r=g,s=0;l<r;)i.substring(s,r)==h.substring(s,r)?(l=r,s=l):g=r,r=Math.floor((g-l)/2+l);return An(i.charCodeAt(r-1))&&r--,r}function bn(i,h){var l=i.length,g=h.length;if(l==0||g==0)return 0;l>g?i=i.substring(l-g):l<g&&(h=h.substring(0,l));var r=Math.min(l,g);if(i==h)return r;for(var s=0,t=1;;){var a=i.substring(r-t),n=h.indexOf(a);if(n==-1)return s;t+=n,(n==0||i.substring(r-t)==h.substring(0,t))&&(s=t,t++)}}function Me(i,h){if(!i||!h||i.slice(-1)!==h.slice(-1))return 0;for(var l=0,g=Math.min(i.length,h.length),r=g,s=0;l<r;)i.substring(i.length-r,i.length-s)==h.substring(h.length-r,h.length-s)?(l=r,s=l):g=r,r=Math.floor((g-l)/2+l);return Sn(i.charCodeAt(i.length-r))&&r--,r}function Wi(i,h){var l=i.length>h.length?i:h,g=i.length>h.length?h:i;if(l.length<4||g.length*2<l.length)return null;function r(m,b,x){for(var y=m.substring(x,x+Math.floor(m.length/4)),A=-1,S="",j,C,_,F;(A=b.indexOf(y,A+1))!==-1;){var I=pr(m.substring(x),b.substring(A)),z=Me(m.substring(0,x),b.substring(0,A));S.length<z+I&&(S=b.substring(A-z,A)+b.substring(A,A+I),j=m.substring(0,x-z),C=m.substring(x+I),_=b.substring(0,A-z),F=b.substring(A+I))}return S.length*2>=m.length?[j,C,_,F,S]:null}var s=r(l,g,Math.ceil(l.length/4)),t=r(l,g,Math.ceil(l.length/2)),a;if(!s&&!t)return null;t?s?a=s[4].length>t[4].length?s:t:a=t:a=s;var n,o,u,p;i.length>h.length?(n=a[0],o=a[1],u=a[2],p=a[3]):(u=a[0],p=a[1],n=a[2],o=a[3]);var c=a[4];return[n,o,u,p,c]}function Xi(i){for(var h=!1,l=[],g=0,r=null,s=0,t=0,a=0,n=0,o=0;s<i.length;)i[s][0]==it?(l[g++]=s,t=n,a=o,n=0,o=0,r=i[s][1]):(i[s][0]==ht?n+=i[s][1].length:o+=i[s][1].length,r&&r.length<=Math.max(t,a)&&r.length<=Math.max(n,o)&&(i.splice(l[g-1],0,[yt,r]),i[l[g-1]+1][0]=ht,g--,g--,s=g>0?l[g-1]:-1,t=0,a=0,n=0,o=0,r=null,h=!0)),s++;for(h&&hr(i),Zi(i),s=1;s<i.length;){if(i[s-1][0]==yt&&i[s][0]==ht){var u=i[s-1][1],p=i[s][1],c=bn(u,p),m=bn(p,u);c>=m?(c>=u.length/2||c>=p.length/2)&&(i.splice(s,0,[it,p.substring(0,c)]),i[s-1][1]=u.substring(0,u.length-c),i[s+1][1]=p.substring(c),s++):(m>=u.length/2||m>=p.length/2)&&(i.splice(s,0,[it,u.substring(0,m)]),i[s-1][0]=ht,i[s-1][1]=p.substring(0,p.length-m),i[s+1][0]=yt,i[s+1][1]=u.substring(m),s++),s++}s++}}var vn=/[^a-zA-Z0-9]/,yn=/\s/,xn=/[\r\n]/,Vi=/\n\r?\n$/,Yi=/^\r?\n\r?\n/;function Zi(i){function h(m,b){if(!m||!b)return 6;var x=m.charAt(m.length-1),y=b.charAt(0),A=x.match(vn),S=y.match(vn),j=A&&x.match(yn),C=S&&y.match(yn),_=j&&x.match(xn),F=C&&y.match(xn),I=_&&m.match(Vi),z=F&&b.match(Yi);return I||z?5:_||F?4:A&&!j&&C?3:j||C?2:A||S?1:0}for(var l=1;l<i.length-1;){if(i[l-1][0]==it&&i[l+1][0]==it){var g=i[l-1][1],r=i[l][1],s=i[l+1][1],t=Me(g,r);if(t){var a=r.substring(r.length-t);g=g.substring(0,g.length-t),r=a+r.substring(0,r.length-t),s=a+s}for(var n=g,o=r,u=s,p=h(g,r)+h(r,s);r.charAt(0)===s.charAt(0);){g+=r.charAt(0),r=r.substring(1)+s.charAt(0),s=s.substring(1);var c=h(g,r)+h(r,s);c>=p&&(p=c,n=g,o=r,u=s)}i[l-1][1]!=n&&(n?i[l-1][1]=n:(i.splice(l-1,1),l--),i[l][1]=o,u?i[l+1][1]=u:(i.splice(l+1,1),l--))}l++}}function hr(i,h){i.push([it,""]);for(var l=0,g=0,r=0,s="",t="",a;l<i.length;){if(l<i.length-1&&!i[l][1]){i.splice(l,1);continue}switch(i[l][0]){case ht:r++,t+=i[l][1],l++;break;case yt:g++,s+=i[l][1],l++;break;case it:var n=l-r-g-1;if(h){if(n>=0&&Tn(i[n][1])){var o=i[n][1].slice(-1);if(i[n][1]=i[n][1].slice(0,-1),s=o+s,t=o+t,!i[n][1]){i.splice(n,1),l--;var u=n-1;i[u]&&i[u][0]===ht&&(r++,t=i[u][1]+t,u--),i[u]&&i[u][0]===yt&&(g++,s=i[u][1]+s,u--),n=u}}if(On(i[l][1])){var o=i[l][1].charAt(0);i[l][1]=i[l][1].slice(1),s+=o,t+=o}}if(l<i.length-1&&!i[l][1]){i.splice(l,1);break}if(s.length>0||t.length>0){s.length>0&&t.length>0&&(a=pr(t,s),a!==0&&(n>=0?i[n][1]+=t.substring(0,a):(i.splice(0,0,[it,t.substring(0,a)]),l++),t=t.substring(a),s=s.substring(a)),a=Me(t,s),a!==0&&(i[l][1]=t.substring(t.length-a)+i[l][1],t=t.substring(0,t.length-a),s=s.substring(0,s.length-a)));var p=r+g;s.length===0&&t.length===0?(i.splice(l-p,p),l=l-p):s.length===0?(i.splice(l-p,p,[ht,t]),l=l-p+1):t.length===0?(i.splice(l-p,p,[yt,s]),l=l-p+1):(i.splice(l-p,p,[yt,s],[ht,t]),l=l-p+2)}l!==0&&i[l-1][0]===it?(i[l-1][1]+=i[l][1],i.splice(l,1)):l++,r=0,g=0,s="",t="";break}}i[i.length-1][1]===""&&i.pop();var c=!1;for(l=1;l<i.length-1;)i[l-1][0]===it&&i[l+1][0]===it&&(i[l][1].substring(i[l][1].length-i[l-1][1].length)===i[l-1][1]?(i[l][1]=i[l-1][1]+i[l][1].substring(0,i[l][1].length-i[l-1][1].length),i[l+1][1]=i[l-1][1]+i[l+1][1],i.splice(l-1,1),c=!0):i[l][1].substring(0,i[l+1][1].length)==i[l+1][1]&&(i[l-1][1]+=i[l+1][1],i[l][1]=i[l][1].substring(i[l+1][1].length)+i[l+1][1],i.splice(l+1,1),c=!0)),l++;c&&hr(i,h)}function An(i){return i>=55296&&i<=56319}function Sn(i){return i>=56320&&i<=57343}function On(i){return Sn(i.charCodeAt(0))}function Tn(i){return An(i.charCodeAt(i.length-1))}function Qi(i){for(var h=[],l=0;l<i.length;l++)i[l][1].length>0&&h.push(i[l]);return h}function fr(i,h,l,g){return Tn(i)||On(g)?null:Qi([[it,i],[yt,h],[ht,l],[it,g]])}function Ji(i,h,l){var g=typeof l=="number"?{index:l,length:0}:l.oldRange,r=typeof l=="number"?null:l.newRange,s=i.length,t=h.length;if(g.length===0&&(r===null||r.length===0)){var a=g.index,n=i.slice(0,a),o=i.slice(a),u=r?r.index:null;t:{var p=a+t-s;if(u!==null&&u!==p||p<0||p>t)break t;var c=h.slice(0,p),m=h.slice(p);if(m!==o)break t;var b=Math.min(a,p),x=n.slice(0,b),y=c.slice(0,b);if(x!==y)break t;var A=n.slice(b),S=c.slice(b);return fr(x,A,S,o)}t:{if(u!==null&&u!==a)break t;var j=a,c=h.slice(0,j),m=h.slice(j);if(c!==n)break t;var C=Math.min(s-j,t-j),_=o.slice(o.length-C),F=m.slice(m.length-C);if(_!==F)break t;var A=o.slice(0,o.length-C),S=m.slice(0,m.length-C);return fr(n,A,S,_)}}if(g.length>0&&r&&r.length===0)t:{var x=i.slice(0,g.index),_=i.slice(g.index+g.length),b=x.length,C=_.length;if(t<b+C)break t;var y=h.slice(0,b),F=h.slice(t-C);if(x!==y||_!==F)break t;var A=i.slice(b,s-C),S=h.slice(b,t-C);return fr(x,A,S,_)}return null}function ze(i,h,l,g){return Ae(i,h,l,g,!0)}ze.INSERT=ht;ze.DELETE=yt;ze.EQUAL=it;wn.exports=ze});var Cn=bt(Ue=>{(function(i,h){if(typeof define=="function"&&define.amd)define(["exports"],h);else if(typeof Ue<"u")h(Ue);else{var l={exports:{}};h(l.exports),i.jstoxml=l.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ue,function(i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.toXML=i.default=void 0;function h(P){return s(P)||r(P)||g(P)||l()}function l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(P,O){if(P){if(typeof P=="string")return t(P,O);var D=Object.prototype.toString.call(P).slice(8,-1);if(D==="Object"&&P.constructor&&(D=P.constructor.name),D==="Map"||D==="Set")return Array.from(P);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return t(P,O)}}function r(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function s(P){if(Array.isArray(P))return t(P)}function t(P,O){(O==null||O>P.length)&&(O=P.length);for(var D=0,Y=new Array(O);D<O;D++)Y[D]=P[D];return Y}function a(P,O){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(P);O&&(Y=Y.filter(function(at){return Object.getOwnPropertyDescriptor(P,at).enumerable})),D.push.apply(D,Y)}return D}function n(P){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?a(Object(D),!0).forEach(function(Y){o(P,Y,D[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(D)):a(Object(D)).forEach(function(Y){Object.defineProperty(P,Y,Object.getOwnPropertyDescriptor(D,Y))})}return P}function o(P,O,D){return O in P?Object.defineProperty(P,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[O]=D,P}function u(P){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(P)}var p="array",c="boolean",m="date",b="null",x="number",y="object",A="special-object",S="string",j=["_selfCloseTag","_attrs"],C=new RegExp(j.join("|"),"g"),_=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return O.repeat(D)},F=function(O){return Array.isArray(O)&&p||u(O)===y&&O!==null&&O._name&&A||O instanceof Date&&m||O===null&&b||u(O)},I=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof O!="string")return O;var Y=new RegExp("(".concat(Object.keys(D).join("|"),")(?!(\\w|#)*;)"),"g");return String(O).replace(Y,function(at,et){return D[et]||""})},z=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1?arguments[1]:void 0,Y=[];if(Array.isArray(O))Y=O.map(function(et){var mt=Object.keys(et)[0],Tt=et[mt],Mt=D?I(Tt,D):Tt,$t=Mt===!0?"":'="'.concat(Mt,'"');return"".concat(mt).concat($t)});else{var at=Object.keys(O);Y=at.map(function(et){var mt=D?I(O[et],D):O[et],Tt=O[et]===!0?"":'="'.concat(mt,'"');return"".concat(et).concat(Tt)})}return Y},M=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1?arguments[1]:void 0,Y=z(O,D);if(Y.length===0)return"";var at=Y.join(" ");return" ".concat(at)},H=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(O).map(function(D){return{_name:D,_content:O[D]}})},L=[S,x,c],X=function(O){return L.includes(F(O))},B=[].concat(L,[m,A]),$=function(O){return B.includes(F(O))},Q=function(O){return!O.match("<")},V='<?xml version="1.0" encoding="UTF-8"?>',st=function(O){var D=O.header,Y=O.indent,at=O.isOutputStart,et=D&&at;if(!et)return"";var mt=u(D)===c;return mt?V:D},G={"<":"&lt;",">":"&gt;","&":"&amp;"},q=function P(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=D.depth,at=Y===void 0?0:Y,et=D.indent,mt=D._isFirstItem,Tt=D._isOutputStart,Mt=Tt===void 0?!0:Tt,$t=D.header,Ht=D.attributesFilter,Kt=Ht===void 0?{}:Ht,re=D.filter,wt=re===void 0?{}:re,W=typeof Kt=="boolean"&&!Kt,Wt=W?{}:n(n(n({},G),{'"':"&quot;"}),Kt),xt=typeof wt=="boolean"&&!wt,Xt=xt?{}:n(n({},G),wt),ne=_(et,at),he=F(O),Vt=st({header:$t,indent:et,depth:at,isOutputStart:Mt}),T=Mt&&!Vt&&mt&&at===0,ft="";switch(he){case"special-object":{var K=O._name,Z=O._content;if(Z===null){ft=K;break}var At=Array.isArray(Z)&&Z.every(X);if(At){var de=Z.map(function(lt){return P({_name:K,_content:lt},n(n({},D),{},{depth:at,_isOutputStart:!1}))});return de.join("")}if(K.match(C))break;var jt=P(Z,n(n({},D),{},{depth:at+1,_isOutputStart:T})),St=F(jt),ut=Q(jt),It=et&&!T?`
`:"",rt="".concat(It).concat(ne);if(K==="_comment"){ft+="".concat(rt,"<!-- ").concat(Z," -->");break}var ae=St==="undefined"||jt==="",Dt=u(O._selfCloseTag)===c?ae&&O._selfCloseTag:ae,Et=Dt?"/":"",ie=M(O._attrs,Wt),zt="<".concat(K).concat(ie).concat(Et,">"),me=et&&!ut?`
`.concat(ne):"",se=Dt?"":"".concat(jt).concat(me,"</").concat(K,">");ft+="".concat(rt).concat(zt).concat(se);break}case"object":{var gt=Object.keys(O),Ct=gt.map(function(lt,Yt){var ge=n(n({},D),{},{_isFirstItem:Yt===0,_isLastItem:Yt+1===gt.length,_isOutputStart:T}),Zt={_name:lt};if(F(O[lt])==="object"){j.forEach(function(be){var je=O[lt][be];typeof je<"u"&&(Zt[be]=je,delete O[lt][be])});var nt=typeof O[lt]._content<"u";if(nt&&Object.keys(O[lt]).length>1){var Qt=Object.assign({},O[lt]);delete Qt._content,Zt._content=[].concat(h(H(Qt)),[O[lt]._content])}}typeof Zt._content>"u"&&(Zt._content=O[lt]);var Ke=P(Zt,ge,lt);return Ke},D);ft=Ct.join("");break}case"function":{var $e=O(D);ft=P($e,D);break}case"array":{var He=O.map(function(lt,Yt){var ge=n(n({},D),{},{_isFirstItem:Yt===0,_isLastItem:Yt+1===O.length,_isOutputStart:T});return P(lt,ge)});ft=He.join("");break}default:{ft=I(O,Xt);break}}return"".concat(Vt).concat(ft)};i.toXML=q;var ot={toXML:q};i.default=ot})});var Fn=bt((Oe,dr)=>{(function(h,l){typeof Oe=="object"&&typeof dr=="object"?dr.exports=l():typeof define=="function"&&define.amd?define([],l):typeof Oe=="object"?Oe["chord-symbol"]=l():h["chord-symbol"]=l()})(typeof self<"u"?self:Oe,function(){return(()=>{var i={8552:(r,s,t)=>{var a=t(852),n=t(5639),o=a(n,"DataView");r.exports=o},1989:(r,s,t)=>{var a=t(1789),n=t(401),o=t(7667),u=t(1327),p=t(1866);function c(m){var b=-1,x=m==null?0:m.length;for(this.clear();++b<x;){var y=m[b];this.set(y[0],y[1])}}c.prototype.clear=a,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=u,c.prototype.set=p,r.exports=c},8407:(r,s,t)=>{var a=t(7040),n=t(4125),o=t(2117),u=t(7518),p=t(4705);function c(m){var b=-1,x=m==null?0:m.length;for(this.clear();++b<x;){var y=m[b];this.set(y[0],y[1])}}c.prototype.clear=a,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=u,c.prototype.set=p,r.exports=c},7071:(r,s,t)=>{var a=t(852),n=t(5639),o=a(n,"Map");r.exports=o},3369:(r,s,t)=>{var a=t(4785),n=t(1285),o=t(6e3),u=t(9916),p=t(5265);function c(m){var b=-1,x=m==null?0:m.length;for(this.clear();++b<x;){var y=m[b];this.set(y[0],y[1])}}c.prototype.clear=a,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=u,c.prototype.set=p,r.exports=c},3818:(r,s,t)=>{var a=t(852),n=t(5639),o=a(n,"Promise");r.exports=o},8525:(r,s,t)=>{var a=t(852),n=t(5639),o=a(n,"Set");r.exports=o},8668:(r,s,t)=>{var a=t(3369),n=t(619),o=t(2385);function u(p){var c=-1,m=p==null?0:p.length;for(this.__data__=new a;++c<m;)this.add(p[c])}u.prototype.add=u.prototype.push=n,u.prototype.has=o,r.exports=u},6384:(r,s,t)=>{var a=t(8407),n=t(7465),o=t(3779),u=t(7599),p=t(4758),c=t(4309);function m(b){var x=this.__data__=new a(b);this.size=x.size}m.prototype.clear=n,m.prototype.delete=o,m.prototype.get=u,m.prototype.has=p,m.prototype.set=c,r.exports=m},2705:(r,s,t)=>{var a=t(5639),n=a.Symbol;r.exports=n},1149:(r,s,t)=>{var a=t(5639),n=a.Uint8Array;r.exports=n},577:(r,s,t)=>{var a=t(852),n=t(5639),o=a(n,"WeakMap");r.exports=o},6874:r=>{function s(t,a,n){switch(n.length){case 0:return t.call(a);case 1:return t.call(a,n[0]);case 2:return t.call(a,n[0],n[1]);case 3:return t.call(a,n[0],n[1],n[2])}return t.apply(a,n)}r.exports=s},7412:r=>{function s(t,a){for(var n=-1,o=t==null?0:t.length;++n<o&&a(t[n],n,t)!==!1;);return t}r.exports=s},4963:r=>{function s(t,a){for(var n=-1,o=t==null?0:t.length,u=0,p=[];++n<o;){var c=t[n];a(c,n,t)&&(p[u++]=c)}return p}r.exports=s},7443:(r,s,t)=>{var a=t(2118);function n(o,u){var p=o==null?0:o.length;return!!p&&a(o,u,0)>-1}r.exports=n},1196:r=>{function s(t,a,n){for(var o=-1,u=t==null?0:t.length;++o<u;)if(n(a,t[o]))return!0;return!1}r.exports=s},4636:(r,s,t)=>{var a=t(2545),n=t(5694),o=t(1469),u=t(4144),p=t(5776),c=t(6719),m=Object.prototype,b=m.hasOwnProperty;function x(y,A){var S=o(y),j=!S&&n(y),C=!S&&!j&&u(y),_=!S&&!j&&!C&&c(y),F=S||j||C||_,I=F?a(y.length,String):[],z=I.length;for(var M in y)(A||b.call(y,M))&&!(F&&(M=="length"||C&&(M=="offset"||M=="parent")||_&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||p(M,z)))&&I.push(M);return I}r.exports=x},9932:r=>{function s(t,a){for(var n=-1,o=t==null?0:t.length,u=Array(o);++n<o;)u[n]=a(t[n],n,t);return u}r.exports=s},2488:r=>{function s(t,a){for(var n=-1,o=a.length,u=t.length;++n<o;)t[u+n]=a[n];return t}r.exports=s},2908:r=>{function s(t,a){for(var n=-1,o=t==null?0:t.length;++n<o;)if(a(t[n],n,t))return!0;return!1}r.exports=s},4865:(r,s,t)=>{var a=t(9465),n=t(7813),o=Object.prototype,u=o.hasOwnProperty;function p(c,m,b){var x=c[m];(!(u.call(c,m)&&n(x,b))||b===void 0&&!(m in c))&&a(c,m,b)}r.exports=p},8470:(r,s,t)=>{var a=t(7813);function n(o,u){for(var p=o.length;p--;)if(a(o[p][0],u))return p;return-1}r.exports=n},4037:(r,s,t)=>{var a=t(8363),n=t(3674);function o(u,p){return u&&a(p,n(p),u)}r.exports=o},3886:(r,s,t)=>{var a=t(8363),n=t(1704);function o(u,p){return u&&a(p,n(p),u)}r.exports=o},9465:(r,s,t)=>{var a=t(8777);function n(o,u,p){u=="__proto__"&&a?a(o,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[u]=p}r.exports=n},5990:(r,s,t)=>{var a=t(6384),n=t(7412),o=t(4865),u=t(4037),p=t(3886),c=t(4626),m=t(278),b=t(8805),x=t(1911),y=t(8234),A=t(6904),S=t(4160),j=t(3824),C=t(9148),_=t(8517),F=t(1469),I=t(4144),z=t(6688),M=t(3218),H=t(2928),L=t(3674),X=t(1704),B=1,$=2,Q=4,V="[object Arguments]",st="[object Array]",G="[object Boolean]",q="[object Date]",ot="[object Error]",P="[object Function]",O="[object GeneratorFunction]",D="[object Map]",Y="[object Number]",at="[object Object]",et="[object RegExp]",mt="[object Set]",Tt="[object String]",Mt="[object Symbol]",$t="[object WeakMap]",Ht="[object ArrayBuffer]",Kt="[object DataView]",re="[object Float32Array]",wt="[object Float64Array]",W="[object Int8Array]",Wt="[object Int16Array]",xt="[object Int32Array]",Xt="[object Uint8Array]",ne="[object Uint8ClampedArray]",he="[object Uint16Array]",Vt="[object Uint32Array]",T={};T[V]=T[st]=T[Ht]=T[Kt]=T[G]=T[q]=T[re]=T[wt]=T[W]=T[Wt]=T[xt]=T[D]=T[Y]=T[at]=T[et]=T[mt]=T[Tt]=T[Mt]=T[Xt]=T[ne]=T[he]=T[Vt]=!0,T[ot]=T[P]=T[$t]=!1;function ft(K,Z,At,de,jt,St){var ut,It=Z&B,rt=Z&$,ae=Z&Q;if(At&&(ut=jt?At(K,de,jt,St):At(K)),ut!==void 0)return ut;if(!M(K))return K;var Dt=F(K);if(Dt){if(ut=j(K),!It)return m(K,ut)}else{var Et=S(K),ie=Et==P||Et==O;if(I(K))return c(K,It);if(Et==at||Et==V||ie&&!jt){if(ut=rt||ie?{}:_(K),!It)return rt?x(K,p(ut,K)):b(K,u(ut,K))}else{if(!T[Et])return jt?K:{};ut=C(K,Et,It)}}St||(St=new a);var zt=St.get(K);if(zt)return zt;St.set(K,ut),H(K)?K.forEach(function(gt){ut.add(ft(gt,Z,At,gt,K,St))}):z(K)&&K.forEach(function(gt,Ct){ut.set(Ct,ft(gt,Z,At,Ct,K,St))});var me=ae?rt?A:y:rt?X:L,se=Dt?void 0:me(K);return n(se||K,function(gt,Ct){se&&(Ct=gt,gt=K[Ct]),o(ut,Ct,ft(gt,Z,At,Ct,K,St))}),ut}r.exports=ft},3118:(r,s,t)=>{var a=t(3218),n=Object.create,o=function(){function u(){}return function(p){if(!a(p))return{};if(n)return n(p);u.prototype=p;var c=new u;return u.prototype=void 0,c}}();r.exports=o},731:(r,s,t)=>{var a=t(8668),n=t(7443),o=t(1196),u=t(9932),p=t(1717),c=t(4757),m=200;function b(x,y,A,S){var j=-1,C=n,_=!0,F=x.length,I=[],z=y.length;if(!F)return I;A&&(y=u(y,p(A))),S?(C=o,_=!1):y.length>=m&&(C=c,_=!1,y=new a(y));t:for(;++j<F;){var M=x[j],H=A==null?M:A(M);if(M=S||M!==0?M:0,_&&H===H){for(var L=z;L--;)if(y[L]===H)continue t;I.push(M)}else C(y,H,S)||I.push(M)}return I}r.exports=b},1848:r=>{function s(t,a,n,o){for(var u=t.length,p=n+(o?1:-1);o?p--:++p<u;)if(a(t[p],p,t))return p;return-1}r.exports=s},1078:(r,s,t)=>{var a=t(2488),n=t(7285);function o(u,p,c,m,b){var x=-1,y=u.length;for(c||(c=n),b||(b=[]);++x<y;){var A=u[x];p>0&&c(A)?p>1?o(A,p-1,c,m,b):a(b,A):m||(b[b.length]=A)}return b}r.exports=o},8483:(r,s,t)=>{var a=t(5063),n=a();r.exports=n},7816:(r,s,t)=>{var a=t(8483),n=t(3674);function o(u,p){return u&&a(u,p,n)}r.exports=o},7786:(r,s,t)=>{var a=t(1811),n=t(327);function o(u,p){p=a(p,u);for(var c=0,m=p.length;u!=null&&c<m;)u=u[n(p[c++])];return c&&c==m?u:void 0}r.exports=o},8866:(r,s,t)=>{var a=t(2488),n=t(1469);function o(u,p,c){var m=p(u);return n(u)?m:a(m,c(u))}r.exports=o},4239:(r,s,t)=>{var a=t(2705),n=t(9607),o=t(2333),u="[object Null]",p="[object Undefined]",c=a?a.toStringTag:void 0;function m(b){return b==null?b===void 0?p:u:c&&c in Object(b)?n(b):o(b)}r.exports=m},13:r=>{function s(t,a){return t!=null&&a in Object(t)}r.exports=s},2118:(r,s,t)=>{var a=t(1848),n=t(2722),o=t(2351);function u(p,c,m){return c===c?o(p,c,m):a(p,n,m)}r.exports=u},8975:(r,s,t)=>{var a=t(7816);function n(o,u,p,c){return a(o,function(m,b,x){u(c,p(m),b,x)}),c}r.exports=n},9454:(r,s,t)=>{var a=t(4239),n=t(7005),o="[object Arguments]";function u(p){return n(p)&&a(p)==o}r.exports=u},939:(r,s,t)=>{var a=t(2492),n=t(7005);function o(u,p,c,m,b){return u===p?!0:u==null||p==null||!n(u)&&!n(p)?u!==u&&p!==p:a(u,p,c,m,o,b)}r.exports=o},2492:(r,s,t)=>{var a=t(6384),n=t(7114),o=t(8351),u=t(6096),p=t(4160),c=t(1469),m=t(4144),b=t(6719),x=1,y="[object Arguments]",A="[object Array]",S="[object Object]",j=Object.prototype,C=j.hasOwnProperty;function _(F,I,z,M,H,L){var X=c(F),B=c(I),$=X?A:p(F),Q=B?A:p(I);$=$==y?S:$,Q=Q==y?S:Q;var V=$==S,st=Q==S,G=$==Q;if(G&&m(F)){if(!m(I))return!1;X=!0,V=!1}if(G&&!V)return L||(L=new a),X||b(F)?n(F,I,z,M,H,L):o(F,I,$,z,M,H,L);if(!(z&x)){var q=V&&C.call(F,"__wrapped__"),ot=st&&C.call(I,"__wrapped__");if(q||ot){var P=q?F.value():F,O=ot?I.value():I;return L||(L=new a),H(P,O,z,M,L)}}return G?(L||(L=new a),u(F,I,z,M,H,L)):!1}r.exports=_},5588:(r,s,t)=>{var a=t(4160),n=t(7005),o="[object Map]";function u(p){return n(p)&&a(p)==o}r.exports=u},2958:(r,s,t)=>{var a=t(6384),n=t(939),o=1,u=2;function p(c,m,b,x){var y=b.length,A=y,S=!x;if(c==null)return!A;for(c=Object(c);y--;){var j=b[y];if(S&&j[2]?j[1]!==c[j[0]]:!(j[0]in c))return!1}for(;++y<A;){j=b[y];var C=j[0],_=c[C],F=j[1];if(S&&j[2]){if(_===void 0&&!(C in c))return!1}else{var I=new a;if(x)var z=x(_,F,C,c,m,I);if(!(z===void 0?n(F,_,o|u,x,I):z))return!1}}return!0}r.exports=p},2722:r=>{function s(t){return t!==t}r.exports=s},8458:(r,s,t)=>{var a=t(3560),n=t(5346),o=t(3218),u=t(346),p=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,m=Function.prototype,b=Object.prototype,x=m.toString,y=b.hasOwnProperty,A=RegExp("^"+x.call(y).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S(j){if(!o(j)||n(j))return!1;var C=a(j)?A:c;return C.test(u(j))}r.exports=S},9221:(r,s,t)=>{var a=t(4160),n=t(7005),o="[object Set]";function u(p){return n(p)&&a(p)==o}r.exports=u},8749:(r,s,t)=>{var a=t(4239),n=t(1780),o=t(7005),u="[object Arguments]",p="[object Array]",c="[object Boolean]",m="[object Date]",b="[object Error]",x="[object Function]",y="[object Map]",A="[object Number]",S="[object Object]",j="[object RegExp]",C="[object Set]",_="[object String]",F="[object WeakMap]",I="[object ArrayBuffer]",z="[object DataView]",M="[object Float32Array]",H="[object Float64Array]",L="[object Int8Array]",X="[object Int16Array]",B="[object Int32Array]",$="[object Uint8Array]",Q="[object Uint8ClampedArray]",V="[object Uint16Array]",st="[object Uint32Array]",G={};G[M]=G[H]=G[L]=G[X]=G[B]=G[$]=G[Q]=G[V]=G[st]=!0,G[u]=G[p]=G[I]=G[c]=G[z]=G[m]=G[b]=G[x]=G[y]=G[A]=G[S]=G[j]=G[C]=G[_]=G[F]=!1;function q(ot){return o(ot)&&n(ot.length)&&!!G[a(ot)]}r.exports=q},7206:(r,s,t)=>{var a=t(1573),n=t(6432),o=t(6557),u=t(1469),p=t(9601);function c(m){return typeof m=="function"?m:m==null?o:typeof m=="object"?u(m)?n(m[0],m[1]):a(m):p(m)}r.exports=c},280:(r,s,t)=>{var a=t(5726),n=t(6916),o=Object.prototype,u=o.hasOwnProperty;function p(c){if(!a(c))return n(c);var m=[];for(var b in Object(c))u.call(c,b)&&b!="constructor"&&m.push(b);return m}r.exports=p},313:(r,s,t)=>{var a=t(3218),n=t(5726),o=t(3498),u=Object.prototype,p=u.hasOwnProperty;function c(m){if(!a(m))return o(m);var b=n(m),x=[];for(var y in m)y=="constructor"&&(b||!p.call(m,y))||x.push(y);return x}r.exports=c},1573:(r,s,t)=>{var a=t(2958),n=t(1499),o=t(2634);function u(p){var c=n(p);return c.length==1&&c[0][2]?o(c[0][0],c[0][1]):function(m){return m===p||a(m,p,c)}}r.exports=u},6432:(r,s,t)=>{var a=t(939),n=t(7361),o=t(9095),u=t(5403),p=t(9162),c=t(2634),m=t(327),b=1,x=2;function y(A,S){return u(A)&&p(S)?c(m(A),S):function(j){var C=n(j,A);return C===void 0&&C===S?o(j,A):a(S,C,b|x)}}r.exports=y},371:r=>{function s(t){return function(a){return a?.[t]}}r.exports=s},9152:(r,s,t)=>{var a=t(7786);function n(o){return function(u){return a(u,o)}}r.exports=n},5976:(r,s,t)=>{var a=t(6557),n=t(5357),o=t(61);function u(p,c){return o(n(p,c,a),p+"")}r.exports=u},6560:(r,s,t)=>{var a=t(5703),n=t(8777),o=t(6557),u=n?function(p,c){return n(p,"toString",{configurable:!0,enumerable:!1,value:a(c),writable:!0})}:o;r.exports=u},2545:r=>{function s(t,a){for(var n=-1,o=Array(t);++n<t;)o[n]=a(n);return o}r.exports=s},531:(r,s,t)=>{var a=t(2705),n=t(9932),o=t(1469),u=t(3448),p=1/0,c=a?a.prototype:void 0,m=c?c.toString:void 0;function b(x){if(typeof x=="string")return x;if(o(x))return n(x,b)+"";if(u(x))return m?m.call(x):"";var y=x+"";return y=="0"&&1/x==-p?"-0":y}r.exports=b},7561:(r,s,t)=>{var a=t(7990),n=/^\s+/;function o(u){return u&&u.slice(0,a(u)+1).replace(n,"")}r.exports=o},1717:r=>{function s(t){return function(a){return t(a)}}r.exports=s},5652:(r,s,t)=>{var a=t(8668),n=t(7443),o=t(1196),u=t(4757),p=t(3593),c=t(1814),m=200;function b(x,y,A){var S=-1,j=n,C=x.length,_=!0,F=[],I=F;if(A)_=!1,j=o;else if(C>=m){var z=y?null:p(x);if(z)return c(z);_=!1,j=u,I=new a}else I=y?[]:F;t:for(;++S<C;){var M=x[S],H=y?y(M):M;if(M=A||M!==0?M:0,_&&H===H){for(var L=I.length;L--;)if(I[L]===H)continue t;y&&I.push(H),F.push(M)}else j(I,H,A)||(I!==F&&I.push(H),F.push(M))}return F}r.exports=b},4757:r=>{function s(t,a){return t.has(a)}r.exports=s},1811:(r,s,t)=>{var a=t(1469),n=t(5403),o=t(5514),u=t(9833);function p(c,m){return a(c)?c:n(c,m)?[c]:o(u(c))}r.exports=p},4318:(r,s,t)=>{var a=t(1149);function n(o){var u=new o.constructor(o.byteLength);return new a(u).set(new a(o)),u}r.exports=n},4626:(r,s,t)=>{r=t.nmd(r);var a=t(5639),n=s&&!s.nodeType&&s,o=n&&!0&&r&&!r.nodeType&&r,u=o&&o.exports===n,p=u?a.Buffer:void 0,c=p?p.allocUnsafe:void 0;function m(b,x){if(x)return b.slice();var y=b.length,A=c?c(y):new b.constructor(y);return b.copy(A),A}r.exports=m},7157:(r,s,t)=>{var a=t(4318);function n(o,u){var p=u?a(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}r.exports=n},3147:r=>{var s=/\w*$/;function t(a){var n=new a.constructor(a.source,s.exec(a));return n.lastIndex=a.lastIndex,n}r.exports=t},419:(r,s,t)=>{var a=t(2705),n=a?a.prototype:void 0,o=n?n.valueOf:void 0;function u(p){return o?Object(o.call(p)):{}}r.exports=u},7133:(r,s,t)=>{var a=t(4318);function n(o,u){var p=u?a(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}r.exports=n},278:r=>{function s(t,a){var n=-1,o=t.length;for(a||(a=Array(o));++n<o;)a[n]=t[n];return a}r.exports=s},8363:(r,s,t)=>{var a=t(4865),n=t(9465);function o(u,p,c,m){var b=!c;c||(c={});for(var x=-1,y=p.length;++x<y;){var A=p[x],S=m?m(c[A],u[A],A,c,u):void 0;S===void 0&&(S=u[A]),b?n(c,A,S):a(c,A,S)}return c}r.exports=o},8805:(r,s,t)=>{var a=t(8363),n=t(9551);function o(u,p){return a(u,n(u),p)}r.exports=o},1911:(r,s,t)=>{var a=t(8363),n=t(1442);function o(u,p){return a(u,n(u),p)}r.exports=o},4429:(r,s,t)=>{var a=t(5639),n=a["__core-js_shared__"];r.exports=n},5063:r=>{function s(t){return function(a,n,o){for(var u=-1,p=Object(a),c=o(a),m=c.length;m--;){var b=c[t?m:++u];if(n(p[b],b,p)===!1)break}return a}}r.exports=s},7740:(r,s,t)=>{var a=t(7206),n=t(8612),o=t(3674);function u(p){return function(c,m,b){var x=Object(c);if(!n(c)){var y=a(m,3);c=o(c),m=function(S){return y(x[S],S,x)}}var A=p(c,m,b);return A>-1?x[y?c[A]:A]:void 0}}r.exports=u},7779:(r,s,t)=>{var a=t(8975);function n(o,u){return function(p,c){return a(p,o,u(c),{})}}r.exports=n},3593:(r,s,t)=>{var a=t(8525),n=t(308),o=t(1814),u=1/0,p=a&&1/o(new a([,-0]))[1]==u?function(c){return new a(c)}:n;r.exports=p},8777:(r,s,t)=>{var a=t(852),n=function(){try{var o=a(Object,"defineProperty");return o({},"",{}),o}catch{}}();r.exports=n},7114:(r,s,t)=>{var a=t(8668),n=t(2908),o=t(4757),u=1,p=2;function c(m,b,x,y,A,S){var j=x&u,C=m.length,_=b.length;if(C!=_&&!(j&&_>C))return!1;var F=S.get(m),I=S.get(b);if(F&&I)return F==b&&I==m;var z=-1,M=!0,H=x&p?new a:void 0;for(S.set(m,b),S.set(b,m);++z<C;){var L=m[z],X=b[z];if(y)var B=j?y(X,L,z,b,m,S):y(L,X,z,m,b,S);if(B!==void 0){if(B)continue;M=!1;break}if(H){if(!n(b,function($,Q){if(!o(H,Q)&&(L===$||A(L,$,x,y,S)))return H.push(Q)})){M=!1;break}}else if(!(L===X||A(L,X,x,y,S))){M=!1;break}}return S.delete(m),S.delete(b),M}r.exports=c},8351:(r,s,t)=>{var a=t(2705),n=t(1149),o=t(7813),u=t(7114),p=t(8776),c=t(1814),m=1,b=2,x="[object Boolean]",y="[object Date]",A="[object Error]",S="[object Map]",j="[object Number]",C="[object RegExp]",_="[object Set]",F="[object String]",I="[object Symbol]",z="[object ArrayBuffer]",M="[object DataView]",H=a?a.prototype:void 0,L=H?H.valueOf:void 0;function X(B,$,Q,V,st,G,q){switch(Q){case M:if(B.byteLength!=$.byteLength||B.byteOffset!=$.byteOffset)return!1;B=B.buffer,$=$.buffer;case z:return!(B.byteLength!=$.byteLength||!G(new n(B),new n($)));case x:case y:case j:return o(+B,+$);case A:return B.name==$.name&&B.message==$.message;case C:case F:return B==$+"";case S:var ot=p;case _:var P=V&m;if(ot||(ot=c),B.size!=$.size&&!P)return!1;var O=q.get(B);if(O)return O==$;V|=b,q.set(B,$);var D=u(ot(B),ot($),V,st,G,q);return q.delete(B),D;case I:if(L)return L.call(B)==L.call($)}return!1}r.exports=X},6096:(r,s,t)=>{var a=t(8234),n=1,o=Object.prototype,u=o.hasOwnProperty;function p(c,m,b,x,y,A){var S=b&n,j=a(c),C=j.length,_=a(m),F=_.length;if(C!=F&&!S)return!1;for(var I=C;I--;){var z=j[I];if(!(S?z in m:u.call(m,z)))return!1}var M=A.get(c),H=A.get(m);if(M&&H)return M==m&&H==c;var L=!0;A.set(c,m),A.set(m,c);for(var X=S;++I<C;){z=j[I];var B=c[z],$=m[z];if(x)var Q=S?x($,B,z,m,c,A):x(B,$,z,c,m,A);if(!(Q===void 0?B===$||y(B,$,b,x,A):Q)){L=!1;break}X||(X=z=="constructor")}if(L&&!X){var V=c.constructor,st=m.constructor;V!=st&&"constructor"in c&&"constructor"in m&&!(typeof V=="function"&&V instanceof V&&typeof st=="function"&&st instanceof st)&&(L=!1)}return A.delete(c),A.delete(m),L}r.exports=p},1957:(r,s,t)=>{var a=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g;r.exports=a},8234:(r,s,t)=>{var a=t(8866),n=t(9551),o=t(3674);function u(p){return a(p,o,n)}r.exports=u},6904:(r,s,t)=>{var a=t(8866),n=t(1442),o=t(1704);function u(p){return a(p,o,n)}r.exports=u},5050:(r,s,t)=>{var a=t(7019);function n(o,u){var p=o.__data__;return a(u)?p[typeof u=="string"?"string":"hash"]:p.map}r.exports=n},1499:(r,s,t)=>{var a=t(9162),n=t(3674);function o(u){for(var p=n(u),c=p.length;c--;){var m=p[c],b=u[m];p[c]=[m,b,a(b)]}return p}r.exports=o},852:(r,s,t)=>{var a=t(8458),n=t(7801);function o(u,p){var c=n(u,p);return a(c)?c:void 0}r.exports=o},5924:(r,s,t)=>{var a=t(5569),n=a(Object.getPrototypeOf,Object);r.exports=n},9607:(r,s,t)=>{var a=t(2705),n=Object.prototype,o=n.hasOwnProperty,u=n.toString,p=a?a.toStringTag:void 0;function c(m){var b=o.call(m,p),x=m[p];try{m[p]=void 0;var y=!0}catch{}var A=u.call(m);return y&&(b?m[p]=x:delete m[p]),A}r.exports=c},9551:(r,s,t)=>{var a=t(4963),n=t(479),o=Object.prototype,u=o.propertyIsEnumerable,p=Object.getOwnPropertySymbols,c=p?function(m){return m==null?[]:(m=Object(m),a(p(m),function(b){return u.call(m,b)}))}:n;r.exports=c},1442:(r,s,t)=>{var a=t(2488),n=t(5924),o=t(9551),u=t(479),p=Object.getOwnPropertySymbols,c=p?function(m){for(var b=[];m;)a(b,o(m)),m=n(m);return b}:u;r.exports=c},4160:(r,s,t)=>{var a=t(8552),n=t(7071),o=t(3818),u=t(8525),p=t(577),c=t(4239),m=t(346),b="[object Map]",x="[object Object]",y="[object Promise]",A="[object Set]",S="[object WeakMap]",j="[object DataView]",C=m(a),_=m(n),F=m(o),I=m(u),z=m(p),M=c;(a&&M(new a(new ArrayBuffer(1)))!=j||n&&M(new n)!=b||o&&M(o.resolve())!=y||u&&M(new u)!=A||p&&M(new p)!=S)&&(M=function(H){var L=c(H),X=L==x?H.constructor:void 0,B=X?m(X):"";if(B)switch(B){case C:return j;case _:return b;case F:return y;case I:return A;case z:return S}return L}),r.exports=M},7801:r=>{function s(t,a){return t?.[a]}r.exports=s},222:(r,s,t)=>{var a=t(1811),n=t(5694),o=t(1469),u=t(5776),p=t(1780),c=t(327);function m(b,x,y){x=a(x,b);for(var A=-1,S=x.length,j=!1;++A<S;){var C=c(x[A]);if(!(j=b!=null&&y(b,C)))break;b=b[C]}return j||++A!=S?j:(S=b==null?0:b.length,!!S&&p(S)&&u(C,S)&&(o(b)||n(b)))}r.exports=m},1789:(r,s,t)=>{var a=t(4536);function n(){this.__data__=a?a(null):{},this.size=0}r.exports=n},401:r=>{function s(t){var a=this.has(t)&&delete this.__data__[t];return this.size-=a?1:0,a}r.exports=s},7667:(r,s,t)=>{var a=t(4536),n="__lodash_hash_undefined__",o=Object.prototype,u=o.hasOwnProperty;function p(c){var m=this.__data__;if(a){var b=m[c];return b===n?void 0:b}return u.call(m,c)?m[c]:void 0}r.exports=p},1327:(r,s,t)=>{var a=t(4536),n=Object.prototype,o=n.hasOwnProperty;function u(p){var c=this.__data__;return a?c[p]!==void 0:o.call(c,p)}r.exports=u},1866:(r,s,t)=>{var a=t(4536),n="__lodash_hash_undefined__";function o(u,p){var c=this.__data__;return this.size+=this.has(u)?0:1,c[u]=a&&p===void 0?n:p,this}r.exports=o},3824:r=>{var s=Object.prototype,t=s.hasOwnProperty;function a(n){var o=n.length,u=new n.constructor(o);return o&&typeof n[0]=="string"&&t.call(n,"index")&&(u.index=n.index,u.input=n.input),u}r.exports=a},9148:(r,s,t)=>{var a=t(4318),n=t(7157),o=t(3147),u=t(419),p=t(7133),c="[object Boolean]",m="[object Date]",b="[object Map]",x="[object Number]",y="[object RegExp]",A="[object Set]",S="[object String]",j="[object Symbol]",C="[object ArrayBuffer]",_="[object DataView]",F="[object Float32Array]",I="[object Float64Array]",z="[object Int8Array]",M="[object Int16Array]",H="[object Int32Array]",L="[object Uint8Array]",X="[object Uint8ClampedArray]",B="[object Uint16Array]",$="[object Uint32Array]";function Q(V,st,G){var q=V.constructor;switch(st){case C:return a(V);case c:case m:return new q(+V);case _:return n(V,G);case F:case I:case z:case M:case H:case L:case X:case B:case $:return p(V,G);case b:return new q;case x:case S:return new q(V);case y:return o(V);case A:return new q;case j:return u(V)}}r.exports=Q},8517:(r,s,t)=>{var a=t(3118),n=t(5924),o=t(5726);function u(p){return typeof p.constructor=="function"&&!o(p)?a(n(p)):{}}r.exports=u},7285:(r,s,t)=>{var a=t(2705),n=t(5694),o=t(1469),u=a?a.isConcatSpreadable:void 0;function p(c){return o(c)||n(c)||!!(u&&c&&c[u])}r.exports=p},5776:r=>{var s=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function a(n,o){var u=typeof n;return o=o??s,!!o&&(u=="number"||u!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<o}r.exports=a},5403:(r,s,t)=>{var a=t(1469),n=t(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;function p(c,m){if(a(c))return!1;var b=typeof c;return b=="number"||b=="symbol"||b=="boolean"||c==null||n(c)?!0:u.test(c)||!o.test(c)||m!=null&&c in Object(m)}r.exports=p},7019:r=>{function s(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}r.exports=s},5346:(r,s,t)=>{var a=t(4429),n=function(){var u=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();function o(u){return!!n&&n in u}r.exports=o},5726:r=>{var s=Object.prototype;function t(a){var n=a&&a.constructor,o=typeof n=="function"&&n.prototype||s;return a===o}r.exports=t},9162:(r,s,t)=>{var a=t(3218);function n(o){return o===o&&!a(o)}r.exports=n},7040:r=>{function s(){this.__data__=[],this.size=0}r.exports=s},4125:(r,s,t)=>{var a=t(8470),n=Array.prototype,o=n.splice;function u(p){var c=this.__data__,m=a(c,p);if(m<0)return!1;var b=c.length-1;return m==b?c.pop():o.call(c,m,1),--this.size,!0}r.exports=u},2117:(r,s,t)=>{var a=t(8470);function n(o){var u=this.__data__,p=a(u,o);return p<0?void 0:u[p][1]}r.exports=n},7518:(r,s,t)=>{var a=t(8470);function n(o){return a(this.__data__,o)>-1}r.exports=n},4705:(r,s,t)=>{var a=t(8470);function n(o,u){var p=this.__data__,c=a(p,o);return c<0?(++this.size,p.push([o,u])):p[c][1]=u,this}r.exports=n},4785:(r,s,t)=>{var a=t(1989),n=t(8407),o=t(7071);function u(){this.size=0,this.__data__={hash:new a,map:new(o||n),string:new a}}r.exports=u},1285:(r,s,t)=>{var a=t(5050);function n(o){var u=a(this,o).delete(o);return this.size-=u?1:0,u}r.exports=n},6e3:(r,s,t)=>{var a=t(5050);function n(o){return a(this,o).get(o)}r.exports=n},9916:(r,s,t)=>{var a=t(5050);function n(o){return a(this,o).has(o)}r.exports=n},5265:(r,s,t)=>{var a=t(5050);function n(o,u){var p=a(this,o),c=p.size;return p.set(o,u),this.size+=p.size==c?0:1,this}r.exports=n},8776:r=>{function s(t){var a=-1,n=Array(t.size);return t.forEach(function(o,u){n[++a]=[u,o]}),n}r.exports=s},2634:r=>{function s(t,a){return function(n){return n==null?!1:n[t]===a&&(a!==void 0||t in Object(n))}}r.exports=s},4523:(r,s,t)=>{var a=t(8306),n=500;function o(u){var p=a(u,function(m){return c.size===n&&c.clear(),m}),c=p.cache;return p}r.exports=o},4536:(r,s,t)=>{var a=t(852),n=a(Object,"create");r.exports=n},6916:(r,s,t)=>{var a=t(5569),n=a(Object.keys,Object);r.exports=n},3498:r=>{function s(t){var a=[];if(t!=null)for(var n in Object(t))a.push(n);return a}r.exports=s},1167:(r,s,t)=>{r=t.nmd(r);var a=t(1957),n=s&&!s.nodeType&&s,o=n&&!0&&r&&!r.nodeType&&r,u=o&&o.exports===n,p=u&&a.process,c=function(){try{var m=o&&o.require&&o.require("util").types;return m||p&&p.binding&&p.binding("util")}catch{}}();r.exports=c},2333:r=>{var s=Object.prototype,t=s.toString;function a(n){return t.call(n)}r.exports=a},5569:r=>{function s(t,a){return function(n){return t(a(n))}}r.exports=s},5357:(r,s,t)=>{var a=t(6874),n=Math.max;function o(u,p,c){return p=n(p===void 0?u.length-1:p,0),function(){for(var m=arguments,b=-1,x=n(m.length-p,0),y=Array(x);++b<x;)y[b]=m[p+b];b=-1;for(var A=Array(p+1);++b<p;)A[b]=m[b];return A[p]=c(y),a(u,this,A)}}r.exports=o},5639:(r,s,t)=>{var a=t(1957),n=typeof self=="object"&&self&&self.Object===Object&&self,o=a||n||Function("return this")();r.exports=o},619:r=>{var s="__lodash_hash_undefined__";function t(a){return this.__data__.set(a,s),this}r.exports=t},2385:r=>{function s(t){return this.__data__.has(t)}r.exports=s},1814:r=>{function s(t){var a=-1,n=Array(t.size);return t.forEach(function(o){n[++a]=o}),n}r.exports=s},61:(r,s,t)=>{var a=t(6560),n=t(1275),o=n(a);r.exports=o},1275:r=>{var s=800,t=16,a=Date.now;function n(o){var u=0,p=0;return function(){var c=a(),m=t-(c-p);if(p=c,m>0){if(++u>=s)return arguments[0]}else u=0;return o.apply(void 0,arguments)}}r.exports=n},7465:(r,s,t)=>{var a=t(8407);function n(){this.__data__=new a,this.size=0}r.exports=n},3779:r=>{function s(t){var a=this.__data__,n=a.delete(t);return this.size=a.size,n}r.exports=s},7599:r=>{function s(t){return this.__data__.get(t)}r.exports=s},4758:r=>{function s(t){return this.__data__.has(t)}r.exports=s},4309:(r,s,t)=>{var a=t(8407),n=t(7071),o=t(3369),u=200;function p(c,m){var b=this.__data__;if(b instanceof a){var x=b.__data__;if(!n||x.length<u-1)return x.push([c,m]),this.size=++b.size,this;b=this.__data__=new o(x)}return b.set(c,m),this.size=b.size,this}r.exports=p},2351:r=>{function s(t,a,n){for(var o=n-1,u=t.length;++o<u;)if(t[o]===a)return o;return-1}r.exports=s},5514:(r,s,t)=>{var a=t(4523),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,u=a(function(p){var c=[];return p.charCodeAt(0)===46&&c.push(""),p.replace(n,function(m,b,x,y){c.push(x?y.replace(o,"$1"):b||m)}),c});r.exports=u},327:(r,s,t)=>{var a=t(3448),n=1/0;function o(u){if(typeof u=="string"||a(u))return u;var p=u+"";return p=="0"&&1/u==-n?"-0":p}r.exports=o},346:r=>{var s=Function.prototype,t=s.toString;function a(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}r.exports=a},7990:r=>{var s=/\s/;function t(a){for(var n=a.length;n--&&s.test(a.charAt(n)););return n}r.exports=t},6678:(r,s,t)=>{var a=t(5990),n=4;function o(u){return a(u,n)}r.exports=o},361:(r,s,t)=>{var a=t(5990),n=1,o=4;function u(p){return a(p,n|o)}r.exports=u},5703:r=>{function s(t){return function(){return t}}r.exports=s},1966:(r,s,t)=>{var a=t(731),n=t(1078),o=t(5976),u=t(9246),p=o(function(c,m){return u(c)?a(c,n(m,1,u,!0)):[]});r.exports=p},7813:r=>{function s(t,a){return t===a||t!==t&&a!==a}r.exports=s},3311:(r,s,t)=>{var a=t(7740),n=t(998),o=a(n);r.exports=o},998:(r,s,t)=>{var a=t(1848),n=t(7206),o=t(554),u=Math.max;function p(c,m,b){var x=c==null?0:c.length;if(!x)return-1;var y=b==null?0:o(b);return y<0&&(y=u(x+y,0)),a(c,n(m,3),y)}r.exports=p},7361:(r,s,t)=>{var a=t(7786);function n(o,u,p){var c=o==null?void 0:a(o,u);return c===void 0?p:c}r.exports=n},9095:(r,s,t)=>{var a=t(13),n=t(222);function o(u,p){return u!=null&&n(u,p,a)}r.exports=o},6557:r=>{function s(t){return t}r.exports=s},3137:(r,s,t)=>{var a=t(5703),n=t(7779),o=t(6557),u=Object.prototype,p=u.toString,c=n(function(m,b,x){b!=null&&typeof b.toString!="function"&&(b=p.call(b)),m[b]=x},a(o));r.exports=c},5694:(r,s,t)=>{var a=t(9454),n=t(7005),o=Object.prototype,u=o.hasOwnProperty,p=o.propertyIsEnumerable,c=a(function(){return arguments}())?a:function(m){return n(m)&&u.call(m,"callee")&&!p.call(m,"callee")};r.exports=c},1469:r=>{var s=Array.isArray;r.exports=s},8612:(r,s,t)=>{var a=t(3560),n=t(1780);function o(u){return u!=null&&n(u.length)&&!a(u)}r.exports=o},9246:(r,s,t)=>{var a=t(8612),n=t(7005);function o(u){return n(u)&&a(u)}r.exports=o},4144:(r,s,t)=>{r=t.nmd(r);var a=t(5639),n=t(5062),o=s&&!s.nodeType&&s,u=o&&!0&&r&&!r.nodeType&&r,p=u&&u.exports===o,c=p?a.Buffer:void 0,m=c?c.isBuffer:void 0,b=m||n;r.exports=b},8446:(r,s,t)=>{var a=t(939);function n(o,u){return a(o,u)}r.exports=n},3560:(r,s,t)=>{var a=t(4239),n=t(3218),o="[object AsyncFunction]",u="[object Function]",p="[object GeneratorFunction]",c="[object Proxy]";function m(b){if(!n(b))return!1;var x=a(b);return x==u||x==p||x==o||x==c}r.exports=m},1780:r=>{var s=9007199254740991;function t(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=s}r.exports=t},6688:(r,s,t)=>{var a=t(5588),n=t(1717),o=t(1167),u=o&&o.isMap,p=u?n(u):a;r.exports=p},3218:r=>{function s(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}r.exports=s},7005:r=>{function s(t){return t!=null&&typeof t=="object"}r.exports=s},2928:(r,s,t)=>{var a=t(9221),n=t(1717),o=t(1167),u=o&&o.isSet,p=u?n(u):a;r.exports=p},3448:(r,s,t)=>{var a=t(4239),n=t(7005),o="[object Symbol]";function u(p){return typeof p=="symbol"||n(p)&&a(p)==o}r.exports=u},6719:(r,s,t)=>{var a=t(8749),n=t(1717),o=t(1167),u=o&&o.isTypedArray,p=u?n(u):a;r.exports=p},3674:(r,s,t)=>{var a=t(4636),n=t(280),o=t(8612);function u(p){return o(p)?a(p):n(p)}r.exports=u},1704:(r,s,t)=>{var a=t(4636),n=t(313),o=t(8612);function u(p){return o(p)?a(p,!0):n(p)}r.exports=u},8306:(r,s,t)=>{var a=t(3369),n="Expected a function";function o(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new TypeError(n);var c=function(){var m=arguments,b=p?p.apply(this,m):m[0],x=c.cache;if(x.has(b))return x.get(b);var y=u.apply(this,m);return c.cache=x.set(b,y)||x,y};return c.cache=new(o.Cache||a),c}o.Cache=a,r.exports=o},308:r=>{function s(){}r.exports=s},9601:(r,s,t)=>{var a=t(371),n=t(9152),o=t(5403),u=t(327);function p(c){return o(c)?a(u(c)):n(c)}r.exports=p},479:r=>{function s(){return[]}r.exports=s},5062:r=>{function s(){return!1}r.exports=s},8601:(r,s,t)=>{var a=t(4841),n=1/0,o=17976931348623157e292;function u(p){if(!p)return p===0?p:0;if(p=a(p),p===n||p===-n){var c=p<0?-1:1;return c*o}return p===p?p:0}r.exports=u},554:(r,s,t)=>{var a=t(8601);function n(o){var u=a(o),p=u%1;return u===u?p?u-p:u:0}r.exports=n},4841:(r,s,t)=>{var a=t(7561),n=t(3218),o=t(3448),u=NaN,p=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,m=/^0o[0-7]+$/i,b=parseInt;function x(y){if(typeof y=="number")return y;if(o(y))return u;if(n(y)){var A=typeof y.valueOf=="function"?y.valueOf():y;y=n(A)?A+"":A}if(typeof y!="string")return y===0?y:+y;y=a(y);var S=c.test(y);return S||m.test(y)?b(y.slice(2),S?2:8):p.test(y)?u:+y}r.exports=x},9833:(r,s,t)=>{var a=t(531);function n(o){return o==null?"":a(o)}r.exports=n},4908:(r,s,t)=>{var a=t(5652);function n(o){return o&&o.length?a(o):[]}r.exports=n},2569:(r,s,t)=>{var a=t(731),n=t(5976),o=t(9246),u=n(function(p,c){return o(p)?a(p,c):[]});r.exports=u}},h={};function l(r){var s=h[r];if(s!==void 0)return s.exports;var t=h[r]={id:r,loaded:!1,exports:{}};return i[r](t,t.exports,l),t.loaded=!0,t.exports}l.n=r=>{var s=r&&r.__esModule?()=>r.default:()=>r;return l.d(s,{a:s}),s},l.d=(r,s)=>{for(var t in s)l.o(s,t)&&!l.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:s[t]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(r,s)=>Object.prototype.hasOwnProperty.call(r,s),l.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},l.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var g={};return(()=>{"use strict";l.r(g),l.d(g,{chordParserFactory:()=>Cr,chordRendererFactory:()=>gi});function r(e,f){return e.reduce(function(d,v){return d?v(d):null},f)}var s=l(361),t=l.n(s),a=function(f){if(!Array.isArray(f))throw new TypeError("customFilters should be given as an array");if(f.some(function(d){return typeof d!="function"}))throw new TypeError("The given filter is not a function");return!0};let n=a;function o(e,f){var d=Object.keys(e);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);f&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable})),d.push.apply(d,v)}return d}function u(e){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?o(Object(d),!0).forEach(function(v){p(e,v,d[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(d)):o(Object(d)).forEach(function(v){Object.defineProperty(e,v,Object.getOwnPropertyDescriptor(d,v))})}return e}function p(e,f,d){return f in e?Object.defineProperty(e,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[f]=d,e}var c={AFlat:"Ab",A:"A",ASharp:"A#",BFlat:"Bb",B:"B",C:"C",CSharp:"C#",DFlat:"Db",D:"D",DSharp:"D#",EFlat:"Eb",E:"E",F:"F",FSharp:"F#",GFlat:"Gb",G:"G",GSharp:"G#"},m={Ab:c.AFlat,A:c.A,"A#":c.ASharp,Bb:c.BFlat,B:c.B,"B#":c.C,Cb:c.B,C:c.C,"C#":c.CSharp,Db:c.DFlat,D:c.D,"D#":c.DSharp,Eb:c.EFlat,E:c.E,"E#":c.F,Fb:c.E,F:c.F,"F#":c.FSharp,Gb:c.GFlat,G:c.G,"G#":c.GSharp},b={Lab:c.AFlat,La:c.A,"La#":c.ASharp,Sib:c.BFlat,Si:c.B,"Si#":c.C,Dob:c.B,Do:c.C,"Do#":c.CSharp,Reb:c.DFlat,R\u00E9b:c.DFlat,Re:c.D,R\u00E9:c.D,"Re#":c.DSharp,"R\xE9#":c.DSharp,Mib:c.EFlat,Mi:c.E,"Mi#":c.F,Fab:c.E,Fa:c.F,"Fa#":c.FSharp,Solb:c.GFlat,Sol:c.G,"Sol#":c.GSharp},x={As:c.AFlat,A:c.A,Ais:c.ASharp,Hes:c.BFlat,H:c.B,His:c.C,Ces:c.B,C:c.C,Cis:c.CSharp,Des:c.DFlat,D:c.D,Dis:c.DSharp,Es:c.EFlat,E:c.E,Eis:c.F,Fes:c.E,F:c.F,Fis:c.FSharp,Ges:c.GFlat,G:c.G,Gis:c.GSharp};function y(e){var f;return Object.keys(e).reduce(function(d,v){return v.match(/.[b|#]$/)&&(f=v.replace("#","\u266F").replace("b","\u266D"),d[f]=e[v]),d},{})}var A=u(u({},m),y(m)),S=u(u({},b),y(b)),j=u({},x),C=u(u(u({},A),S),j),_=Object.keys(C).sort(function(e,f){return f.length-e.length}),F=Object.keys(A).sort(function(e,f){return f.length-e.length}),I=Object.keys(S).sort(function(e,f){return f.length-e.length}),z=Object.keys(j).sort(function(e,f){return f.length-e.length}),M=[{name:"english",notes:F},{name:"german",notes:z},{name:"latin",notes:I}];function H(e){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},H(e)}function L(e,f){for(var d=0;d<f.length;d++){var v=f[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(e,v.key,v)}}function X(e,f,d){return f&&L(e.prototype,f),d&&L(e,d),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,f){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}function $(e,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(f&&f.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),f&&O(e,f)}function Q(e){var f=ot();return function(){var v=D(e),E;if(f){var R=D(this).constructor;E=Reflect.construct(v,arguments,R)}else E=v.apply(this,arguments);return V(this,E)}}function V(e,f){if(f&&(H(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function st(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){var f=typeof Map=="function"?new Map:void 0;return G=function(v){if(v===null||!P(v))return v;if(typeof v!="function")throw new TypeError("Super expression must either be null or a function");if(typeof f<"u"){if(f.has(v))return f.get(v);f.set(v,E)}function E(){return q(v,arguments,D(this).constructor)}return E.prototype=Object.create(v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O(E,v)},G(e)}function q(e,f,d){return ot()?q=Reflect.construct:q=function(E,R,U){var J=[null];J.push.apply(J,R);var dt=Function.bind.apply(E,J),Ft=new dt;return U&&O(Ft,U.prototype),Ft},q.apply(null,arguments)}function ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function O(e,f){return O=Object.setPrototypeOf||function(v,E){return v.__proto__=E,v},O(e,f)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},D(e)}var Y=function(e){$(d,e);var f=Q(d);function d(){var v;return B(this,d),v=f.call(this,"The given symbol is not a valid string"),v.name="InvalidInput",v}return X(d)}(G(Error)),at=function(e){$(d,e);var f=Q(d);function d(){var v;B(this,d);var E="An unexpected error happened. Maybe a custom filter returned null instead of throwing an exception?";return v=f.call(this,E),v.name="UnexpectedError",v}return X(d)}(G(Error)),et=function(e){$(d,e);var f=Q(d);function d(v,E,R){var U;return B(this,d),U=f.call(this,v),U.name=R,U.chord=E,U}return X(d)}(G(Error)),mt=function(e){$(d,e);var f=Q(d);function d(v){B(this,d);var E='"'.concat(v.input.symbol,'" does not seems to be a chord');return f.call(this,E,v,"NoSymbolFound")}return X(d)}(et),Tt=function(e){$(d,e);var f=Q(d);function d(v,E){B(this,d);var R='The chord descriptor "'.concat(v.input.descriptor,'" contains unknown or duplicated modifiers: "').concat(E,'"');return f.call(this,R,v,"InvalidModifier")}return X(d)}(et),Mt=function(e){$(d,e);var f=Q(d);function d(v,E){B(this,d);var R='"'.concat(v.input.symbol,'" describes a chord with an invalid intervals combo: ')+E.join(" and ");return f.call(this,R,v,"InvalidIntervals")}return X(d)}(et),$t=l(1469),Ht=l.n($t),Kt=l(8446),re=l.n(Kt);function wt(e,f){var d=Ht()(f)?f:[f];return re()(e,d)}function W(e,f){return Xt(e,f,"oneOf")}function Wt(e,f){return Xt(e,f,"all")}function xt(e,f){return Xt(e,f,"none")}function Xt(e,f,d){var v=Ht()(f)?f:[f],E=d==="oneOf"?"some":"every";return v[E](function(R){return d==="none"?!e.includes(R):e.includes(R)})}var ne=[["2","3"],["2","9"],["3","b3"],["4","11"],["5","b5"],["5","#5"],["b6","#5"],["b6","6"],["b6","13"],["6","13"],["b7","bb7"],["7","b7"],["9","b9"],["9","#9"],["11","#11"],["13","b13"]];function he(e){var f=e.normalized.intervals,d=ne.find(function(v){return Wt(f,v)});if(d)throw new Mt(e,d);return e}function Vt(e){var f=e.formatted,d=f.rootNote,v=f.bassNote,E=f.descriptor,R=f.chordChanges,U=d;return E&&(U+=E),R&&R.length&&(U+="("+R.join(",")+")"),v&&(U+="/"+v),e.formatted.symbol=U,e}var T={ma:"major",ma6:"major6",ma7:"major7",dom7:"dominant7",mi:"minor",mi6:"minor6",mi7:"minor7",miMa7:"minorMajor7",aug:"augmented",dim:"diminished",dim7:"diminished7",power:"power",bass:"bass"},ft=[T.ma,T.ma6,T.ma7,T.dom7,T.aug],K=[T.mi,T.mi6,T.mi7,T.miMa7,T.dim,T.dim7],Z;function At(e){return ut(e)||St(e)||jt(e)||de()}function de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jt(e,f){if(e){if(typeof e=="string")return It(e,f);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return It(e,f)}}function St(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ut(e){if(Array.isArray(e))return It(e)}function It(e,f){(f==null||f>e.length)&&(f=e.length);for(var d=0,v=new Array(f);d<f;d++)v[d]=e[d];return v}function rt(e,f,d){return f in e?Object.defineProperty(e,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[f]=d,e}var ae=(Z={},rt(Z,T.ma,function(){return""}),rt(Z,T.ma6,function(e){return e.normalized.intervals.includes("9")?"69":"6"}),rt(Z,T.ma7,function(e){return"ma"+zt(e)}),rt(Z,T.dom7,function(e){return e.normalized.intents.alt?"7alt":zt(e)}),rt(Z,T.mi,function(){return"mi"}),rt(Z,T.mi6,function(e){return e.normalized.intervals.includes("9")?"mi69":"mi6"}),rt(Z,T.mi7,function(e){return"mi"+zt(e)}),rt(Z,T.miMa7,function(e){return"miMa"+zt(e)}),rt(Z,T.aug,function(){return"+"}),rt(Z,T.dim,function(){return"dim"}),rt(Z,T.dim7,function(){return"dim7"}),rt(Z,T.power,function(){return"5"}),rt(Z,T.bass,function(){return" bass"}),Z),Dt={add:"add",add7:"Ma7",omit:"omit",sus:"sus"};function Et(e){return e.formatted={rootNote:e.normalized.rootNote,bassNote:e.normalized.bassNote,descriptor:ie(e),chordChanges:me(e)},e}function ie(e){var f=ae[e.normalized.quality](e);return e.normalized.isSuspended&&(f+=Dt.sus),f}function zt(e){var f=e.normalized.extensions,d=f[f.length-1];return d==="11"&&e.normalized.intents.major&&(d=xt(e.normalized.alterations,["b9","#9"])?"9":"7"),d||"7"}function me(e){var f=Ct(e.normalized.omits);if(se(e))return f;var d=gt(e.normalized.quality,e.normalized.adds);return[].concat(At(e.normalized.alterations),At(d),At(f))}function se(e){return e.normalized.intents.alt&&e.normalized.quality===T.dom7}function gt(e,f){return f.filter(function(d){return!([T.ma6,T.mi6].includes(e)&&d==="9")}).map(function(d,v){var E="";return v===0&&(E+=Dt.add,["b","#"].includes(d[0])&&(E+=" ")),E+=d==="7"?Dt.add7:d,E})}function Ct(e){return e.map(function(f,d){var v="";return d===0&&(v+=Dt.omit),v+=f==="b3"?"3":f,v})}function $e(e){var f=[He,lt,Yt,ge];return e.input.descriptor&&(e.input.parsableDescriptor=r(f,e.input.descriptor)),e}function He(e){return e.replace(/[A-LN-Za-z]+/g,function(f){return f.toLowerCase()}).replace("oMit","omit").replace("diM","dim").replace("augMented","augmented")}function lt(e){return e.replace(/ /g,"")}function Yt(e){return e.replace(/(7?dim)(alt|add)/g,"$1 $2").replace(/([m|M])(alt|add)/g,"$1 $2").replace(/i(no[35])/g,"i $1").replace(/([b#]9)6/g,"$1 6").replace(/(9\/?6)/g," $1")}function ge(e){var f,d,v;return e.replace(/\((.*?)\)/g,function(E,R){return f=[],d="",R.split(",").forEach(function(U){v=!0,U.startsWith("add")?d="add":U.startsWith("omit")?d="omit":U.startsWith("no")?d="no":v=!1,v?f.push(U):f.push(d+U)})," "+f.join(" ")+" "})}function Zt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;return{input:{symbol:f},normalized:{},formatted:{},parserConfiguration:t()(e)}}var nt;function Qt(e){return Mn(e)||je(e)||be(e)||Ke()}function Ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(e,f){if(e){if(typeof e=="string")return We(e,f);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return We(e,f)}}function je(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mn(e){if(Array.isArray(e))return We(e)}function We(e,f){(f==null||f>e.length)&&(f=e.length);for(var d=0,v=new Array(f);d<f;d++)v[d]=e[d];return v}function ct(e,f,d){return f in e?Object.defineProperty(e,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[f]=d,e}var zn=[c.A,c.ASharp,c.B,c.C,c.CSharp,c.D,c.DSharp,c.E,c.F,c.FSharp,c.G,c.GSharp],Ln=[c.A,c.BFlat,c.B,c.C,c.DFlat,c.D,c.EFlat,c.E,c.F,c.GFlat,c.G,c.AFlat],Gn=(nt={},ct(nt,c.C,{maj:"flat",min:"flat"}),ct(nt,c.CSharp,{maj:"sharp",min:"sharp"}),ct(nt,c.DFlat,{maj:"flat",min:"flat"}),ct(nt,c.D,{maj:"sharp",min:"flat"}),ct(nt,c.DSharp,{maj:"sharp",min:"sharp"}),ct(nt,c.EFlat,{maj:"flat",min:"flat"}),ct(nt,c.E,{maj:"sharp",min:"sharp"}),ct(nt,c.F,{maj:"flat",min:"flat"}),ct(nt,c.FSharp,{maj:"sharp",min:"sharp"}),ct(nt,c.GFlat,{maj:"flat",min:"flat"}),ct(nt,c.G,{maj:"sharp",min:"flat"}),ct(nt,c.GSharp,{maj:"sharp",min:"sharp"}),ct(nt,c.AFlat,{maj:"flat",min:"flat"}),ct(nt,c.A,{maj:"sharp",min:"flat"}),ct(nt,c.ASharp,{maj:"sharp",min:"sharp"}),ct(nt,c.BFlat,{maj:"flat",min:"flat"}),ct(nt,c.B,{maj:"sharp",min:"sharp"}),nt);function Xe(e){var f=e.normalized.rootNote,d=e.normalized.semitones,v=e.normalized.quality,E=ft.includes(v)?"maj":"min",R=Gn[f][E]==="sharp"?zn:Ln,U=R.indexOf(f),J=[].concat(Qt(R.slice(U)),Qt(R.slice(0,U)),Qt(R.slice(U)),Qt(R.slice(0,U))),dt=d.map(function(Ft){return J[Ft]});return e.normalized.notes=dt,e}function Un(e){return e.normalized.rootNote=C[e.input.rootNote],e.input.bassNote&&(e.normalized.bassNote=C[e.input.bassNote]),e}var Bn=l(6678),Ve=l.n(Bn),$n=l(3311),Hn=l.n($n),Kn=l(4908),mr=l.n(Kn),Wn=l(2569),gr=l.n(Wn);function br(e,f){var d=Object.keys(e);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);f&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable})),d.push.apply(d,v)}return d}function oe(e){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?br(Object(d),!0).forEach(function(v){Ot(e,v,d[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(d)):br(Object(d)).forEach(function(v){Object.defineProperty(e,v,Object.getOwnPropertyDescriptor(d,v))})}return e}function Ot(e,f,d){return f in e?Object.defineProperty(e,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[f]=d,e}function vr(e){return Zn(e)||Yn(e)||Vn(e)||Xn()}function Xn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(e,f){if(e){if(typeof e=="string")return Ye(e,f);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ye(e,f)}}function Yn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zn(e){if(Array.isArray(e))return Ye(e)}function Ye(e,f){(f==null||f>e.length)&&(f=e.length);for(var d=0,v=new Array(f);d<f;d++)v[d]=e[d];return v}function yr(e){var f=Ve()(e.normalized.intervals),d={quality:"",isSuspended:!1,extensions:[],alterations:[],adds:[],omits:[]};if(Qn(f))d.quality=T.power;else if(Jn(f))d.quality=T.bass;else{var v=qn(f,e.normalized.intents.major),E=kn(f,e.normalized.intents.major),R=ta(f,e,E,v),U=R.qualityIntervals,J=R.quality,dt=ia(f,J),Ft=["1"].concat(vr(U),vr(dt)),Jt=fa(f,Ft,J),Pt=Jt.adds,ve=Jt.alterations;d=oe(oe({},d),{},{quality:J,isSuspended:E,extensions:dt,alterations:ve,adds:Pt,omits:v})}return oe(oe({},e),{},{normalized:oe(oe({},e.normalized),d)})}function Qn(e){return wt(e,["1","5"])}function Jn(e){return wt(e,["1"])}function kn(e,f){return e.includes("4")||e.includes("11")&&f&&!e.includes("3")}function qn(e,f){var d=[];return(xt(e,["b3","3","4","11"])||!f&&xt(e,["b3","4"]))&&d.push(f?"3":"b3"),xt(e,["b5","5","#5","b13"])&&d.push("5"),d}function ta(e,f,d,v){var E=ea(e,f,d,v),R=[{qualityIntervals:["b3"],quality:T.mi},{qualityIntervals:["b3","6"],quality:T.mi6},{qualityIntervals:["b3","7"],quality:T.miMa7},{qualityIntervals:["b3","b7"],quality:T.mi7},{qualityIntervals:["3"],quality:T.ma},{qualityIntervals:["3","6"],quality:T.ma6},{qualityIntervals:["3","7"],quality:T.ma7},{qualityIntervals:["3","b7"],quality:T.dom7},{qualityIntervals:["3","#5"],quality:T.aug},{qualityIntervals:["b3","b5"],quality:T.dim},{qualityIntervals:["b3","b5","bb7"],quality:T.dim7}].sort(function(U,J){return J.qualityIntervals.length-U.qualityIntervals.length});return Hn()(R,function(U){return Wt(E,U.qualityIntervals)})}function ea(e,f,d,v){var E=[ra.bind(null,v),na.bind(null,d,f.normalized.intents.major),aa.bind(null,f.normalized.intents.alt),mr()];return r(E,Ve()(e))}function ra(e,f){var d=Ve()(f);return e.includes("3")?d.push("3"):e.includes("b3")&&d.push("b3"),d}function na(e,f,d){if(e){var v=gr()(d,"4");return v.push(f?"3":"b3"),v}return d}function aa(e,f){if(e){var d=gr()(f,"b5","#5");return d.push("5"),d}return f}function ia(e,f){var d=[];return sa(f)&&(oa(e,f)?d.push("9","11","13"):ua(e,f)?d.push("9","13"):ca(e)?d.push("9","11"):la(e)&&d.push("9")),d}function sa(e){return[T.ma7,T.dom7,T.mi7,T.miMa7].includes(e)}function xr(e){return[T.mi7,T.miMa7].includes(e)}function oa(e,f){return xr(f)&&W(e,"13")&&W(e,["11","#11"])&&W(e,["b9","9","#9"])}function ua(e,f){return!xr(f)&&W(e,"13")&&W(e,["b9","9","#9"])}function ca(e){return W(e,"11")&&W(e,["b9","9","#9"])}function la(e){return e.includes("9")}function fa(e,f,d){var v=[],E=[];return e.filter(function(R){return R!=="5"&&R!=="4"}).forEach(function(R){f.includes(R)||(pa(d,R)?E.push(R):v.push(R))}),ha(e)&&v.push("3"),{adds:Ar(v),alterations:Ar(E)}}function pa(e,f){var d,v=(d={},Ot(d,T.ma,["b5","#5","#11","b13"]),Ot(d,T.ma6,["b5","#5","#11","b13"]),Ot(d,T.ma7,["b5","#5","#11","b13"]),Ot(d,T.dom7,["b5","#5","b9","#9","#11","b13"]),Ot(d,T.mi,["b5","#5","#11","b13"]),Ot(d,T.mi6,["b5","#5","#11","b13"]),Ot(d,T.mi7,["b5","#5","#11","b13"]),Ot(d,T.miMa7,["b5","#5","#11","b13"]),Ot(d,T.aug,[]),Ot(d,T.dim,[]),Ot(d,T.dim7,[]),d);return v[e].includes(f)}function ha(e){return Wt(e,["3","4"])}function Ar(e){return e.sort(function(f,d){var v=Number.parseInt(f.replace(/[b#]/,"")),E=Number.parseInt(d.replace(/[b#]/,""));return v-E})}function da(e,f){var d=f.input.symbol,v=e.join("|"),E=new RegExp("^("+v+")(.*?)(/("+v+"))?$"),R=d.match(E);if(R&&R[1])return f.input.rootNote=R[1],R[2]&&(f.input.descriptor=R[2]),R[4]&&(f.input.bassNote=R[4]),f;throw new mt(f)}function Sr(e,f){var d=Object.keys(e);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);f&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable})),d.push.apply(d,v)}return d}function Ee(e){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?Sr(Object(d),!0).forEach(function(v){ma(e,v,d[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(d)):Sr(Object(d)).forEach(function(v){Object.defineProperty(e,v,Object.getOwnPropertyDescriptor(d,v))})}return e}function ma(e,f,d){return f in e?Object.defineProperty(e,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[f]=d,e}var w={ma:"ma",mi:"mi",dim:"dim",halfDim:"halfDim",aug:"aug",seventh:"seventh",sus:"sus",sus2:"sus2",ninth:"ninth",eleventh:"eleventh",thirteenth:"thirteenth",fifthFlat:"b5",fifthSharp:"#5",ninthFlat:"b9",ninthSharp:"#9",eleventhSharp:"#11",thirteenthFlat:"b13",add3:"add3",add4:"add4",addb6:"addb6",add6:"add6",add69:"add69",add7:"add7",add9:"add9",add11:"add11",add13:"add13",bass:"bass",omit3:"omit3",omit5:"omit5",power:"power",alt:"alt"},Ze={"^":[w.ma,w.add7],\u0394:[w.ma,w.add7],M:w.ma,Ma:w.ma,Maj:w.ma,Major:w.ma,ma:w.ma,maj:w.ma,major:w.ma},ga=Tr(Ze,w.add7,function(e){return e+"7"}),ba=Tr(Ze,w.add7,function(e){return"add"+e+"7"}),Or=Ee(Ee(Ee(Ee({},Ze),ga),{},{"-":w.mi,m:w.mi,Mi:w.mi,Min:w.mi,Minor:w.mi,mi:w.mi,min:w.mi,minor:w.mi,"\xB0":w.dim,o:w.dim,0:w.dim,dim:w.dim,"dim.":w.dim,diminished:w.dim,\u00D8:w.halfDim,\u00F8:w.halfDim,h:w.halfDim,"+":w.aug,aug:w.aug,augmented:w.aug,7:w.seventh,4:w.sus,sus:w.sus,sus4:w.sus,suspended:w.sus,suspended4:w.sus,sus2:w.sus2,suspended2:w.sus2,9:w.ninth,11:w.eleventh,13:w.thirteenth,b3:w.mi,b5:w.fifthFlat,"\u266D5":w.fifthFlat,"#5":w.fifthSharp,"\u266F5":w.fifthSharp,b9:w.ninthFlat,"\u266D9":w.ninthFlat,addb9:w.ninthFlat,"add\u266D9":w.ninthFlat,"#9":w.ninthSharp,"\u266F9":w.ninthSharp,"add#9":w.ninthSharp,"add\u266F9":w.ninthSharp,"#11":w.eleventhSharp,"\u266F11":w.eleventhSharp,"add#11":w.eleventhSharp,b13:w.thirteenthFlat,"\u266D13":w.thirteenthFlat,addb13:w.thirteenthFlat,"add\u266D13":w.thirteenthFlat},ba),{},{2:w.add9,add2:w.add9,add3:w.add3,add4:w.add4,addb6:w.addb6,b6:w.addb6,6:w.add6,add6:w.add6,"6/9":w.add69,69:w.add69,96:w.add69,"9/6":w.add69,add9:w.add9,add11:w.add11,add13:w.add13,bass:w.bass,omit3:w.omit3,no3:w.omit3,omit5:w.omit5,no5:w.omit5,5:w.power,alt:w.alt,"alt.":w.alt,altered:w.alt});function Tr(e,f,d){return Object.keys(e).map(d).reduce(function(v,E){return v[E]=f,v},{})}var va=Object.keys(Or).sort(function(e,f){return f.length-e.length});let N=w,Ce={1:0,2:2,b3:3,3:4,4:5,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11,b9:13,9:14,"#9":15,11:17,"#11":18,b13:20,13:21};function Gt(e){return Sa(e)||Aa(e)||xa(e)||ya()}function ya(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xa(e,f){if(e){if(typeof e=="string")return Qe(e,f);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Qe(e,f)}}function Aa(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sa(e){if(Array.isArray(e))return Qe(e)}function Qe(e,f){(f==null||f>e.length)&&(f=e.length);for(var d=0,v=new Array(f);d<f;d++)v[d]=e[d];return v}function Oa(e,f){var d=[];return f.input.parsableDescriptor&&(d=Ta(f)),f.input.modifiers=d,f.normalized.intervals=wa(d,e),f.normalized.semitones=_a(f.normalized.intervals),f.normalized.intents=Ma(d),f}function Ta(e){var f=e.input.parsableDescriptor,d=[],v=new RegExp(va.map(Ra).join("|"),"g"),E=f.match(v),R=f,U;if(E&&E.forEach(function(J){U=Or[J],Array.isArray(U)||(U=[U]),U.forEach(function(dt){d.includes(dt)||(d.push(dt),R=R.replace(J,""))})}),d.length===0)throw new mt(e);if(R.trim().length>0)throw new Tt(e,R);return d}function wa(e,f){return e.includes(N.power)?["1","5"]:e.includes(N.bass)?["1"]:mr()(["1"].concat(Gt(ja(e)),Gt(Ea(e)),Gt(Ca(e,f)),Gt(Fa(e)),Gt(Ia(e)),Gt(Da(e,f)),Gt(Pa(e,f)),Gt(Na(e,f)))).sort(function(d,v){return Ce[d]-Ce[v]})}function ja(e){var f=[];return e.includes(N.omit3)?[]:(W(e,[N.sus,N.sus2])||(Je(e)?e.includes(N.eleventh)||f.push("3"):f.push("b3")),e.includes(N.add3)&&f.push("3"),f)}function Ea(e){var f=[];return W(e,[N.sus,N.add4])&&f.push("4"),f}function Ca(e,f){var d=[];return e.includes(N.omit5)?[]:((W(e,[N.dim,N.halfDim,N.fifthFlat])||ue(e,f,"b5"))&&d.push("b5"),(W(e,[N.aug,N.fifthSharp])||ue(e,f,"#5"))&&d.push("#5"),!d.length&&!e.includes(N.thirteenthFlat)&&d.push("5"),d)}function Fa(e){var f=[];return W(e,[N.addb6])&&f.push("b6"),W(e,[N.add6,N.add69])&&!jr(e)&&!W(e,[N.halfDim])&&f.push("6"),f}function Ia(e){var f=[];return W(e,[N.alt])&&f.push("b7"),W(e,[N.seventh,N.halfDim])?e.includes(N.dim)?f.push("bb7"):e.includes(N.halfDim)?f.push("b7"):f.push(wr(e)):W(e,[N.ninth,N.eleventh,N.thirteenth])&&f.push(wr(e)),e.includes(N.add7)&&f.push("7"),f}function wr(e){return e.includes(N.ma)?"7":"b7"}function Da(e,f){var d=[];return W(e,[N.add69,N.ninth,N.eleventh,N.thirteenth])&&xt(e,[N.ninthFlat,N.ninthSharp])&&d.push("9"),W(e,[N.sus2,N.add9])&&d.push("9"),(W(e,[N.ninthFlat])||ue(e,f,"b9"))&&d.push("b9"),(W(e,[N.ninthSharp])||ue(e,f,"#9"))&&d.push("#9"),d}function Pa(e,f){var d=[];return(W(e,[N.thirteenth])&&!Je(e)||W(e,[N.eleventh,N.add11]))&&d.push("11"),(W(e,[N.eleventhSharp])||ue(e,f,"#11"))&&d.push("#11"),d}function Na(e,f){var d=[];return(W(e,[N.add13,N.thirteenth])||W(e,[N.add6,N.add69])&&jr(e)||W(e,[N.add6,N.add69])&&W(e,[N.halfDim]))&&d.push("13"),(W(e,[N.thirteenthFlat])||ue(e,f,"b13"))&&d.push("b13"),d}function ue(e,f,d){return e.includes(N.alt)&&f.includes(d)}function Je(e){return xt(e,[N.mi,N.dim,N.dim7,N.halfDim])}function jr(e){return W(e,[N.seventh,N.ninth,N.eleventh,N.thirteenth])}function Ra(e){return e.replace(/[.\-*+?^${}()|[\]\\]/g,"\\$&")}function _a(e){return e.map(function(f){return Ce[f]}).sort(function(f,d){return f-d})}function Ma(e){return{major:Je(e),eleventh:e.includes(N.eleventh),alt:e.includes(N.alt)}}function za(e){return Ba(e)||Ua(e)||Ga(e)||La()}function La(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ga(e,f){if(e){if(typeof e=="string")return ke(e,f);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ke(e,f)}}function Ua(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ba(e){if(Array.isArray(e))return ke(e)}function ke(e,f){(f==null||f>e.length)&&(f=e.length);for(var d=0,v=new Array(f);d<f;d++)v[d]=e[d];return v}function $a(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=["b5","#5","b9","#9","#11","b13"],d=["english","german","latin"],v=e.notationSystems,E=v===void 0?t()(d):v,R=e.altIntervals,U=R===void 0?t()(f):R,J=e.customFilters,dt=J===void 0?[]:J;return Ha(U,f),Ka(E,d),n(dt),Ft;function Ft(Jt){var Pt=[];if(!Wa(Jt)){var ve=new Y;Pt.push(qe(ve))}var ye=t()(M).filter(function(Nt){return E.includes(Nt.name)}),Ut,xe,Bt;if(!Pt.length)for(;ye.length&&!Ut;){Bt=ye.shift(),xe=[Zt.bind(null,e),da.bind(null,Bt.notes),$e,Oa.bind(null,U),he,Un,yr,Et,Vt,Xe].concat(za(dt));try{Ut=r(xe,Jt),Ut?Ut.input.notationSystem=Bt.name:Pt.push(Xa(Bt.name))}catch(Nt){Pt.push(qe(Nt,Bt.name))}}return Ut||{error:Pt}}}function Ha(e,f){Er("altIntervals",e,f,!0)}function Ka(e,f){Er("notationSystems",e,f)}function Er(e,f,d,v){if(!Array.isArray(f))throw new TypeError("'".concat(e,"' should be an array"));if(!v&&f.length===0)throw new TypeError("'".concat(e,"' cannot be empty"));f.forEach(function(E){if(!d.includes(E))throw new TypeError("'".concat(E,"' is not a valid value for ").concat(e))})}function Wa(e){return typeof e=="string"&&e.length>0}function Xa(e){var f=new at;return qe(f,e)}function qe(e,f){return{type:e.name,chord:e.chord,message:e.message,notationSystem:f}}let Cr=$a;function Fr(e,f){var d=Object.keys(e);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);f&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable})),d.push.apply(d,v)}return d}function Fe(e){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?Fr(Object(d),!0).forEach(function(v){Va(e,v,d[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(d)):Fr(Object(d)).forEach(function(v){Object.defineProperty(e,v,Object.getOwnPropertyDescriptor(d,v))})}return e}function Va(e,f,d){return f in e?Object.defineProperty(e,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[f]=d,e}var Lt={sus2:"sus2",add2:"2",omit:"no",ma:"M",mi:"m",dim:"\xB0",aug7:"7+",eleventh:"11"};function Ya(e){var f,d=e.formatted.chordChanges;return Za(e)?(f=Lt.sus2,d=[]):Qa(e)?(f=Lt.add2,d=[]):Ja(e)?(f=Lt.aug7,d=[]):(f=e.formatted.descriptor.replace("mi",Lt.mi).replace(/[m|M]a/,Lt.ma).replace("dim",Lt.dim),ka(e)&&(f=f.replace(/7sus|9sus/,Lt.eleventh))),d=d.map(function(v){return v.replace(/[m|M]a/,Lt.ma).replace("omit",Lt.omit)}),Fe(Fe({},e),{},{formatted:Fe(Fe({},e.formatted),{},{descriptor:f,chordChanges:d})})}function Za(e){return wt(e.normalized.intervals,["1","5","9"])}function Qa(e){return wt(e.normalized.intervals,["1","3","5","9"])}function Ja(e){return wt(e.normalized.intervals,["1","3","#5","b7"])}function ka(e){return e.normalized.intents.eleventh}var qa=l(1966),ti=l.n(qa);function ei(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"none",f=arguments.length>1?arguments[1]:void 0;if(e==="none")return f;var d={max:["4","b5","#5","6","bb7","b7","7","b9","9","#9","11","#11","b13","13"],core:["4","b9","9","#9","11","#11","b13","13"]},v=ti()(f.normalized.intervals,d[e]);xt(v,["b3","3"])&&v.push(f.normalized.intents.major?"3":"b3"),xt(v,["b5","5","#5"])&&v.push("5"),f.normalized.intervals=v,f.normalized.semitones=v.map(function(R){return Ce[R]}),f.normalized.intents.eleventh=!1,f.normalized.intents.alt=!1,e==="max"&&delete f.normalized.bassNote;var E=[yr,Et,Xe];return r(E,f)}var ri=l(3137),ni=l.n(ri),Ir=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Dr={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},ai=ni()(Dr);function ii(e,f,d){var v=d.normalized,E=v.rootNote,R=v.bassNote,U=Nr(E);if(d.normalized.rootNote=Pr(U,e,f),d.formatted.rootNote=d.normalized.rootNote,R){var J=Nr(R);d.normalized.bassNote=Pr(J,e,f),d.formatted.bassNote=d.normalized.bassNote}return Xe(d)}function Pr(e,f,d){var v=Ir.indexOf(e),E=v+f,R=Math.floor(E/12),U=E-R*12,J=Ir[U];return d&&Dr[J]||J}function Nr(e){return ai[e]||e}var tr={german:{Ab:"As",A:"A","A#":"Ais",Bb:"Hes",B:"H",C:"C","C#":"Cis",Db:"Des",D:"D","D#":"Dis",Eb:"Es",E:"E",F:"F","F#":"Fis",Gb:"Ges",G:"G","G#":"Gis"},latin:{Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si",C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#"}},si=Object.keys(tr);function oi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"english",f=arguments.length>1?arguments[1]:void 0,d=e==="auto"?f.input.notationSystem:e;return d==="english"?f:si.includes(d)?(f.formatted.rootNote=tr[d][f.formatted.rootNote],f.formatted.bassNote&&(f.formatted.bassNote=tr[d][f.formatted.bassNote]),f):null}function Rr(e){return e&&e.formatted&&e.formatted.symbol?e.formatted.symbol:null}function ui(e){delete e.parserConfiguration.notationSystems;var f=t()(e),d=Rr(e),v=Cr(e.parserConfiguration),E=v(d);return f.input=E.input,f}function er(e){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},er(e)}function ci(e){return hi(e)||pi(e)||fi(e)||li()}function li(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(e,f){if(e){if(typeof e=="string")return rr(e,f);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return rr(e,f)}}function pi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hi(e){if(Array.isArray(e))return rr(e)}function rr(e,f){(f==null||f>e.length)&&(f=e.length);for(var d=0,v=new Array(f);d<f;d++)v[d]=e[d];return v}function di(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=e.useShortNamings,d=f===void 0?!1:f,v=e.simplify,E=v===void 0?"none":v,R=e.transposeValue,U=R===void 0?0:R,J=e.harmonizeAccidentals,dt=J===void 0?!1:J,Ft=e.useFlats,Jt=Ft===void 0?!1:Ft,Pt=e.printer,ve=Pt===void 0?"text":Pt,ye=e.notationSystem,Ut=ye===void 0?"english":ye,xe=e.customFilters,Bt=xe===void 0?[]:xe;n(Bt);var Nt=[];return["max","core"].includes(E)&&Nt.push(ei.bind(null,E)),(dt||U!==0)&&Nt.push(ii.bind(null,U,Jt)),d&&Nt.push(Ya),Nt.push.apply(Nt,[oi.bind(null,Ut),Vt].concat(ci(Bt))),bi;function bi(_r){if(!mi(_r))return null;var Mr=r(Nt,t()(_r));return ve==="raw"?ui(Mr):Rr(Mr)}}var mi=function(f){return f&&er(f)==="object"&&!f.error&&f.input};let gi=di})(),g})()})});var _n=Ie(mn(),1);var En=Ie(jn(),1),Le=class{constructor(h){let l=/.*?(irealb(?:ook)?):\/\/([^"]*)/.exec(h),r=decodeURIComponent(l[2]).split("===");r.length>1&&(this.name=r.pop()),this.songs=r.map(s=>{try{return new Se(s,l[1]==="irealbook")}catch(t){let a=s.split("="),n=Se.parseTitle(a[0].trim());return console.error(`[ireal-musicxml] [${n}] ${t}`),null}}).filter(s=>s!==null).reduce((s,t)=>{if(s.length>0){let a=(0,En.default)(s[s.length-1].title,t.title);if(a[0][0]===0&&a.every(n=>n[0]===0||n[1].match(/^\d+$/)))return s[s.length-1].cells=s[s.length-1].cells.concat(t.cells),s}return s.push(t),s},[])}},Ge=class{constructor(){this.annots=[],this.comments=[],this.bars="",this.spacer=0,this.chord=null}},ee=class{constructor(h,l="",g=null,r=null){this.note=h,this.modifiers=l,this.over=g,this.alternate=r}},Se=class i{constructor(h,l=!1){if(this.cells=[],this.musicXml="",!h){this.title="",this.composer="",this.style="",this.key="",this.transpose=0,this.groove="",this.bpm=0,this.repeats=0;return}let g=h.split("=");if(l)this.title=i.parseTitle(g[0].trim()),this.composer=i.parseComposer(g[1].trim()),this.style=g[2].trim(),this.key=g[3],this.cells=this.parse(g[5]);else{this.title=i.parseTitle(g[0].trim()),this.composer=i.parseComposer(g[1].trim()),this.style=g[3].trim(),this.key=g[4],this.transpose=+g[5]||0,this.groove=g[7],this.bpm=+g[8],this.repeats=+g[9]||3;let r=g[6].split("1r34LbKcu7");this.cells=this.parse(ki(r[1]))}}static chordRegex=/^([A-G][b#]?)((?:sus|alt|add|[+\-^\dhob#])*)(\*.+?\*)*(\/[A-G][#b]?)?(\(.*?\))?/;static chordRegex2=/^([ Wp])()()(\/[A-G][#b]?)?(\(.*?\))?/;static regExps=[/^\*[a-zA-Z]/,/^T\d\d/,/^N./,/^<.*?>/,i.chordRegex,i.chordRegex2];parse(h){let l=h.trim(),g=[];for(;l;){let a=!1;for(let n=0;n<i.regExps.length;n++){let o=i.regExps[n].exec(l);if(o){a=!0,o.length<=2?(g.push(o[0]),l=l.substring(o[0].length)):(g.push(o),l=l.substring(o[0].length));break}}a||(l[0]!==","&&g.push(l[0]),l=l.substring(1))}let r=[],s=this.newCell(r),t=null;for(let a=0;a<g.length;a++){let n=g[a];switch(Array.isArray(n)&&(s.chord=this.parseChord(n),n=" "),n[0]){case"{":case"[":t&&(t.bars+=")",t=null),s.bars=n,n=null;break;case"|":t&&(t.bars+=")",t=null),s.bars="(",n=null;break;case"]":case"}":case"Z":t&&(t.bars+=n,t=null),n=null;break;case"n":s.chord=new ee(n[0]);break;case",":n=null;break;case"S":case"T":case"Q":case"N":case"U":case"s":case"l":case"f":case"*":s.annots.push(n),n=null;break;case"Y":s.spacer++,n=null,t=null;break;case"r":case"x":case"W":s.chord=new ee(n);break;case"<":n=n.substring(1,n.length-1),s.comments.push(n),n=null;break;default:}n&&a<g.length-1&&(t=s,s=this.newCell(r))}return r}static parseTitle(h){return h.replace(/(.*)(, )(A|The)$/g,"$3 $1")}static parseComposer(h){let l=h.split(/(\s+)/);return l.length===3?l[2]+l[1]+l[0]:h}parseChord(h){let l=h[1]||" ",g=h[2]||"",r=h[3]||"";r&&(g+=r.substring(1,r.length-1));let s=h[4]||"";s[0]==="/"&&(s=s.substring(1));let t=h[5]||null;if(t&&(h=i.chordRegex.exec(t.substring(1,t.length-1)),t=h?this.parseChord(h):null),l===" "&&!t&&!s)return null;if(s){let a=s[1]==="#"||s[1]==="b"?2:1;s=new ee(s.substring(0,a),s.substring(a),null,null)}else s=null;return new ee(l,g,s,t)}newCell(h){let l=new Ge;return h.push(l),l}};function ki(i){let h="",l;for(;i.length>51;)l=i.substring(0,50),i=i.substring(50),h=h+qi(l);return h=h+i,h=h.replace(/Kcl/g,"| x").replace(/LZ/g," |").replace(/XyQ/g,"   "),h}function qi(i){let h=i.split("");for(let l=0;l<5;l++)h[49-l]=i[l],h[l]=i[49-l];for(let l=10;l<24;l++)h[49-l]=i[l],h[l]=i[49-l];return h.join("")}var Nn=Ie(Cn(),1),Rn=Ie(Fn(),1);var Te={name:"ireal-musicxml",version:"2.0.6",description:"iReal Pro to MusicXML converter.",author:"Karim Ratib <karim.ratib@gmail.com> (https://github.com/infojunkie)",license:"GPL-3.0-only",repository:{type:"git",url:"https://github.com/infojunkie/ireal-musicxml"},homepage:"https://github.com/infojunkie/ireal-musicxml",type:"module",types:"./build/ireal-musicxml.d.ts",files:["LICENSE.txt","build/*","src/*"],bin:{"ireal-musicxml":"./src/cli/cli.js"},exports:{import:"./build/ireal-musicxml.js",require:"./build/ireal-musicxml.cjs"},scripts:{build:"npm run build:esm && npm run build:cjs && npm run build:d.ts","build:d.ts":"cp src/types/* build/","build:esm":"esbuild src/lib/index.js --bundle --format=esm --minify --sourcemap --outfile=build/ireal-musicxml.js","build:cjs":"esbuild src/lib/index.js --bundle --platform=node --packages=external --minify --sourcemap --outfile=build/ireal-musicxml.cjs",test:"npm run build && npm run test:lint && npm run test:spec && npm run test:ts","test:spec":'node --test --test-name-pattern="${TEST:-.*}"',"test:ts":"node --test --loader=ts-node/esm --require ts-node/register test/*.spec.ts","test:lint":"eslint src --fix"},devDependencies:{"@types/node":"^22.7.7","@xmldom/xmldom":"^0.8.0",esbuild:"0.24.0",eslint:"^9.13.0",resolve:"^1.22.8","sanitize-filename":"^1.6.3","ts-node":"^10.9.2",typescript:"^4.9.5","validate-with-xmllint":"^1.2.0","xpath.js":"^1.1.0"},dependencies:{"chord-symbol":"^3.0.0","fast-diff":"^1.2.0",jstoxml:"^2.0.6",promise:"^8.1.0"}};var we=class{static name=Te.name;static version=Te.version;static author=Te.author;static description=Te.description};var{chordParserFactory:es,chordRendererFactory:rs}=Rn.default,tt=class{static Debug=0;static Info=1;static Warn=2;static Error=3;static None=4},In="4.0",Dn=7,Pn=40,Be=class i{static defaultOptions={divisions:768,notation:"rhythmic",step:"B",octave:4,notehead:"slash",noteheadSize:"large",date:!0,clef:!1,keySignature:!1,pageWidth:210,pageHeight:297,pageMargin:15,logLevel:tt.Warn};static sequenceAttributes=["divisions","key","time","staves","part-symbol","instruments","clef","staff-details","transpose","directive","measure-style"];static sequenceNote=["cue","pitch","rest","unpitched","duration","tie","voice","type","dot","accidental","time-modification","stem","notehead","notehead-text","staff","beam","notations","lyric","play"];static sequenceNotations=["accidental-mark","arpeggiate","articulations","dynamics","fermata","glissando","non-arpeggiate","ornaments","other-notation","slide","slur","technical","tied","tuplet"];static sequenceBarline=["bar-style","footnote","level","wavy-line","segno","coda","fermata","ending","repeat"];static mapAlter={"#":1,b:-1};static mapFifthsToAlters={sharp:["F","C","G","D","A","E","B"],flat:["B","E","A","D","G","C","F"]};static mapRepeats={"D.C. al Coda":i.prototype.convertDaCapo,"D.C. al Fine":i.prototype.convertDaCapo,"D.C. al 1st End.":i.prototype.convertDaCapo,"D.C. al 2nd End.":i.prototype.convertDaCapo,"D.C. al 3rd End.":i.prototype.convertDaCapo,"D.S. al Coda":i.prototype.convertDalSegno,"D.S. al Fine":i.prototype.convertDalSegno,"D.S. al 1st End.":i.prototype.convertDalSegno,"D.S. al 2nd End.":i.prototype.convertDalSegno,"D.S. al 3rd End.":i.prototype.convertDalSegno,Fine:i.prototype.convertFine,"3x":i.prototype.convertRepeatNx,"4x":i.prototype.convertRepeatNx,"5x":i.prototype.convertRepeatNx,"6x":i.prototype.convertRepeatNx,"7x":i.prototype.convertRepeatNx,"8x":i.prototype.convertRepeatNx};static mapTime={24:{beats:2,beatType:4,beatUnit:1},34:{beats:3,beatType:4,beatUnit:.5},44:{beats:4,beatType:4,beatUnit:1},54:{beats:5,beatType:4,beatUnit:1},64:{beats:6,beatType:4,beatUnit:1},74:{beats:7,beatType:4,beatUnit:1},38:{beats:3,beatType:8,beatUnit:1},58:{beats:5,beatType:8,beatUnit:1},68:{beats:6,beatType:8,beatUnit:1},78:{beats:7,beatType:8,beatUnit:1},98:{beats:9,beatType:8,beatUnit:1},12:{beats:12,beatType:8,beatUnit:3},22:{beats:2,beatType:2,beatUnit:1},32:{beats:3,beatType:2,beatUnit:.5}};static convert(h,l={}){let g=Object.assign({},this.defaultOptions,l);return new i(h,g).convert()}constructor(h,l){this.song=h,this.options=l,this.time={beats:4,beatType:4,beatUnit:1},this.fifths=null,this.measure=null,this.barRepeat=0,this.codas=[],this.repeats=0,this.cellWidth=(this.options.pageWidth-2*this.options.pageMargin)/16,this.parseChord=es({altIntervals:["b5","b9"]}),this.renderChord=rs({useShortNamings:!0,printer:"raw"})}convert(){return Nn.default.toXML(this.convertSong(),{header:`
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE score-partwise PUBLIC "-//Recordare//DTD MusicXML ${In} Partwise//EN" "http://www.musicxml.org/dtds/partwise.dtd">
      `.trim(),indent:"  "})}convertSong(){return{_name:"score-partwise",_attrs:{version:In},_content:[{work:{"work-title":this.song.title}},{identification:[{_name:"creator",_attrs:{type:"composer"},_content:this.song.composer},{encoding:[{software:`@infojunkie/ireal-musicxml ${we.version}`},{...this.options.date&&{"encoding-date":i.convertDate(new Date)}},{_name:"supports",_attrs:{element:"accidental",type:"no"}},{_name:"supports",_attrs:{element:"transpose",type:"no"}},{_name:"supports",_attrs:{attribute:"new-page",element:"print",type:"yes",value:"yes"}},{_name:"supports",_attrs:{attribute:"new-system",element:"print",type:"yes",value:"yes"}}]}]},{defaults:{scaling:{millimeters:Dn,tenths:Pn},"page-layout":{"page-height":i._mmToTenths(this.options.pageHeight),"page-width":i._mmToTenths(this.options.pageWidth),"page-margins":{"left-margin":i._mmToTenths(this.options.pageMargin,4),"right-margin":i._mmToTenths(this.options.pageMargin,4),"top-margin":i._mmToTenths(this.options.pageMargin,4),"bottom-margin":i._mmToTenths(this.options.pageMargin,4)}}}},{"part-list":{_name:"score-part",_attrs:{id:"P1"},_content:{_name:"part-name",_attrs:{"print-object":"no"},_content:"Lead Sheet"}}},{_name:"part",_attrs:{id:"P1"},_content:this.convertMeasures()}]}}static convertDate(h){return new Date(h.getTime()-h.getTimezoneOffset()*6e4).toISOString().split("T")[0]}static Measure=class{constructor(h){this.body={_name:"measure",_attrs:{number:h},_content:[]},this.attributes=[],this.chords=[],this.barlines=[],this.barEnding=null}number(){return this.body._attrs.number}assemble(){return this.attributes.length&&this.body._content.push({attributes:i.reorderSequence(this,this.attributes,i.sequenceAttributes)}),this.chords.forEach(h=>{this.body._content.push({harmony:h.harmony},...h.notes.map(l=>({note:l})))}),this.barlines[0]._content=i.reorderSequence(this,this.barlines[0]._content,i.sequenceBarline),this.body._content.splice(1,0,this.barlines[0]),this.barlines[1]._content=i.reorderSequence(this,this.barlines[1]._content,i.sequenceBarline),this.body._content.push(this.barlines[1]),this.body}};static Chord=class{constructor(h,l,g){this.harmony=h,this.notes=l,this.ireal=g,this.spaces=0,this.fermata=!1,this.short=!1}clone(){let h=new i.Chord(structuredClone(this.harmony),structuredClone(this.notes),structuredClone(this.ireal));return h.spaces=this.spaces,h.fermata=this.fermata,h.short=this.short,h}beats(){return this.short?1:1+this.spaces}};convertMeasures(){let h=a=>a>0&&a%16===0,l=0,g=!1,r=!1,s=this.song.cells.reduce((a,n,o)=>{if((n.bars.match(/\(|\{|\[/)||!this.measure&&(n.chord||n.annots.length||n.comments.length))&&(this.measure&&(this._log(tt.Warn,"Starting a new measure over existing measure. Closing current measure first."),this.measure.barlines.push(this.convertBarline("","right")),this.adjustChordsDuration(this.measure)&&a.push(this.measure)),this.measure=new i.Measure(a.length+1,this.options),a.length||(this.measure.attributes.push({divisions:this.options.divisions},{_name:"clef",_attrs:[{"print-object":this.options.clef?"yes":"no"}],_content:[{sign:"G"},{line:2}]},{"staff-details":{"staff-lines":0}},{"measure-style":[{_name:"slash",_attrs:{type:"start","use-stems":this.options.notation==="rhythmic"?"yes":"no"}}]},this.convertKey()),this.song.bpm&&this.measure.body._content.push(this.convertTempo(this.song.bpm)),this.measure.body._content.push(this.convertStyleAndGroove(this.song.style,this.song.groove))),this.measure.barlines.push(this.convertBarline(n.bars,"left",h(o)||g?"regular":void 0)),this.barRepeat&&(this.measure.chords=a[a.length-this.barRepeat-1].chords.map(u=>u.clone()))),!this.measure)return(n.chord||n.annots.length||n.comments.length||n.bars&&n.bars!==")")&&this._log(tt.Warn,`Found non-empty orphan cell ${JSON.stringify(n)}`,a[a.length-1]),l++,h(o)&&(g=!0),a;if((h(o)||g)&&this.measure.body._content.splice(0,0,{_name:"print",_attrs:{"new-system":"yes"},_content:{...g&&{"system-layout":{"system-margins":[{"left-margin":i._mmToTenths(this.cellWidth*l)},{"right-margin":"0.00"}]}}}}),!g&&l>0&&(this.measure.body._content[0]?._name==="print"&&this.measure.body._content[0]._attrs?.["new-system"]==="yes"?a[a.length-1].body._content.splice(0,0,{_name:"print",_content:{"system-layout":{"system-margins":[{"left-margin":"0.00"},{"right-margin":i._mmToTenths(this.cellWidth*l)}]}}}):this.measure.body._content.splice(0,0,{_name:"print",_content:{"measure-layout":{"measure-distance":i._mmToTenths(this.cellWidth*l)}}})),g=!1,l=0,n.chord)switch(n.chord.note){case"x":{this.barRepeat=1,this.measure.chords=a[a.length-this.barRepeat].chords.map(u=>u.clone());break}case"r":{this.barRepeat=2,this.measure.chords=a[a.length-this.barRepeat].chords.map(u=>u.clone());break}case"p":if(this.measure.chords.length){this.measure.chords[this.measure.chords.length-1].spaces++;break}case"W":{let u=this.measure;if(u.chords.length||(u=a.slice().reverse().find(p=>p.chords.length),u||this._log(tt.Error,`Cannot find any measure with chords prior to ${JSON.stringify(n.chord)}`)),u){let p=u.chords[u.chords.length-1].ireal;p.over=n.chord.over,p.alternate=n.chord.alternate,this.measure.chords.push(this.convertChord(p))}break}case" ":{this._log(tt.Warn,`Unhandled empty/alternate chord ${JSON.stringify(n.chord)}`);break}default:this.measure.chords.push(this.convertChord(n.chord)),this.measure.chords[this.measure.chords.length-1].short=r}else this.barRepeat||this.measure.chords.length&&this.measure.chords[this.measure.chords.length-1].spaces++;return n.annots.forEach(u=>{switch(u[0]){case"*":{let p=u.slice(1);this.measure.body._content.push(this.convertSection(p));break}case"T":{let p=u.slice(1);this.measure.attributes.push(this.convertTime(p));break}case"S":{this.measure.body._content.push(this.convertSegno());break}case"N":{let p=parseInt(u.slice(1));if(p<1&&(p=a.slice().reverse().find(m=>!!m.barEnding)?.barEnding??1),this.measure.barlines[0]._content.push(this.convertEnding(p,"start")),p>1){a[a.length-1].barlines[1]._content.push(this.convertEnding(p-1,"stop"));let c=a.slice().reverse().find(m=>m.barEnding===p-1);if(!c)this._log(tt.Error,`Cannot find ending ${p-1} in right barline of any measure`);else{let m=c.barlines[1]._content.findIndex(b=>!!b&&b._name==="ending");m===-1&&this._log(tt.Error,`Cannot find ending ${p-1} in right barline`,c),delete c.barlines[1]._content[m]}}this.measure.barEnding=p;break}case"Q":{this.measure.body._content.push(this.convertToCoda()),this.codas.push(this.measure);break}case"l":{this.measure.chords.length&&(this.measure.chords[this.measure.chords.length-1].short=!1),r=!1;break}case"s":{this.measure.chords.length&&(this.measure.chords[this.measure.chords.length-1].short=!0),r=!0;break}case"f":{this.measure.chords[this.measure.chords.length-1].fermata=!0;break}case"U":{this.measure.body._content.push(this.convertFine("END"));break}default:this._log(tt.Warn,`Unhandled annotation "${u}"`)}}),n.comments.map(u=>u.trim()).forEach(u=>{let p=this._map(i.mapRepeats,u);p?this.measure.body._content.push(p.call(this,u)):this.measure.body._content.push(this.convertComment(u))}),n.bars.match(/\)|\}|\]|Z/)&&this.measure.chords.length&&(this.measure.barlines.push(this.convertBarline(n.bars,"right")),this.measure.barEnding&&this.measure.barlines[1]._content.push(this.convertEnding(this.measure.barEnding,"discontinue")),this.adjustChordsDuration(this.measure)&&a.push(this.measure),this.measure=null,this.barRepeat&&this.barRepeat--),a},[]),t=this.song.cells.length%16-l;if(t>0&&s.length>0&&s[s.length-1].body._content.splice(0,0,{_name:"print",_content:{"system-layout":{"system-margins":[{"left-margin":"0.00"},{"right-margin":i._mmToTenths(this.cellWidth*t)}]}}}),this.codas.length){let a=this.codas[this.codas.length-1],n=a.body._content.findIndex(o=>o._name==="direction"&&Array.isArray(o._content)&&o._content.some(u=>u._name==="sound"&&Object.keys(u._attrs).includes("tocoda")));n===-1&&this._log(tt.Warn,"Cannot find sound direction",a),a.body._content[n]=this.convertCoda()}return s.map(a=>a.assemble())}static reorderSequence(h,l,g){return l.filter(r=>Object.keys(r).length).sort((r,s)=>{let t=Object.keys(r)[0];t==="_name"&&(t=r[t]);let a=Object.keys(s)[0];a==="_name"&&(a=s[a]);let n=g.indexOf(t),o=g.indexOf(a);return n===-1&&this._log(tt.Warn,`Unrecognized element "${t}"`,h),o===-1&&this._log(tt.Warn,`Unrecognized element "${a}"`,h),n-o})}convertRepeatNx(h){let l=null;(l=h.match(/(\d+)x/))!==null&&(this.repeats=l[1])}convertFine(h){return{_name:"direction",_attrs:{placement:"below"},_content:[{"direction-type":{words:h}},{_name:"sound",_attrs:{fine:"yes"}}]}}convertDaCapo(h){return{_name:"direction",_attrs:{placement:"below"},_content:[{"direction-type":{words:h}},{_name:"sound",_attrs:{dacapo:"yes"}}]}}convertDalSegno(h){return{_name:"direction",_attrs:{placement:"below"},_content:[{"direction-type":{words:h}},{_name:"sound",_attrs:{dalsegno:"yes"}}]}}convertComment(h){return{_name:"direction",_attrs:{placement:h[0]==="*"?"above":"below"},_content:{"direction-type":{words:h[0]==="*"?h.slice(3):h}}}}convertEnding(h,l){return{_name:"ending",_attrs:{number:h,type:l},_content:`${h}.`}}convertBarline(h,l,g=void 0){let r=l==="left"?"none":"regular",s=null;return h.match(/\[|\]/)?r="light-light":h.match(/Z/)?r="light-heavy":h.match(/\{|\}/)&&(r=l==="left"?"heavy-light":"light-heavy",s=l==="left"?"forward":"backward"),s==="forward"&&(this.repeats=2),{_name:"barline",_attrs:{location:l},_content:[{"bar-style":g??r},{...s&&{_name:"repeat",_attrs:{direction:s,...s==="backward"&&{times:this.repeats}}}}]}}convertSection(h){return h==="i"&&(h="Intro"),{_name:"direction",_attrs:{placement:"above"},_content:{"direction-type":{rehearsal:h}}}}convertSegno(){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":{_name:"segno"}},{_name:"sound",_attrs:{segno:"segno"}}]}}convertCoda(){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":{_name:"coda"}},{_name:"sound",_attrs:{coda:"coda"}}]}}convertToCoda(){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":{words:"To Coda"}},{_name:"sound",_attrs:{tocoda:"coda"}}]}}convertTempo(h){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{_name:"metronome",_attrs:{parentheses:"no"},_content:[{"beat-unit":this.calculateChordDuration(1)[0].type},{"per-minute":h}]}]},{_name:"sound",_attrs:{tempo:h}}]}}convertTime(h){return this.time=this._map(i.mapTime,h,{beats:parseInt(h[0]),beatType:parseInt(h[1]),beatUnit:1},`Unexpected time signature ${h}`),{time:[{beats:this.time.beats},{"beat-type":this.time.beatType}]}}adjustChordsDuration(h){if(h.chords.length>this.time.beats)return this._log(tt.Error,`Too many chords (${h.chords.length} out of ${this.time.beats})`,h),!0;let l=h.chords.reduce((g,r)=>g+r.beats()*this.time.beatUnit,0);if(!l)return this._log(tt.Warn,"No chord found. Skipping current measure.",h),!1;if(l>this.time.beats){let g=0;for(;l>this.time.beats;)h.chords[g].spaces>0&&(h.chords[g].spaces--,l-=this.time.beatUnit),g=(g+1)%h.chords.length}else{let g=0,r=!1;for(;l<this.time.beats;)if(h.chords[g].short||(h.chords[g].spaces++,l+=this.time.beatUnit,r=!0),g=(g+1)%h.chords.length,g===0&&!r){this._log(tt.Warn,"Cannot add more beats to the current measure.",h);break}}return h.chords=h.chords.map(g=>(g.notes=this.calculateChordDuration(g.beats()*this.time.beatUnit).map((r,s,t)=>this.convertChordNote(r,s===t.length-1?g.fermata:!1,this.options.notation==="rhythmic"&&t.length>1?s>0?"stop":"start":null)),g)),!0}calculateChordDuration(h){let l={1:[{t:"eighth",d:0,b:1}],2:[{t:"quarter",d:0,b:2}],3:[{t:"quarter",d:1,b:3}],4:[{t:"half",d:0,b:4}],5:[{t:"quarter",d:1,b:3},{t:"quarter",d:0,b:2}],6:[{t:"half",d:1,b:6}],7:[{t:"half",d:2,b:7}],8:[{t:"whole",d:0,b:8}],9:[{t:"half",d:1,b:6},{t:"quarter",d:1,b:3}],10:[{t:"half",d:1,b:6},{t:"half",d:0,b:4}],11:[{t:"half",d:2,b:7},{t:"half",d:0,b:4}],12:[{t:"whole",d:1,b:12}],13:[{t:"half",d:2,b:7},{t:"half",d:1,b:6}],14:[{t:"whole",d:2,b:14}],15:[{t:"whole",d:0,b:8},{t:"half",d:2,b:7}]};if(this.options.notation==="slash"){let g=8/this.time.beatType;return Array(h).fill(this._map(l,g,[],`Unexpected beat count 1 for time signature ${this.time.beats}/${this.time.beatType}`).map(r=>({duration:r.b*this.options.divisions/2,type:r.t,dots:r.d}))[0])}else{let g=h*8/this.time.beatType;return this._map(l,g,[],`Unexpected beat count ${h} for time signature ${this.time.beats}/${this.time.beatType}`).map(r=>({duration:r.b*this.options.divisions/2,type:r.t,dots:r.d}))}}convertChordNote(h,l=!1,g=null){let r=i.mapFifthsToAlters[this.fifths>=0?"sharp":"flat"].slice(0,Math.abs(this.fifths)),s={_name:"pitch",_content:[{step:this.options.step},{alter:r.includes(this.options.step)?this.fifths>0?1:-1:0},{octave:this.options.octave}]},t=[];return l&&t.push({_name:"fermata"}),g&&t.push({_name:"tied",_attrs:{type:g}}),i.reorderSequence(this.measure,[s,{_name:"cue"},{_name:"notehead",_content:this.options.notehead,_attrs:[{"font-size":this.options.noteheadSize}]},{duration:h.duration},{voice:1},{_name:"type",_attrs:{size:"full"},_content:h.type},{...t.length&&{notations:i.reorderSequence(this.measure,t,i.sequenceNotations)}}].concat(Array(h.dots).fill({_name:"dot"})),i.sequenceNote)}convertChordDegree(h,l,g){return{_name:"degree",_attrs:{"print-object":"no"},_content:[{"degree-value":h},{"degree-alter":g},{"degree-type":l}]}}convertChordSymbol(h){let l=this.renderChord(this.parseChord(`${h.note}${h.modifiers}`));if(!l)return this._log(tt.Warn,`Unrecognized chord "${h.note}${h.modifiers}"`),{rootStep:null,rootAlter:null,chordKind:null,chordDegrees:[],chordText:null};let g=l.input.rootNote[0],r=this._map(i.mapAlter,l.input.rootNote[1]||null,null,`Unrecognized accidental in chord "${l.input.rootNote}"`),s=l.formatted.descriptor+l.formatted.chordChanges.join(""),t={major:"major",major6:"major-sixth",major7:"major-seventh",dominant7:"dominant",minor:"minor",minor6:"minor-sixth",minor7:"minor-seventh",minorMajor7:"major-minor",augmented:"augmented",diminished:"diminished",diminished7:"diminished-seventh",power:"power"},a=this._map(t,l.normalized.quality,"",`Unrecognized chord quality "${l.normalized.quality}"`);if(l.normalized.extensions.length){let o=Math.max(...l.normalized.extensions.map(p=>parseInt(p))).toString(),u={9:"-ninth",11:"-11th",13:"-13th"};a=a.split("-")[0]+this._map(u,o,"",`Unhandled extension ${o}`),a==="dominant-11th"&&(l.normalized.isSuspended=!1)}[{intervals:["1","4","5"],kind:"suspended-fourth",strict:!0},{intervals:["1","5","9"],kind:"suspended-second",strict:!0},{intervals:["1","b3","b5","b7"],kind:"half-diminished",strict:!0},{intervals:["1","3","#5","b7"],kind:"augmented-seventh",strict:!1}].some(o=>{if((!o.strict||l.normalized.intervals.length===o.intervals.length)&&o.intervals.every((u,p)=>u===l.normalized.intervals[p]))return a=o.kind,o.intervals.forEach(u=>{l.normalized.alterations=l.normalized.alterations.filter(p=>p===u),l.normalized.adds=l.normalized.adds.filter(p=>p===u),l.normalized.omits=l.normalized.omits.filter(p=>p===u)}),l.normalized.intervals.forEach(u=>{o.intervals.includes(u)||l.normalized.adds.push(u)}),!0});let n=[];return l.normalized.isSuspended&&!a.includes("suspended")&&(l.normalized.adds.push("4"),l.normalized.adds.includes("3")||l.normalized.omits.push("3")),l.normalized.alterations.forEach(o=>{let u=o.slice(1);n.push(this.convertChordDegree(u,u==="5"||l.normalized.extensions.includes(u)?"alter":"add",this._map(i.mapAlter,o[0],0,`Unrecognized alter symbol in "${o}"`)))}),l.normalized.adds.forEach(o=>{let u=Object.keys(i.mapAlter).includes(o[0])?o[0]:null,p=u?o.slice(1):o;n.push(this.convertChordDegree(p,"add",this._map(i.mapAlter,u,0,`Unrecognized alter symbol in "${o}"`)))}),l.normalized.omits.forEach(o=>{let u=Object.keys(i.mapAlter).includes(o[0])?o[0]:null,p=u?o.slice(1):o;n.push(this.convertChordDegree(p,"subtract",this._map(i.mapAlter,u,0,`Unrecognized alter symbol in "${o}"`)))}),{rootStep:g,rootAlter:r,chordKind:a,chordDegrees:n,chordText:s}}convertChord(h){let l=null;if(h.note==="n")l=[{root:[{_name:"root-step",_attrs:{text:""},_content:this.options.step}]},{_name:"kind",_attrs:{text:"N.C."},_content:"none"}];else{let{rootStep:g,rootAlter:r,chordKind:s,chordDegrees:t,chordText:a}=this.convertChordSymbol(h),n=h.over?[{"bass-step":h.over.note[0]},{...h.over.note[1]&&{"bass-alter":this._map(i.mapAlter,h.over.note[1],null,`Unrecognized accidental in bass note "${h.over.note}"`)}}]:null;l=[{root:[{"root-step":g},{...r&&{"root-alter":r}}]},{_name:"kind",_attrs:{text:a,"use-symbols":"no"},_content:s},{...n&&{bass:n}}].concat(t)}return h.alternate&&this._log(tt.Warn,`Unhandled alternate chord ${JSON.stringify(h.alternate)}`),new i.Chord(l,this.calculateChordDuration(1).map(g=>this.convertChordNote(g)),h)}convertKey(){let h={C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,"C#":7,F:-1,Bb:-2,Eb:-3,Ab:-4,Db:-5,Gb:-6,Cb:-7,"A-":0,"E-":1,"B-":2,"F#-":3,"C#-":4,"G#-":5,"D#-":6,"A#-":7,"D-":-1,"G-":-2,"C-":-3,"F-":-4,"Bb-":-5,"Eb-":-6,"Ab-":-7};return this.fifths=this._map(h,this.song.key,0,`Unrecognized key signature "${this.song.key}"`),{_name:"key",_attrs:[{"print-object":this.options.keySignature?"yes":"no"}],_content:[{fifths:this.fifths},{mode:this.song.key.slice(-1)==="-"?"minor":"major"}]}}convertStyleAndGroove(h,l){return{_name:"direction",_attrs:{placement:"above"},_content:[{"direction-type":[{words:h}]},{sound:[{play:[{_name:"other-play",_attrs:{type:"groove"},_content:l||h}]}]}]}}_log(h,l,g=this.measure){if(h<this.options.logLevel)return;let r=`[ireal-musicxml] [${this.song.title}${g?"#"+g.number():""}] ${l}`,s="warn";switch(h){case tt.Debug:s="debug";break;case tt.Info:s="info";break;case tt.Warn:s="warn";break;case tt.Error:s="error";break}console[s](r)}_map(h,l,g,r,s=tt.Warn,t=this.measure){return l?l in h?h[l]:(r&&this._log(s,r,t),g||null):g}static _mmToTenths(h,l=2){let g=h*Pn/Dn,r=Math.pow(10,l);return Math.round(g*r)/r}};function ns(i,h={}){let l=new Le(i);return l.songs.forEach(g=>{g.musicXml=Be.convert(g,h)}),l}async function Cs(i,h={}){return new _n.default(l=>l(ns(i,h)))}export{Ge as Cell,ee as Chord,Be as Converter,tt as LogLevel,Le as Playlist,Se as Song,we as Version,Cs as convert,ns as convertSync};
//# sourceMappingURL=ireal-musicxml.js.map
